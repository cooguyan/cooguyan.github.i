<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[åˆ¶ä½œraspbianæœ€å°é•œåƒ]]></title>
    <url>%2F2019%2F03%2F19%2F%E5%88%B6%E4%BD%9Craspbian%E6%9C%80%E5%B0%8F%E9%95%9C%E5%83%8F%2F</url>
    <content type="text"><![CDATA[ä¸ºäº†é¿å…å‘ç”Ÿæ„å¤–ä»Žå¤´å†æ¥ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¤‡ä»½ä¸€ä¸‹çš„å¥½ã€‚æŸ¥äº†å¾ˆå¤šç½‘ä¸Šèµ„æ–™ï¼Œå‘çŽ°å¹¶ä¸æ˜¯ç”¨ä¸ªè½¯ä»¶ç®€å•ç²—æš´å°±èƒ½å¤‡ä»½çš„ã€‚å› æ­¤æˆ‘è§‰å¾—æœ‰å¿…è¦å­¦ä¹ ä¸€ä¸‹ã€‚]]></content>
      <categories>
        <category>æ ‘èŽ“æ´¾</category>
      </categories>
      <tags>
        <tag>æ ‘èŽ“æ´¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pycharm2018_2è¿œç¨‹å¼€å‘æ ‘èŽ“æ´¾å°è®°]]></title>
    <url>%2F2019%2F03%2F19%2FPycharm2018_2%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%8F%91%E6%A0%91%E8%8E%93%E6%B4%BE%E5%B0%8F%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[è€ƒè™‘åˆ°è¿œç¨‹è°ƒè¯•çš„éœ€è¦ï¼Œæˆ‘è¿˜æ˜¯æ”¾å¼ƒvscodeåŽ»ä½¿ç”¨Pycharmäº†ã€‚å·¥å…·è¿˜æ˜¯ä¸“ä¸šçš„å¥½ã€‚ä¸‹é¢ä¸»è¦è¯´ä¸€ä¸‹pycharmæ€Žä¹ˆè¿žæŽ¥pipenvåˆ›å»ºçš„è™šæ‹ŸçŽ¯å¢ƒã€‚ å…³äºŽpycharmæ€Žä¹ˆè¿œç¨‹å¼€å‘ï¼Œæˆ‘æŸ¥äº†å¾ˆå¤šèµ„æ–™ å¯¹æˆ‘æœ€æœ‰ç”¨çš„æ˜¯è¿™ä½ä½œè€…çš„æ–‡ç« :pythonå­¦ä¹ ç¬”è®°-Pycharmè¿œç¨‹è¿žæŽ¥æœåŠ¡å™¨çš„Pythonè™šæ‹ŸçŽ¯å¢ƒ(Virtualenv)ä¹‹å‰çœ‹çš„å¾ˆå¤šæ–‡ç« æ²¡æœ‰ææ€Žä¹ˆè¿žæŽ¥pythonè™šæ‹ŸçŽ¯å¢ƒï¼Œè¿™ç¯‡æ–‡ç« è®©æˆ‘æŠ“ä½äº†é‡ç‚¹ï¼šè¦æ‰¾åˆ°è™šæ‹ŸçŽ¯å¢ƒä¸‹çš„pythonè·¯å¾„ï¼Œç†è§£äº†è¿™ä¸ªä¹‹åŽæˆ‘åœ¨è¿™ä¸€æ­¥å°±ä¸Žæ•™ç¨‹ä¸åŒäº†ï¼š é€šè¿‡è¿™ç¯‡æ–‡ç« æˆ‘çŸ¥é“pipenvæ‰€åˆ›å»ºçš„è™šæ‹ŸçŽ¯å¢ƒåœ¨å“ªé‡Œäº†ã€‚æˆ‘æ‰€ä½¿ç”¨çš„interpreter è·¯å¾„å¦‚ä¸‹ï¼š1/home/pi/.local/share/virtualenvs/smhonraspi-8yb1O5dD/bin/python3 ä½¿ç”¨è™šæ‹ŸçŽ¯å¢ƒå¯ä»¥è®©æˆ‘æ›´å¥½çš„ç®¡ç†å®‰è£…çš„åŒ…ï¼Œå¹¶ä¸”ä¿®æ”¹åŒ…å†…æ–‡ä»¶ä¸å†éœ€è¦rootæƒé™ã€‚æˆ‘å¾€é‡Œé¢å¤åˆ¶æ–‡ä»¶çš„æ—¶å€™å¯ä»¥ç›´æŽ¥ç”¨å¯è§†åŒ–çš„å·¥å…·å¾€é‡Œé¢æ‹–ï¼Œè€Œä¸å¿…ä½¿ç”¨sudo cp å‘½ä»¤]]></content>
      <categories>
        <category>æ ‘èŽ“æ´¾</category>
      </categories>
      <tags>
        <tag>æ ‘èŽ“æ´¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RaspbianLiteç‰ˆä½¿ç”¨å°è®°]]></title>
    <url>%2F2019%2F03%2F19%2FRaspbianLite%E7%89%88%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©ç»™æ ‘èŽ“æ´¾å®‰è£…äº†raspbian liteç‰ˆç³»ç»Ÿã€‚åŽŸæœ¬çš„with desktop ç‰ˆæœ¬ä¹±ä¸ƒå…«ç³Ÿçš„è½¯ä»¶å¾ˆå¤šï¼Œä½“ç§¯ä¹Ÿå¾ˆå¤§ã€‚ä¸‹é¢è®°å½•ä¸€ä¸‹ä»Žå®‰è£…åˆ°ä½¿ç”¨çš„è¿‡ç¨‹å’Œä½“éªŒã€‚ ç³»ç»Ÿå®‰è£…ä¸‹è½½é“¾æŽ¥ä¸‹è½½çš„æ—¶å€™æ³¨æ„ä¸è¦é€‰é”™ï¼Œå¦‚å›¾ï¼šå…·ä½“å®‰è£…è¿‡ç¨‹ç•¥ å¼€æœºåŽçš„å‡†å¤‡Liteç‰ˆçš„raspbianæ˜¯æ²¡æœ‰æ¡Œé¢çš„ï¼Œæ‰€æœ‰çš„é…ç½®éƒ½åªèƒ½é€šè¿‡å‘½ä»¤è¡Œäº†ï¼Œæ­£å¥½å†ç»ƒä¹ ä¸€ä¸‹ã€‚ä¸ºäº†ç»™åŽç»­å®‰è£…è½¯ä»¶å’ŒpythonåŒ…åšå‡†å¤‡ï¼Œéœ€è¦å…ˆå®Œæˆä¸‹é¢çš„æ­¥éª¤ æ›´æ¢é»˜è®¤å¯†ç è¿žæŽ¥WiFiå’Œæ¿€æ´»SSHåˆšè£…å¥½çš„æ ‘èŽ“æ´¾é»˜è®¤æ˜¯å…³é—­SSHçš„ï¼Œå¿…é¡»è¿žä¸Šæ˜¾ç¤ºå™¨å’Œé”®ç›˜åŽ»æ”¹é…ç½®ã€‚åŒæ—¶å¯ä»¥é¡ºä¾¿æŠŠå…¶ä»–è¦ç”¨çš„é€‰é¡¹æ‰“å¼€æ¯”å¦‚SPIï¼ŒGPIOÂ·Â·Â·å‘½ä»¤ï¼šraspi-config ç»™APTæ¢æº è¦æ³¨æ„ç³»ç»Ÿç‰ˆæœ¬ï¼Œæœ€æ–°ç‰ˆåº”è¯¥ç”¨stretchçš„æºã€‚ç½‘ä¸Šå¥½å¤šæ•™ç¨‹éƒ½è¿‡æ—¶äº†ï¼Œè¿˜æœ‰ç”¨wheezyå’Œjessieç‰ˆæœ¬çš„å‘¢ å®˜æ–¹æ”¯æŒçš„æºåˆ—è¡¨æˆ‘ç”¨çš„æ˜¯æ¸…åŽçš„æº å› ä¸ºæ¸…åŽçš„ç½‘ç«™åšçš„å¥½çœ‹å¾ˆé è°±çš„æ ·å­ å› ä¸ºraspbianæ²¡æœ‰é¢„è£…vimï¼Œviåˆä¸å¥½ç”¨ï¼Œæ‰€ä»¥æˆ‘ç”¨nanoæ‰“å¼€é…ç½®æ–‡ä»¶ï¼ŒçŽ°åœ¨ä¿®æ”¹ç¬¬ä¸€ä¸ªé…ç½®æ–‡ä»¶ sources.listï¼š1sudo nano /etc/apt/sources.list ç„¶åŽæŠŠä¸‹é¢ä¸¤è¡Œæ”¾è¿›åŽ»ï¼Œæ–‡ä»¶ä¸­åŽŸæ¥çš„å†…å®¹è¦ä¹ˆåŠ #æ³¨é‡Šï¼Œè¦ä¹ˆåˆ æŽ‰ã€‚ ä¿å­˜å‘½ä»¤ä¸º ctrl+O ï¼Œå†æŒ‰ä¸€æ¬¡enterå³å¯ã€‚å®ŒæˆåŽæŒ‰ ctrl+Xé€€å‡º12deb https://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpideb-src https://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi å°ç»†èŠ‚ï¼šæˆ‘è¿™é‡Œçš„æºç”¨çš„æ˜¯httpsåè®®ã€‚ä¸€äº›è€ç‰ˆæœ¬çš„æ•™ç¨‹éƒ½æ˜¯httpåè®®ï¼Œç„¶åŽä¼šå‘Šè¯‰ä½ å¦‚æžœéœ€è¦httpsåè®®åˆ™éœ€è¦äº‹å…ˆå®‰è£… apt-transport-httpsåŒ…ã€‚äº‹å®žæ˜¯æ ‘èŽ“æ´¾å·²ç»å†…ç½®äº†è¿™ä¸ªåŒ…ï¼Œä¸éœ€è¦è‡ªå·±è£…äº† ç¬¬äºŒä¸ªé…ç½®æ–‡ä»¶ raspi.list1sudo nano /etc/apt/sources.list.d/raspi.list ç”¨å¦‚ä¸‹å†…å®¹æ›¿æ¢åŽŸæ¥çš„å†…å®¹ï¼š12deb https://mirror.tuna.tsinghua.edu.cn/raspberrypi/ stretch main uideb-src https://mirror.tuna.tsinghua.edu.cn/raspberrypi/ stretch main ui ç»™pipæ¢æºpipæ˜¯ä¸€ä¸ªpythonåŒ…ç®¡ç†å·¥å…·ï¼Œ å®ƒä¸æ¢æºä¹Ÿæ˜¯æ¯”è¾ƒæ…¢ã€‚è¿™ä¸ªæ¢æºçš„æ—¶å€™æœ‰äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚é¦–å…ˆæ ¹æ®è¿™æ ·çš„æ•™ç¨‹æ¥æ›´æ¢æºçš„æ—¶å€™ï¼Œåªè¦åœ¨globalä¸‹çš„æºé“¾æŽ¥ä½¿ç”¨httpsåè®®ï¼Œé‚£ä¹ˆå°±ä¸ç”¨å†™trusted-host=xxx,åä¹‹å¦‚æžœæ²¡æœ‰ç”¨httpåˆæ²¡æœ‰è®¾ç½® trusted-hostçš„è¯ï¼Œåœ¨ç”¨pipçš„æ—¶å€™ä¼šæŠ¥é”™ï¼š The repository located at mirrors.aliyun.com is not a trusted or secure host and is being ignored. If this repository is available via HTTPS we recommend you use HTTPS instead, otherwise you may silence this warning and allow it anyway with â€˜â€“trusted-host mirrors.aliyun.comâ€™. å…¶æ¬¡ï¼Œè¿™æ ·çš„æ¢æºæ–¹æ³•åªèƒ½é’ˆå¯¹ä¸€ä¸ªç”¨æˆ·ï¼Œå¦‚æžœæ˜¯åœ¨piç”¨æˆ·çš„ç›®å½•ä¸‹å®‰è£…çš„ï¼Œé‚£ä¹ˆç”¨sudoçš„æ—¶å€™å°±æ²¡æ•ˆæžœã€‚æˆ‘ç›®å‰å¹¶ä¸çŸ¥æ€Žä¹ˆä½œç”¨äºŽå…¨å±€ï¼Œå› æ­¤ä¸¤ä¸ªç”¨æˆ·éƒ½æ”¹äº†å°±è¡Œã€‚é‚£ä¹ˆå¼•å‡ºäº†ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼Œæ ‘èŽ“æ´¾é»˜è®¤é”å®šrootï¼Œæ²¡æœ‰rootä»€ä¹ˆè¿›ä¸äº†rootæ–‡ä»¶å¤¹ã€‚æˆ‘å°è¯•åŠ äº†sudo ç»“æžœæŠ¥å‘½ä»¤æ²¡æ‰¾åˆ°ï¼šé‚£ä¹ˆåªèƒ½å¼€å¯rootç”¨æˆ·;12sudo passwd rootsudo passwd --unlock root åˆ†åˆ«åœ¨pi å’Œ root ç›®å½•ä¸‹ è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š1234mkdir .pipcd .piptouch pip.confnano pip.conf å°†ä¸‹é¢çš„å†…å®¹å†™å…¥å¹¶ä¿å­˜ï¼š 12[global]index-url = https://pypi.tuna.tsinghua.edu.cn/simple/ å¸¸ç”¨æºåˆ—è¡¨ï¼š é˜¿é‡Œäº‘ http://mirrors.aliyun.com/pypi/simple/ ä¸­å›½ç§‘æŠ€å¤§å­¦ https://pypi.mirrors.ustc.edu.cn/simple/ è±†ç“£(douban) http://pypi.douban.com/simple/ æ¸…åŽå¤§å­¦ https://pypi.tuna.tsinghua.edu.cn/simple/ ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ http://pypi.mirrors.ustc.edu.cn/simple/ å®‰è£… vimæºä¹Ÿéƒ½æ¢è¿‡äº†ï¼ŒçŽ°åœ¨å®‰è£…ä¸€ä¸ªvimä½“éªŒä¸€ä¸‹ç½‘é€Ÿï¼šé¦–å…ˆæŠŠæºæ›´æ–°ä¸€ä¸‹ï¼Œé¡ºä¾¿å‡çº§ä¸€ä¸‹ç³»ç»Ÿè½¯ä»¶ï¼š12sudo apt-get updatesudo apt-get upgrade æ¢å®Œaptæºä¸€å®šè¦è¿›è¡Œä¸Šé¢çš„æ“ä½œï¼Œä¸ç„¶ä¸‹è½½è½¯ä»¶ä¼šæœ‰é—®é¢˜ã€‚1sudo apt-get vim æ–°æœºå™¨çš„å‰æœŸå‡†å¤‡åŸºæœ¬åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œä¸‹é¢å®‰è£…ä¸ªäººè½¯ä»¶çš„æ—¶é—´äº† è½¯ä»¶å®‰è£…ä¸ªäººç¬”è®°ï¼šä¸ºäº†å¼€å‘æ™ºèƒ½éŸ³ç®±é¡¹ç›®æˆ‘éœ€è¦å®‰è£…çš„è½¯ä»¶æœ‰ï¼šå®‰è£…åˆ—è¡¨ï¼š å®‰è£…git :sudo apt-get install -y git å®‰è£…pip:å®˜æ–¹æ•™ç¨‹ pipenv ï¼šsudo pip3 install pipenv python3-dev:sudo apt-get install python3-dev å› ä¸ºå®‰è£…spidevçš„æ—¶å€™æŠ¥ç¼ºåŒ…äº† respeakeré©±åŠ¨ï¼šå®˜æ–¹æ•™ç¨‹ å®‰è£…NumPyï¼špip install numpy, æˆ‘æŠŠå®ƒæ”¾åœ¨è™šæ‹ŸçŽ¯å¢ƒé‡Œäº† å®‰è£…swig: sudo apt-get install -y swigä¸ç„¶å®‰è£… pocketsphinxçš„æ—¶å€™ä¼šæŠ¥é”™ å®‰è£…libpulseï¼šsudo apt-get install libpulse-dev åŽŸå› åŒä¸Š å®‰è£…libasound2-dev: sudo apt-get install libasound2-dev åŒä¸Š å®‰è£…pocketsphinx install åŽé¢åŠ ä¸€ä¸ª -y å‚æ•°å¯ä»¥ç»™é€‰é¡¹è‡ªåŠ¨é€‰YES å¦ï¼špipenvçš„lockè¿‡ç¨‹å¤ªæ…¢éƒ½è¯´pipenvå„ç§ç‰›é€¼ï¼Œæ‰€ä»¥å°±å°è¯•ç”¨äº†å®ƒã€‚ä½†æ˜¯æœ‰ä¸ªè¶…çº§æ— å¥ˆçš„é—®é¢˜ï¼Œå®ƒåœ¨lockçš„æ—¶å€™å¤ªæ…¢å¤ªæ…¢äº†ã€‚å®˜æ–¹è¯´æ˜¯ä¼˜åŒ–é—®é¢˜ï¼Œæ­£åœ¨è§£å†³ï¼Œåˆ°2019å¹´äº†è¿˜æ²¡è§£å†³ã€‚çŽ°åœ¨é‡‡ç”¨ç½‘å‹çš„æ–¹æ¡ˆï¼šå…ˆè£…ä¸Šï¼ŒåŽlock12pipenv install --skip-lock packetnamepipenv lock å®‰è£…pocketsphinxå‡ºé”™æ±‡æ€» ç¼ºå°‘swig ç¼ºå°‘libasound2-dev ç¼ºå°‘numpyåŒ… è¿è¡Œledç¯ç¤ºä¾‹ä¼šæŠ¥é”™123456Traceback (most recent call last): File "/home/pi/smhonraspi/4mics_hat/pixels.py", line 11, in &lt;module&gt; from alexa_led_pattern import AlexaLedPattern File "/home/pi/smhonraspi/4mics_hat/alexa_led_pattern.py", line 18, in &lt;module&gt; import numpyImportError: No module named 'numpy' Liteç‰ˆå±…ç„¶ä¹Ÿæ²¡æœ‰numpyï¼ŒçœŸæ˜¯ç²¾ç®€å•Šï¼Œæ¡Œé¢ç‰ˆåŸºæœ¬å·²ç»é¢„è£…äº† æ‰§è¡Œè¿™æ¡å‘½ä»¤çš„æ—¶å€™æŠ¥é”™äº†1sudo pip3 install spidev gpiozero è§£å†³æ–¹æ¡ˆæ˜¯ï¼š1sudo apt-get install python3-dev ä»¥ä¸Šã€‚]]></content>
      <categories>
        <category>æ ‘èŽ“æ´¾</category>
      </categories>
      <tags>
        <tag>æ ‘èŽ“æ´¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨shadowsocksè®©æ ‘èŽ“æ´¾ç¿»å¢™]]></title>
    <url>%2F2019%2F03%2F17%2F%E4%BD%BF%E7%94%A8shadowsocks%E8%AE%A9%E6%A0%91%E8%8E%93%E6%B4%BE%E7%BF%BB%E5%A2%99%2F</url>
    <content type="text"><![CDATA[å› ä¸ºæ ‘èŽ“æ´¾é»˜è®¤ä½¿ç”¨å›½å¤–çš„æºï¼Œè½¯ä»¶åŒ…ä¸‹è½½çš„ç‰¹åˆ«æ…¢ååˆ†å½±å“ä½“éªŒã€‚é¦–é€‰å½“ç„¶æ˜¯æ¢æºï¼Œç®€å•ä¸èŠ±é’±ã€‚ç„¶è€Œæˆ‘å› ä¸ºä¹°äº†ssæœåŠ¡ï¼Œæ‰€ä»¥ä¸èƒ½æµªè´¹å•Šã€‚å¦å¤–ï¼Œèƒ½ä¸èƒ½å®‰è£…å¥½è¿™ä¸ªè·Ÿæ˜¯ä¸æ˜¯æ ‘èŽ“æ´¾ä¹Ÿæ— å…³ï¼Œåªè¦æ˜¯ Debian / Ubuntu ç³»ç»Ÿå°±è¡Œ å‘½ä»¤è¡Œå®¢æˆ·ç«¯å®‰è£…12pip install git+https://github.com/shadowsocks/shadowsocks.git@mastersudo apt-get install proxychains é…ç½®ssåœ¨ç›®å½• etc ä¸‹åˆ›å»ºæ–‡ä»¶ shadowsocks.json1sudo vim /etc/shadowsocks.json 12345678910&#123; "server":"æœåŠ¡å™¨ IPæˆ–åŸŸå", "server_port":ç«¯å£å·, "local_address":"127.0.0.1", "local_port":1080, "password":"å¯†ç ", "timeout":300, "method":"åŠ å¯†æ–¹å¼ (chacha20-ietf-poly1305 / aes-256-cfb)", "fast_open":false&#125; ç„¶åŽæˆ‘è§‰å¾—å¾ˆæœ‰å¿…è¦è®©å®ƒå¼€æœºå¯åŠ¨ 1sudo vim /etc/rc.local åœ¨æœ€åŽçš„exitä¹‹å‰æ·»åŠ 1/usr/local/bin/sslocal -c /etc/shadowsocks.json -d start é…ç½® proxychainsç¼–è¾‘ /etc/proxychains.conf1sudo vim /etc/proxychains.conf å°†æœ€åŽä¸€è¡Œä¿®æ”¹ä¸ºï¼š socks5 127.0.0.1 1080:æŽ¥ç€æˆ‘ä»¬å°±å¯ä»¥ç›´æŽ¥ç”¨ â€œproxychains + å‘½ä»¤â€ çš„æ–¹å¼åœ¨ç»ˆç«¯é‡Œä½¿ç”¨ä»£ç†äº†ï¼Œä¾‹å¦‚123proxychains curl xxxxproxychains wget xxxxsudo proxychains apt-get xxxx]]></content>
      <categories>
        <category>æ ‘èŽ“æ´¾</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[PocketSphinx on Raspberry pi 3]]></title>
    <url>%2F2019%2F03%2F13%2FPocketSphinx-on-Raspberry-pi-3%2F</url>
    <content type="text"><![CDATA[è¿™ç¯‡åšå®¢æ˜¯å…³äºŽå¦‚ä½•åœ¨æ ‘èŽ“æ´¾ä¸Šç”¨ ReSpeaker 4-mic é˜µåˆ—æ¨¡å— +PocketSphinx+Python å®žçŽ°è¯­éŸ³è¯†åˆ«ã€‚ç”±äºŽPocketSphinxå’ŒPythonéƒ½æ˜¯ç¬¬ä¸€æ¬¡æŽ¥è§¦ï¼Œæœ‰å¾ˆå¤šä¸ç†Ÿæ‚‰çš„æ¦‚å¿µå’Œç”¨æ³•ï¼Œæ–‡æ¡£ä¹Ÿçœ‹å¾—äº‘é‡Œé›¾é‡Œï¼Œä¸è¿‡æœ€åŽå¥½æ­¹æ˜¯æŠŠsampleè·‘èµ·æ¥äº†~æ’’èŠ±ðŸŽŠ å…³äºŽCMUSphinxCMUSphinx(ç®€ç§°Sphinx)æ˜¯ç¾Žå›½å¡å†…åŸºæ¢…éš†å¤§å­¦å¼€å‘çš„ä¸€ç³»åˆ—è¯­éŸ³è¯†åˆ«ç³»ç»Ÿçš„æ€»ç§°ã€‚å®ƒçš„ç‰ˆæœ¬ä¸æ–­æ›´æ–° ï¼šSphinx,Sphinx2,Sphinx3,Sphinx4ï¼ˆJavaï¼‰,PocketSphinx(c)ã€‚æˆ‘åœ¨è¿™é‡Œä½¿ç”¨çš„å°±æ˜¯PocketSphinx,è‡ªå®ƒå¼€å§‹,Sphinxå¯ä»¥è¿è¡Œåœ¨åµŒå…¥å¼è®¾å¤‡é‡Œäº†ï¼Œæ¯”å¦‚æ‰‹æœºå’Œæ ‘èŽ“æ´¾ã€‚Pocketå°±æ˜¯â€œå£è¢‹â€çš„æ„æ€ï¼Œåœ¨åå­—ä¸Šå·²ç»å®Œå…¨ä½“çŽ°å‡ºæ¥è¿™ä¸€ç‰ˆæœ¬çš„ç‰¹å¾äº†ã€‚è™½ç„¶PocketSphinxæ˜¯ç”¨Cå®žçŽ°çš„ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š ä½†å¹¶ä¸æ„å‘³ç€åªèƒ½ä½¿ç”¨Cè¯­è¨€æ¥å¼€å‘åº”ç”¨ã€‚é€šè¿‡ SWIG (Simplified Wrapper and Interface Generator) ,å°±å¯ä»¥æŠŠC/C++çš„æŽ¥å£å°è£…æˆå…¶ä»–è¯­è¨€çš„æŽ¥å£ï¼ˆå¤§æ¦‚å°±è¿™ä¹ˆä¸ªæ„æ€å§ï¼‰ï¼Œæ¯”å¦‚ Python ,ruby,java,C#â€¦ç›®å‰é¡¹ç›®å·²æœ‰çš„ç‰ˆæœ¬å¦‚ä¸‹ï¼š åœ¨è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯Pythonç‰ˆæœ¬çš„ã€‚ å®‰è£…Sphinxæ¨¡å—åœ¨æ ‘èŽ“æ´¾ä¸Šé¢æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä¸‹é¢ä¸¤æ¡å‘½ä»¤å³å¯ã€‚å½“ç„¶å®‰è£…å‰ä¸ºäº†ä¿è¯ä¸‹è½½ä½“éªŒï¼Œä¸€èˆ¬æ˜¯éœ€è¦ç»™æ ‘èŽ“æ´¾æ¢æºã€‚ç„¶è€Œæˆ‘å› ä¸ºæœ‰ssä»£ç†ï¼Œæ‰€ä»¥å°±é…ç½®äº†ä¸€é€šï¼Œç”¨ä¸Šäº†è‡ªå·±çš„ä»£ç†ðŸ˜‰12python -m pip install --upgrade pip setuptools wheelpip install --upgrade pocketsphinx å¦‚æžœä½ å‘æˆ‘ä¸€æ ·æ˜¯ä¸ªpython+LinuxåŒé‡å°ç™½ï¼Œä¸ç†Ÿæ‚‰ç›®å½•ç»“æž„ï¼Œä¹Ÿæžä¸æ¸…æ¥šæ¨¡å—éƒ½å®‰è£…åˆ°å“ªé‡ŒåŽ»äº†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ 1pip show pocketsphinx ç»“æžœå¦‚ä¸‹ï¼š12345678910Name: pocketsphinxVersion: 0.1.15Summary: Python interface to CMU Sphinxbase and Pocketsphinx librariesHome-page: https://github.com/bambocher/pocketsphinx-pythonAuthor: Dmitry PrazdnichnovAuthor-email: dmitry@prazdnichnov.nameLicense: BSDLocation: /usr/local/lib/python3.5/dist-packagesRequires: Required-by: æ¨¡å—å®‰è£…å¥½åŽçš„ç»“æž„ä¸ºï¼š123456789101112131415161718192021.â”œâ”€â”€ data â”‚ â””â”€â”€ goforward.rawâ”œâ”€â”€ __init__.pyâ”œâ”€â”€ model # å­˜æ”¾è¯­è¨€åŒ…â”‚ â”œâ”€â”€ cmudict-en-us.dict # æ‹¼éŸ³å­—å…¸æ–‡ä»¶â”‚ â”œâ”€â”€ en-us # å£°å­¦æ¨¡åž‹æ–‡ä»¶å¤¹â”‚ â”‚ â”œâ”€â”€ feat.paramsâ”‚ â”‚ â”œâ”€â”€ mdefâ”‚ â”‚ â”œâ”€â”€ meansâ”‚ â”‚ â”œâ”€â”€ noisedictâ”‚ â”‚ â”œâ”€â”€ READMEâ”‚ â”‚ â”œâ”€â”€ sendumpâ”‚ â”‚ â”œâ”€â”€ transition_matricesâ”‚ â”‚ â””â”€â”€ variancesâ”‚ â””â”€â”€ en-us.lm.bin #è¯­è¨€æ¨¡åž‹æ–‡ä»¶â”œâ”€â”€ _pocketsphinx.cpython-35m-arm-linux-gnueabihf.soâ”œâ”€â”€ pocketsphinx.pyâ””â”€â”€ __pycache__ â”œâ”€â”€ __init__.cpython-35.pyc â””â”€â”€ pocketsphinx.cpython-35.pyc æ³¨ï¼šæˆ‘ä¹‹å‰ä¸çŸ¥é“è¿™ä¸ªæ ‘çŠ¶å›¾æ˜¯æ€Žä¹ˆæžå‡ºæ¥çš„ï¼ŒæŸ¥äº†æ‰çŸ¥é“æ˜¯ç”¨äº† tree å‘½ä»¤ã€‚btw,çŸ¥é“è¿™ä¸ªæ¨¡å—åœ¨å“ªé‡Œè£…ç€å¾ˆæœ‰å¿…è¦ï¼Œå› ä¸ºåŽé¢æ›´æ¢é»˜è®¤è¯­è¨€åŒ…ï¼ˆé»˜è®¤åªä¼šè¯†åˆ«è‹±è¯­ï¼‰è¦ç”¨åˆ°. æˆ‘åœ¨å®‰è£…çš„æ—¶å€™è¿˜æŠ¥äº†ä¸ªé”™ï¼š é—®é¢˜å‡ºåœ¨æˆ‘çš„æ ‘èŽ“æ´¾ä¸Šé¢æ²¡æœ‰å®‰è£… libpulse-devlibpulse-devï¼šPulseAudio client development headers and libraries 1sudo apt-get install libpulse-dev ReSpeaker 4-Mics é˜µåˆ—è¿™ä¸ªæ¨¡å—æ˜¯æ·˜å®ä¸Šé¢ä¹°çš„ï¼Œ199å—é’±Â·Â·Â·Â·å‚»è´µã€‚åˆ«çš„æ–‡ç« é‡Œç”¨çš„å¤§éƒ½æ˜¯USBéº¦å…‹é£Žï¼Œ20å‡ å—é’±ä¸€ä¸ªã€‚å“Žï¼Œè‡ªå·±ä¹°çš„å“­ç€ä¹Ÿè¦ç”¨ä¸‹åŽ»ã€‚ æŠŠæ¨¡å—æ’åˆ°æ ‘èŽ“æ´¾ä¸Šä¹‹åŽå¼€å§‹è£…é©±åŠ¨ï¼Œæ³¨æ„è¿™ä¸ªæ¨¡å—ä¸å¯ä»¥çƒ­æ’æ‹”ã€‚ä¸€å¥—å®Œæ•´çš„æ“ä½œå¦‚ä¸‹ï¼š123456sudo apt-get updatesudo apt-get upgradegit clone https://github.com/respeaker/seeed-voicecard.gitcd seeed-voicecardsudo ./install.shreboot é‡å¯ä¹‹åŽè¿™ä¸ªéº¦å…‹é£Žæ¨¡å—å°±å¯åŠ¨äº†ã€‚æŽ¥ä¸‹æ¥å¯ä»¥è¯•è¯•è·‘ä¸€ä¸‹è¿™ä¸ªæ¨¡å—çš„sampleï¼šè®©ç¯é—ªé¦–å…ˆæ‰“å¼€SPI1234sudo raspi-configé€‰æ‹© Interfacing Optionsé€‰æ‹© SPIenable å†æ¥ä¸€æ³¢å¦‚ä¸‹çš„æ“ä½œï¼š1234567pi@raspberrypi:~ $ cd /home/pipi@raspberrypi:~ $ git clone https://github.com/respeaker/4mics_hat.gitpi@raspberrypi:~ $ cd /home/pi/4mics_hatpi@raspberrypi:~/4mics_hat $ sudo apt install python-virtualenv # install python virtualenv toolpi@raspberrypi:~/4mics_hat $ virtualenv --system-site-packages ~/env # create a virtual python environmentpi@raspberrypi:~/4mics_hat $ source ~/env/bin/activate # activate the virtual environment(env) pi@raspberrypi:~/4mics_hat $ pip install spidev gpiozero # install spidev and gpiozero æˆ‘å…¶å®žä¸å¤ªç†è§£ä¸ºä»€ä¹ˆè¦å¼„è™šæ‹ŸçŽ¯å¢ƒï¼Ÿæˆ‘è¯•äº†ä¸€ä¸‹é‚£ä¸ªsampleæ˜¯å¯ä»¥ç›´æŽ¥è¿è¡Œçš„ã€‚ è¿žç»­è¯†åˆ«ï¼ˆcontinuous recognitionï¼‰å‡†å¤‡å¥½ä¹‹åŽå°±å¯ä»¥è¯•è¯•è·‘PocketSphinxçš„sampleç¨‹åºLiveSpeechäº†ï¼Œå®ƒä¼šè¿žç»­è¯†åˆ«è¯­éŸ³å†…å®¹ï¼Œå¹¶è¾“å‡ºåˆ°ç»ˆç«¯ä¸Šã€‚ä¸è¿‡æ³¨æ„ï¼Œå®ƒé»˜è®¤æ˜¯è‹±æ–‡è¯­éŸ³ï¼Œæƒ³æµ‹è¯•å¾—è¯´è‹±è¯­ã€‚æºç å¦‚ä¸‹ï¼š123456789101112131415161718import osfrom pocketsphinx import LiveSpeech, get_model_pathmodel_path = get_model_path()speech = LiveSpeech( verbose=False, # sampling_rate=16000,buffer_size=2048,no_search=False,full_utt=False,hmm=os.path.join(model_path, 'en-us'), # ï¼ˆHidden Markov Modelï¼‰ éšé©¬å°”å¯å¤«æ¨¡åž‹ ï¼Œå£°å­¦æ¨¡åž‹lm=os.path.join(model_path, 'en-us.lm.bin'), # ï¼ˆLanguage Modelï¼‰ è¯­è¨€æ¨¡åž‹dic=os.path.join(model_path, 'cmudict-en-us.dict') # æ‹¼éŸ³å­—å…¸)for phrase in speech:print("phrase:", phrase)print(phrase.segments(detailed=True)) å½“ç„¶è¿™ä¸ªç¨‹åºè¿˜æ˜¯æ²¡æœ‰è·‘èµ·æ¥ï¼Œè¿è¡Œçš„æ—¶å€™æŠ¥é”™äº†ã€‚ Opening audio device(null) for capture: Connection refused 123456789Error opening audio device (null) for capture: Connection refusedTraceback (most recent call last): File &quot;sphinx.py&quot;, line 14, in &lt;module&gt; dic=os.path.join(model_path, &apos;cmudict-en-us.dict&apos;) File &quot;/usr/local/lib/python3.5/dist-packages/pocketsphinx/__init__.py&quot;, line 206, in __init__ self.ad = Ad(self.audio_device, self.sampling_rate) File &quot;/usr/local/lib/python3.5/dist-packages/sphinxbase/ad_pulse.py&quot;, line 124, in __init__ this = _ad_pulse.new_Ad(audio_device, sampling_rate)RuntimeError: new_Ad returned -1 æˆ‘æ˜Žæ˜Žè£…äº†micï¼Œé©±åŠ¨éƒ½æ­£å¸¸ã€‚åŽæ¥æŸ¥äº†å¥½å¤šèµ„æ–™æ‰å‘çŽ°æ˜¯ä¸€ä¸ªå« PulseAudioçš„è½¯ä»¶æ²¡è£…ï¼Œæ ‘èŽ“æ´¾æ²¡æœ‰è‡ªå¸¦è¿™ä¸ªä¸œè¥¿ã€‚è¿˜èƒ½æ€Žä¹ˆåŠžï¼Œè£…å°±å®Œäº†ï¼Œè¿™æ¬¡ä¸æ±‚ç”šè§£äº†ï¼š 12sudo apt-get install pulseaudiosudo reboot è·‘èµ·æ¥ä¹‹åŽè¯•äº†ä¸€ä¸‹ï¼Œè¯†åˆ«æ•ˆæžœæƒ¨ä¸å¿ç¹ã€‚ æ›´æ¢ä¸­æ–‡è¯­è¨€åŒ… ä¸‹è½½ä¸­æ–‡è¯­è¨€åŒ… è§£åŽ‹å¾—ï¼š 12345678910111213.â”œâ”€â”€ READMEâ”œâ”€â”€ zh_cn.cd_cont_5000â”‚ â”œâ”€â”€ feat.paramsâ”‚ â”œâ”€â”€ feature_transformâ”‚ â”œâ”€â”€ mdefâ”‚ â”œâ”€â”€ meansâ”‚ â”œâ”€â”€ mixture_weightsâ”‚ â”œâ”€â”€ noisedictâ”‚ â”œâ”€â”€ transition_matricesâ”‚ â””â”€â”€ variancesâ”œâ”€â”€ zh_cn.dicâ””â”€â”€ zh_cn.lm.bin å¤åˆ¶åˆ°modelæ–‡ä»¶å¤¹ 123sudo cp -a zh_cn.cd_cont_5000/ /usr/local/lib/python3.5/dist-packages/pocketsphinx/modelsudo cp zh_cn.dic /usr/local/lib/python3.5/dist-packages/pocketsphinx/modelsudo cp zh_cn.lm.bin /usr/local/lib/python3.5/dist-packages/pocketsphinx/model éœ€è¦æ›´æ”¹ä¸€ä¸‹ä¸‰æ®µä»£ç  123hmm=os.path.join(model_path, 'zh_cn.cd_cont_5000'),lm=os.path.join(model_path, 'zh_cn.lm.bin'),dic=os.path.join(model_path, 'zh_cn.dic') æ›´æ¢ä¹‹åŽç¡®å®žå¯ä»¥è¯†åˆ«ä¸­æ–‡äº†ï¼Œç„¶ï¼Œè¯†åˆ«çŽ‡ä¾ç„¶ä½Žå¾—æƒŠäºº å…³é”®å­—æŸ¥æ‰¾ï¼ˆkeyword searchï¼‰æˆ‘åœ¨é¡¹ç›®é‡Œä½¿ç”¨pocketSphinxç›®çš„ä»…ä»…æ˜¯è®©å®ƒè¯†åˆ«æŒ‡å®šçš„å…³é”®è¯ï¼Œæ‰€ä»¥æˆ‘éœ€è¦ç€é‡è€ƒè™‘è¿™ä¸€æ–¹é¢ã€‚]]></content>
      <categories>
        <category>æ ‘èŽ“æ´¾</category>
      </categories>
      <tags>
        <tag>æ ‘èŽ“æ´¾</tag>
        <tag>è¯­éŸ³è¯†åˆ«</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HelloWorldç¨‹åºç¼–è¯‘è¿‡ç¨‹å°è®°]]></title>
    <url>%2F2019%2F02%2F18%2FHelloWorld%E7%A8%8B%E5%BA%8F%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B%E5%B0%8F%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©å°è¯•äº†ä¸€ä¸‹ä½¿ç”¨GCCå¯¹HelloWorldç¨‹åºè¿›è¡ŒæŒ‰ç…§ç¨‹åºç¼–è¯‘çš„4ä¸ªé˜¶æ®µï¼š é¢„å¤„ç†é˜¶æ®µ ç¼–è¯‘é˜¶æ®µ æ±‡ç¼–é˜¶æ®µ é“¾æŽ¥é˜¶æ®µ ä¾æ¬¡è¿›è¡Œå¤„ç†å¹¶è§‚å¯Ÿç”Ÿæˆçš„æ–‡ä»¶å†…å®¹ é¢„å¤„ç†é˜¶æ®µå¹³å°ï¼šx8612345678#include"stdio.h"int main()&#123; printf("Hello world!\n"); return 0;&#125; é¢„å¤„ç†é˜¶æ®µä½¿ç”¨å‘½ä»¤ 1gcc -E hello.c -o hello.i å®ƒä¼šç”Ÿæˆä¸€ä¸ª hello.iæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š ç‚¹å‡»æ˜¾/éšå†…å®¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431# 1 "hello.c"# 1 "&lt;built-in&gt;"# 1 "&lt;command line&gt;"# 1 "hello.c"# 1 "C:/MinGW/include/stdio.h" 1 3# 19 "C:/MinGW/include/stdio.h" 3# 1 "C:/MinGW/include/_mingw.h" 1 3# 31 "C:/MinGW/include/_mingw.h" 3 # 32 "C:/MinGW/include/_mingw.h" 3# 20 "C:/MinGW/include/stdio.h" 2 3# 1 "C:/MinGW/lib/gcc/mingw32/3.4.5/include/stddef.h" 1 3# 213 "C:/MinGW/lib/gcc/mingw32/3.4.5/include/stddef.h" 3typedef unsigned int size_t;# 325 "C:/MinGW/lib/gcc/mingw32/3.4.5/include/stddef.h" 3typedef short unsigned int wchar_t;# 354 "C:/MinGW/lib/gcc/mingw32/3.4.5/include/stddef.h" 3typedef short unsigned int wint_t;# 27 "C:/MinGW/include/stdio.h" 2 3# 1 "C:/MinGW/lib/gcc/mingw32/3.4.5/include/stdarg.h" 1 3# 44 "C:/MinGW/lib/gcc/mingw32/3.4.5/include/stdarg.h" 3typedef __builtin_va_list __gnuc_va_list;# 29 "C:/MinGW/include/stdio.h" 2 3# 129 "C:/MinGW/include/stdio.h" 3typedef struct _iobuf&#123; char* _ptr; int _cnt; char* _base; int _flag; int _file; int _charbuf; int _bufsiz; char* _tmpfname;&#125; FILE;# 154 "C:/MinGW/include/stdio.h" 3extern __attribute__ ((__dllimport__)) FILE _iob[];# 169 "C:/MinGW/include/stdio.h" 3 FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fopen (const char*, const char*); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) freopen (const char*, const char*, FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fflush (FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fclose (FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) remove (const char*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) rename (const char*, const char*); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) tmpfile (void); char* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) tmpnam (char*); char* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _tempnam (const char*, const char*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _rmtmp(void); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _unlink (const char*); char* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) tempnam (const char*, const char*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) rmtmp(void); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) unlink (const char*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) setvbuf (FILE*, char*, int, size_t); void __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) setbuf (FILE*, char*);# 204 "C:/MinGW/include/stdio.h" 3extern int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __mingw_fprintf(FILE*, const char*, ...);extern int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __mingw_printf(const char*, ...);extern int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __mingw_sprintf(char*, const char*, ...);extern int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __mingw_snprintf(char*, size_t, const char*, ...);extern int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __mingw_vfprintf(FILE*, const char*, __gnuc_va_list);extern int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __mingw_vprintf(const char*, __gnuc_va_list);extern int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __mingw_vsprintf(char*, const char*, __gnuc_va_list);extern int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __mingw_vsnprintf(char*, size_t, const char*, __gnuc_va_list);# 293 "C:/MinGW/include/stdio.h" 3 int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fprintf (FILE*, const char*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) printf (const char*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) sprintf (char*, const char*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vfprintf (FILE*, const char*, __gnuc_va_list); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vprintf (const char*, __gnuc_va_list); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vsprintf (char*, const char*, __gnuc_va_list);# 308 "C:/MinGW/include/stdio.h" 3 int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __msvcrt_fprintf(FILE*, const char*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __msvcrt_printf(const char*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __msvcrt_sprintf(char*, const char*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __msvcrt_vfprintf(FILE*, const char*, __gnuc_va_list); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __msvcrt_vprintf(const char*, __gnuc_va_list); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) __msvcrt_vsprintf(char*, const char*, __gnuc_va_list); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _snprintf (char*, size_t, const char*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _vsnprintf (char*, size_t, const char*, __gnuc_va_list);# 330 "C:/MinGW/include/stdio.h" 3int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) snprintf (char *, size_t, const char *, ...);int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vsnprintf (char *, size_t, const char *, __gnuc_va_list);int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vscanf (const char * __restrict__, __gnuc_va_list);int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vfscanf (FILE * __restrict__, const char * __restrict__, __gnuc_va_list);int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vsscanf (const char * __restrict__, const char * __restrict__, __gnuc_va_list); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fscanf (FILE*, const char*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) scanf (const char*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) sscanf (const char*, const char*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fgetc (FILE*); char* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fgets (char*, int, FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fputc (int, FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fputs (const char*, FILE*); char* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) gets (char*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) puts (const char*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) ungetc (int, FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _filbuf (FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _flsbuf (int, FILE*);extern __inline__ int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) getc (FILE* __F)&#123; return (--__F-&gt;_cnt &gt;= 0) ? (int) (unsigned char) *__F-&gt;_ptr++ : _filbuf (__F);&#125;extern __inline__ int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) putc (int __c, FILE* __F)&#123; return (--__F-&gt;_cnt &gt;= 0) ? (int) (unsigned char) (*__F-&gt;_ptr++ = (char)__c) : _flsbuf (__c, __F);&#125;extern __inline__ int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) getchar (void)&#123; return (--(&amp;_iob[0])-&gt;_cnt &gt;= 0) ? (int) (unsigned char) *(&amp;_iob[0])-&gt;_ptr++ : _filbuf ((&amp;_iob[0]));&#125;extern __inline__ int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) putchar(int __c)&#123; return (--(&amp;_iob[1])-&gt;_cnt &gt;= 0) ? (int) (unsigned char) (*(&amp;_iob[1])-&gt;_ptr++ = (char)__c) : _flsbuf (__c, (&amp;_iob[1]));&#125;# 411 "C:/MinGW/include/stdio.h" 3 size_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fread (void*, size_t, size_t, FILE*); size_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fwrite (const void*, size_t, size_t, FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fseek (FILE*, long, int); long __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) ftell (FILE*); void __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) rewind (FILE*);# 454 "C:/MinGW/include/stdio.h" 3typedef long long fpos_t; int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fgetpos (FILE*, fpos_t*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fsetpos (FILE*, const fpos_t*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) feof (FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) ferror (FILE*);# 479 "C:/MinGW/include/stdio.h" 3 void __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) clearerr (FILE*); void __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) perror (const char*); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _popen (const char*, const char*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _pclose (FILE*); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) popen (const char*, const char*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) pclose (FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _flushall (void); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _fgetchar (void); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _fputchar (int); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _fdopen (int, const char*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _fileno (FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _fcloseall (void); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _fsopen (const char*, const char*, int); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _getmaxstdio (void); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _setmaxstdio (int);# 521 "C:/MinGW/include/stdio.h" 3 int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fgetchar (void); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fputchar (int); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fdopen (int, const char*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fileno (FILE*);# 533 "C:/MinGW/include/stdio.h" 3# 1 "C:/MinGW/include/sys/types.h" 1 3# 21 "C:/MinGW/include/sys/types.h" 3# 1 "C:/MinGW/lib/gcc/mingw32/3.4.5/include/stddef.h" 1 3# 151 "C:/MinGW/lib/gcc/mingw32/3.4.5/include/stddef.h" 3typedef int ptrdiff_t;# 22 "C:/MinGW/include/sys/types.h" 2 3typedef long time_t;typedef long long __time64_t;typedef long _off_t;typedef _off_t off_t;typedef unsigned int _dev_t;typedef _dev_t dev_t;typedef short _ino_t;typedef _ino_t ino_t;typedef int _pid_t;typedef _pid_t pid_t;typedef unsigned short _mode_t;typedef _mode_t mode_t;typedef int _sigset_t;typedef _sigset_t sigset_t;typedef long _ssize_t;typedef _ssize_t ssize_t;typedef long long fpos64_t;typedef long long off64_t;typedef unsigned int useconds_t;# 534 "C:/MinGW/include/stdio.h" 2 3extern __inline__ FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fopen64 (const char* filename, const char* mode)&#123; return fopen (filename, mode);&#125;int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fseeko64 (FILE*, off64_t, int);extern __inline__ off64_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) ftello64 (FILE * stream)&#123; fpos_t pos; if (fgetpos(stream, &amp;pos)) return -1LL; else return ((off64_t) pos);&#125;# 562 "C:/MinGW/include/stdio.h" 3 int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fwprintf (FILE*, const wchar_t*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) wprintf (const wchar_t*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _snwprintf (wchar_t*, size_t, const wchar_t*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vfwprintf (FILE*, const wchar_t*, __gnuc_va_list); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vwprintf (const wchar_t*, __gnuc_va_list); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _vsnwprintf (wchar_t*, size_t, const wchar_t*, __gnuc_va_list); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fwscanf (FILE*, const wchar_t*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) wscanf (const wchar_t*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) swscanf (const wchar_t*, const wchar_t*, ...); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fgetwc (FILE*); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fputwc (wchar_t, FILE*); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) ungetwc (wchar_t, FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) swprintf (wchar_t*, const wchar_t*, ...); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vswprintf (wchar_t*, const wchar_t*, __gnuc_va_list); wchar_t* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fgetws (wchar_t*, int, FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fputws (const wchar_t*, FILE*); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) getwc (FILE*); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) getwchar (void); wchar_t* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _getws (wchar_t*); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) putwc (wint_t, FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _putws (const wchar_t*); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) putwchar (wint_t); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _wfdopen(int, const wchar_t *); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _wfopen (const wchar_t*, const wchar_t*); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _wfreopen (const wchar_t*, const wchar_t*, FILE*); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _wfsopen (const wchar_t*, const wchar_t*, int); wchar_t* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _wtmpnam (wchar_t*); wchar_t* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _wtempnam (const wchar_t*, const wchar_t*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _wrename (const wchar_t*, const wchar_t*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _wremove (const wchar_t*); void __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _wperror (const wchar_t*); FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _wpopen (const wchar_t*, const wchar_t*);int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) snwprintf (wchar_t* s, size_t n, const wchar_t* format, ...);extern __inline__ int __attribute__((__cdecl__)) __attribute__ ((__nothrow__))vsnwprintf (wchar_t* s, size_t n, const wchar_t* format, __gnuc_va_list arg) &#123; return _vsnwprintf ( s, n, format, arg);&#125;int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vwscanf (const wchar_t * __restrict__, __gnuc_va_list);int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vfwscanf (FILE * __restrict__, const wchar_t * __restrict__, __gnuc_va_list);int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) vswscanf (const wchar_t * __restrict__, const wchar_t * __restrict__, __gnuc_va_list);# 620 "C:/MinGW/include/stdio.h" 3 FILE* __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) wpopen (const wchar_t*, const wchar_t*); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _fgetwchar (void); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _fputwchar (wint_t); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _getw (FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) _putw (int, FILE*); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fgetwchar (void); wint_t __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) fputwchar (wint_t); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) getw (FILE*); int __attribute__((__cdecl__)) __attribute__ ((__nothrow__)) putw (int, FILE*);# 2 "hello.c" 2int main()&#123; printf("Hello world!\n"); return 0;&#125;]]></content>
      <categories>
        <category>GCCç›¸å…³</category>
      </categories>
      <tags>
        <tag>GCC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[5_Parallel_Memory_System]]></title>
    <url>%2F2019%2F01%2F30%2F5_Parallel_Memory_System%2F</url>
    <content type="text"><![CDATA[Outside of the GPU itself, the memory subsystem is the most important determiner of the performance of a graphics system. Graphics workloads demand very high transfer rates to and from memory. Pixel write and blend (read-modifywrite) operations, depth buffer reads and writes, and texture map reads, as well as command and object vertex and attribute data reads, comprise the majority of memory traffic.åœ¨GPUæœ¬èº«ä¹‹å¤–ï¼Œå­˜å‚¨å™¨å­ç³»ç»Ÿæ˜¯å›¾å½¢ç³»ç»Ÿæ€§èƒ½çš„æœ€é‡è¦çš„å†³å®šå› ç´ ã€‚ å›¾å½¢å·¥ä½œè´Ÿè½½éœ€è¦éžå¸¸é«˜çš„å†…å­˜ä¼ è¾“é€ŸçŽ‡ã€‚ åƒç´ å†™å…¥å’Œæ··åˆï¼ˆè¯»å– - ä¿®æ”¹å†™å…¥ï¼‰æ“ä½œï¼Œæ·±åº¦ç¼“å†²åŒºè¯»å–å’Œå†™å…¥ä»¥åŠçº¹ç†æ˜ å°„è¯»å–ä»¥åŠå‘½ä»¤å’Œå¯¹è±¡é¡¶ç‚¹å’Œå±žæ€§æ•°æ®è¯»å–æž„æˆäº†å¤§éƒ¨åˆ†å†…å­˜æµé‡ã€‚Modern GPUs are highly parallel, as shown in Figure C.2.5. For example, the GeForce 8800 can process 32 pixels per clock, at 600 MHz. Each pixel typically requires a color read and write and a depth read and write of a 4-byte pixel. Usually an average of two or three texels of four bytes each are read to generate the pixelâ€™s color. So for a typical case, there is a demand of 28 bytes times 32 pixels = 896 bytes per clock. Clearly the bandwidth demand on the memory system is enormous.çŽ°ä»£GPUé«˜åº¦å¹¶è¡Œï¼Œå¦‚å›¾C.2.5æ‰€ç¤ºã€‚ ä¾‹å¦‚ï¼ŒGeForce 8800æ¯æ—¶é’Ÿå¯å¤„ç†32ä¸ªåƒç´ ï¼Œé¢‘çŽ‡ä¸º600 MHzã€‚ æ¯ä¸ªåƒç´ é€šå¸¸éœ€è¦é¢œè‰²è¯»å–å’Œå†™å…¥ä»¥åŠ4å­—èŠ‚åƒç´ çš„æ·±åº¦è¯»å–å’Œå†™å…¥ã€‚ é€šå¸¸ï¼Œè¯»å–å¹³å‡æ¯ä¸ªå››ä¸ªå­—èŠ‚çš„ä¸¤ä¸ªæˆ–ä¸‰ä¸ªçº¹ç´ ï¼Œä»¥ç”Ÿæˆåƒç´ çš„é¢œè‰²ã€‚ å› æ­¤ï¼Œå¯¹äºŽå…¸åž‹æƒ…å†µï¼Œéœ€è¦28ä¸ªå­—èŠ‚ä¹˜ä»¥32ä¸ªåƒç´ =æ¯ä¸ªæ—¶é’Ÿ896ä¸ªå­—èŠ‚ã€‚ æ˜¾ç„¶ï¼Œå­˜å‚¨ç³»ç»Ÿçš„å¸¦å®½éœ€æ±‚æ˜¯å·¨å¤§çš„ã€‚ To supply these requirements, GPU memory systems have the following characteristics:ä¸ºæ»¡è¶³è¿™äº›è¦æ±‚ï¼ŒGPUå†…å­˜ç³»ç»Ÿå…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š They are wide, meaning there are a large number of pins to convey data between the GPU and its memory devices, and the memory array itself comprises many DRAM chips to provide the full total data bus width. å®ƒä»¬å¾ˆå®½ï¼Œæ„å‘³ç€æœ‰å¤§é‡çš„å¼•è„šåœ¨GPUå’Œå®ƒçš„å­˜å‚¨å™¨è®¾å¤‡ä¹‹é—´ä¼ é€æ•°æ®ï¼Œå¹¶ä¸”å­˜å‚¨å™¨é˜µåˆ—æœ¬èº«åŒ…æ‹¬è®¸å¤šDRAMèŠ¯ç‰‡ä»¥æä¾›å®Œæ•´çš„æ€»æ•°æ®æ€»çº¿å®½åº¦ã€‚ They are fast, meaning aggressive signaling techniques are used to maximize the data rate (bits/second) per pin. å®ƒä»¬å¾ˆå¿«ï¼Œæ„å‘³ç€ç§¯æžçš„ä¿¡ä»¤æŠ€æœ¯ç”¨äºŽæœ€å¤§åŒ–æ¯ä¸ªå¼•è„šçš„æ•°æ®é€ŸçŽ‡ï¼ˆä½/ç§’ï¼‰ã€‚ GPUs seek to use every available cycle to transfer data to or from the memory array. To achieve this, GPUs specifcally do not aim to minimize latency to the memory system. High throughput (utilization efciency) and short latency are fundamentally in conï¬‚ict. GPUå¯»æ±‚ä½¿ç”¨æ¯ä¸ªå¯ç”¨å‘¨æœŸæ¥å°†æ•°æ®ä¼ è¾“åˆ°å­˜å‚¨å™¨é˜µåˆ—æˆ–ä»Žå­˜å‚¨å™¨é˜µåˆ—ä¼ è¾“æ•°æ®ã€‚ ä¸ºå®žçŽ°æ­¤ç›®çš„ï¼ŒGPUç‰¹åˆ«ä¸æ—¨åœ¨æœ€å°åŒ–å¯¹å­˜å‚¨å™¨ç³»ç»Ÿçš„å»¶è¿Ÿã€‚ é«˜åžåé‡ï¼ˆåˆ©ç”¨æ•ˆçŽ‡ï¼‰å’ŒçŸ­å»¶è¿ŸåŸºæœ¬ä¸Šæ˜¯å†²çªçš„ã€‚ Compression techniques are used, both lossy, of which the programmer must be aware, and lossless, which is invisible to the application and opportunistic. ä½¿ç”¨åŽ‹ç¼©æŠ€æœ¯ï¼Œæ—¢æœ‰æŸè€—ï¼Œç¨‹åºå‘˜å¿…é¡»çŸ¥é“ï¼Œæ— æŸï¼Œå¯¹åº”ç”¨ç¨‹åºå’Œæœºä¼šä¸»ä¹‰æ˜¯ä¸å¯è§çš„ã€‚ Caches and work coalescing structures are used to reduce the amount of offchip traffic needed and to ensure that cycles spent moving data are used as fully as possible. é«˜é€Ÿç¼“å­˜å’Œå·¥ä½œåˆå¹¶ç»“æž„ç”¨äºŽå‡å°‘æ‰€éœ€çš„ç‰‡å¤–æµé‡ï¼Œå¹¶ç¡®ä¿å°½å¯èƒ½å……åˆ†åœ°ä½¿ç”¨ç§»åŠ¨æ•°æ®çš„å‘¨æœŸã€‚ DRAM Considerations DRAMæ³¨æ„äº‹é¡¹GPUs must take into account the unique characteristics of DRAM. DRAM chips are internally arranged as multiple (typically four to eight) banks, where each bank includes a power-of-2 number of rows (typically around 16,384), and each row contains a power-of-2 number of bits (typically 8192). DRAMs impose a variety of timing requirements on their controlling processor. For example, dozens of cycles are required to activate one row, but once activated, the bits within that row are randomly accessible with a new column address every four clocks. Double-data rate (DDR) synchronous DRAMs transfer data on both rising and falling edges of the interface clock (see Chapter 5). So a 1 GHz clocked DDR DRAM transfers data at 2 gigabits per second per data pin. Graphics DDR DRAMs usually have 32 bidirectional data pins, so eight bytes can be read or written from the DRAM per clock.GPUå¿…é¡»è€ƒè™‘DRAMçš„ç‹¬ç‰¹ç‰¹æ€§ã€‚ DRAMèŠ¯ç‰‡å†…éƒ¨æŽ’åˆ—ä¸ºå¤šä¸ªï¼ˆé€šå¸¸ä¸ºå››åˆ°å…«ä¸ªï¼‰å­˜å‚¨ä½“ï¼Œå…¶ä¸­æ¯ä¸ªå­˜å‚¨ä½“åŒ…æ‹¬2ä¸ªå¹‚çš„è¡Œæ•°ï¼ˆé€šå¸¸çº¦ä¸º16,384ä¸ªï¼‰ï¼Œæ¯è¡ŒåŒ…å«2ä¸ªå¹‚çš„ä½æ•°ï¼ˆé€šå¸¸ä¸º8192ä¸ªï¼‰ï¼‰ã€‚ DRAMå¯¹å…¶æŽ§åˆ¶å¤„ç†å™¨æ–½åŠ äº†å„ç§æ—¶åºè¦æ±‚ã€‚ ä¾‹å¦‚ï¼Œæ¿€æ´»ä¸€è¡Œéœ€è¦å‡ åä¸ªå‘¨æœŸï¼Œä½†ä¸€æ—¦æ¿€æ´»ï¼Œè¯¥è¡Œä¸­çš„ä½å¯éšæœºè®¿é—®ï¼Œæ¯å››ä¸ªæ—¶é’Ÿä½¿ç”¨ä¸€ä¸ªæ–°çš„åˆ—åœ°å€ã€‚ åŒå€æ•°æ®é€ŸçŽ‡ï¼ˆDDRï¼‰åŒæ­¥DRAMåœ¨æŽ¥å£æ—¶é’Ÿçš„ä¸Šå‡æ²¿å’Œä¸‹é™æ²¿ä¼ è¾“æ•°æ®ï¼ˆè§ç¬¬5ç« ï¼‰ã€‚ å› æ­¤ï¼Œ1 GHzæ—¶é’ŸDDR DRAMä»¥æ¯ä¸ªæ•°æ®å¼•è„šæ¯ç§’2åƒå…†ä½çš„é€Ÿåº¦ä¼ è¾“æ•°æ®ã€‚ å›¾å½¢DDR DRAMé€šå¸¸å…·æœ‰32ä¸ªåŒå‘æ•°æ®å¼•è„šï¼Œå› æ­¤æ¯ä¸ªæ—¶é’Ÿå¯ä»¥ä»ŽDRAMè¯»å–æˆ–å†™å…¥8ä¸ªå­—èŠ‚ã€‚ GPUs internally have a large number of generators of memory traffic. Different stages of the logical graphics pipeline each have their own request streams: command and vertex attribute fetch, shader texture fetch and load/store, and pixel depth and color read-write. At each logical stage, there are ofen multiple independent units to deliver the parallel throughput. These are each independent memory requestors. When viewed at the memory system, there are an enormous number of uncorrelated requests in ï¬‚ight. This is a natural mismatch to the reference pattern preferred by the DRAMs. A solution is for the GPUâ€™s memory controller to maintain separate heaps of trafc bound for diï¬€erent DRAM banks, and wait until enough traffic for a particular DRAM row is pending before activating that row and transferring all the trafc at once. Note that accumulating pending requests, while good for DRAM row locality and thus efcient use of the data bus, leads to longer average latency as seen by the requestors whose requests spend time waiting for others. The design must take care that no particular request waits too long, otherwise some processing units can starve waiting for data and ultimately cause neighboring processors to become idle.GPUå†…éƒ¨å…·æœ‰å¤§é‡å†…å­˜æµé‡ç”Ÿæˆå™¨ã€‚é€»è¾‘å›¾å½¢ç®¡é“çš„ä¸åŒé˜¶æ®µå„è‡ªå…·æœ‰å…¶è‡ªå·±çš„è¯·æ±‚æµï¼šå‘½ä»¤å’Œé¡¶ç‚¹å±žæ€§èŽ·å–ï¼Œç€è‰²å™¨çº¹ç†èŽ·å–å’ŒåŠ è½½/å­˜å‚¨ï¼Œä»¥åŠåƒç´ æ·±åº¦å’Œé¢œè‰²è¯»å†™ã€‚åœ¨æ¯ä¸ªé€»è¾‘é˜¶æ®µï¼Œæœ‰å¤šä¸ªç‹¬ç«‹å•å…ƒæ¥æä¾›å¹¶è¡Œåžåé‡ã€‚è¿™äº›æ˜¯æ¯ä¸ªç‹¬ç«‹çš„å†…å­˜è¯·æ±‚è€…ã€‚åœ¨å†…å­˜ç³»ç»Ÿä¸­æŸ¥çœ‹æ—¶ï¼Œé£žè¡Œä¸­å­˜åœ¨å¤§é‡ä¸ç›¸å…³çš„è¯·æ±‚ã€‚è¿™ä¸ŽDRAMä¼˜é€‰çš„å‚è€ƒå›¾æ¡ˆè‡ªç„¶ä¸åŒ¹é…ã€‚ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯GPUçš„å†…å­˜æŽ§åˆ¶å™¨ç»´æŠ¤ç»‘å®šåˆ°ä¸åŒDRAMåº“çš„å•ç‹¬çš„æµé‡å †ï¼Œå¹¶ç­‰å¾…ç‰¹å®šDRAMè¡Œçš„è¶³å¤Ÿæµé‡å¾…æ¿€æ´»ï¼Œç„¶åŽæ¿€æ´»è¯¥è¡Œå¹¶ç«‹å³ä¼ è¾“æ‰€æœ‰æµé‡ã€‚è¯·æ³¨æ„ï¼Œç´¯ç§¯å¾…å¤„ç†è¯·æ±‚è™½ç„¶æœ‰åˆ©äºŽDRAMè¡Œä½ç½®å¹¶å› æ­¤æœ‰æ•ˆåœ°ä½¿ç”¨æ•°æ®æ€»çº¿ï¼Œä½†ä¼šå¯¼è‡´è¯·æ±‚è€…èŠ±è´¹æ—¶é—´ç­‰å¾…å…¶ä»–è¯·æ±‚è€…çš„å¹³å‡å»¶è¿Ÿæ—¶é—´æ›´é•¿ã€‚è®¾è®¡å¿…é¡»æ³¨æ„æ²¡æœ‰ç‰¹å®šè¯·æ±‚ç­‰å¾…å¤ªé•¿æ—¶é—´ï¼Œå¦åˆ™ä¸€äº›å¤„ç†å•å…ƒå¯èƒ½ä¼šé¥¿æ­»ç­‰å¾…æ•°æ®å¹¶æœ€ç»ˆå¯¼è‡´ç›¸é‚»å¤„ç†å™¨å˜ä¸ºç©ºé—²ã€‚ GPU memory subsystems are arranged as multiple memory partitions, each of which comprises a fully independent memory controller and one or two DRAM devices that are fully and exclusively owned by that partition. To achieve the best load balance and therefore approach the theoretical performance of n partitions, addresses are fnely interleaved evenly across all memory partitions. The partition interleaving stride is typically a block of a few hundred bytes. The number of memory partitions is designed to balance the number of processors and other memory requesters.GPUå­˜å‚¨å™¨å­ç³»ç»Ÿè¢«å¸ƒç½®ä¸ºå¤šä¸ªå­˜å‚¨å™¨åˆ†åŒºï¼Œæ¯ä¸ªå­˜å‚¨å™¨åˆ†åŒºåŒ…æ‹¬å®Œå…¨ç‹¬ç«‹çš„å­˜å‚¨å™¨æŽ§åˆ¶å™¨å’Œç”±è¯¥åˆ†åŒºå®Œå…¨å’Œä¸“æœ‰åœ°æ‹¥æœ‰çš„ä¸€ä¸ªæˆ–ä¸¤ä¸ªDRAMè®¾å¤‡ã€‚ ä¸ºäº†å®žçŽ°æœ€ä½³è´Ÿè½½å¹³è¡¡å¹¶å› æ­¤æŽ¥è¿‘nä¸ªåˆ†åŒºçš„ç†è®ºæ€§èƒ½ï¼Œåœ°å€åœ¨æ‰€æœ‰å†…å­˜åˆ†åŒºä¸Šå‡åŒ€åœ°äº¤é”™ã€‚ åˆ†åŒºäº¤ç»‡æ­¥å¹…é€šå¸¸æ˜¯å‡ ç™¾å­—èŠ‚çš„å—ã€‚ å†…å­˜åˆ†åŒºçš„æ•°é‡æ—¨åœ¨å¹³è¡¡å¤„ç†å™¨å’Œå…¶ä»–å†…å­˜è¯·æ±‚è€…çš„æ•°é‡ã€‚ CachesGPU workloads typically have very large working setsâ€”on the order of hundreds of megabytes to generate a single graphics frame. Unlike with CPUs, it is not practical to construct caches on chips large enough to hold anything close to the full working set of a graphics application. Whereas CPUs can assume very high cache hit rates (99.9% or more), GPUs experience hit rates closer to 90% and must therefore cope with many misses in ï¬‚ight. While a CPU can reasonably be designed to halt while waiting for a rare cache miss, a GPU needs to proceed with misses and hits intermingled. We call this a streaming cache architecture.GPUå·¥ä½œè´Ÿè½½é€šå¸¸å…·æœ‰éžå¸¸å¤§çš„å·¥ä½œé›† - å¤§çº¦æ•°ç™¾å…†å­—èŠ‚ä»¥ç”Ÿæˆå•ä¸ªå›¾å½¢å¸§ã€‚ ä¸ŽCPUä¸åŒï¼Œåœ¨è¶³å¤Ÿå¤§çš„èŠ¯ç‰‡ä¸Šæž„å»ºç¼“å­˜ä»¥ä¿å­˜é è¿‘å›¾å½¢åº”ç”¨ç¨‹åºçš„å®Œæ•´å·¥ä½œé›†çš„ä»»ä½•ä¸œè¥¿éƒ½æ˜¯ä¸å®žé™…çš„ã€‚ è™½ç„¶CPUå¯ä»¥æ‰¿æ‹…éžå¸¸é«˜çš„ç¼“å­˜å‘½ä¸­çŽ‡ï¼ˆ99.9ï¼…æˆ–æ›´é«˜ï¼‰ï¼Œä½†GPUçš„å‘½ä¸­çŽ‡æŽ¥è¿‘90ï¼…ï¼Œå› æ­¤å¿…é¡»åº”å¯¹é£žè¡Œä¸­çš„è®¸å¤šæœªå‘½ä¸­ã€‚ è™½ç„¶CPUå¯ä»¥åˆç†åœ°è®¾è®¡ä¸ºåœ¨ç­‰å¾…ç½•è§çš„é«˜é€Ÿç¼“å­˜æœªå‘½ä¸­æ—¶åœæ­¢ï¼Œä½†æ˜¯GPUéœ€è¦ç»§ç»­è¿›è¡Œæœªå‘½ä¸­å’Œå‘½ä¸­æ··åˆã€‚ æˆ‘ä»¬ç§°ä¹‹ä¸ºæµç¼“å­˜æž¶æž„ã€‚ GPU caches must deliver very high-bandwidth to their clients. Consider the case of a texture cache. A typical texture unit may evaluate two bilinear interpolations for each of four pixels per clock cycle, and a GPU may have many such texture units all operating independently. Each bilinear interpolation requires four separate texels, and each texel might be a 64-bit value. Four 16-bit components are typical. Thus, total bandwidth is 2 x 4 x 4 x 64 = 2048 bits per clock. Each separate 64-bit texel is independently addressed, so the cache needs to handle 32 unique addresses per clock. This naturally favors a multibank and/or multiport arrangement of SRAM arrays.GPUç¼“å­˜å¿…é¡»ä¸ºå…¶å®¢æˆ·æä¾›éžå¸¸é«˜çš„å¸¦å®½ã€‚ è€ƒè™‘çº¹ç†ç¼“å­˜çš„æƒ…å†µã€‚ å…¸åž‹çš„çº¹ç†å•å…ƒå¯ä»¥é’ˆå¯¹æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸçš„å››ä¸ªåƒç´ ä¸­çš„æ¯ä¸€ä¸ªè¯„ä¼°ä¸¤ä¸ªåŒçº¿æ€§æ’å€¼ï¼Œå¹¶ä¸”GPUå¯ä»¥å…·æœ‰å…¨éƒ¨ç‹¬ç«‹æ“ä½œçš„è®¸å¤šè¿™æ ·çš„çº¹ç†å•å…ƒã€‚ æ¯ä¸ªåŒçº¿æ€§æ’å€¼éœ€è¦å››ä¸ªå•ç‹¬çš„çº¹ç´ ï¼Œæ¯ä¸ªçº¹ç´ å¯èƒ½æ˜¯64ä½å€¼ã€‚ é€šå¸¸æœ‰å››ä¸ª16ä½ç»„ä»¶ã€‚ å› æ­¤ï¼Œæ€»å¸¦å®½æ˜¯æ¯æ—¶é’Ÿ2Ã—4Ã—4Ã—64 = 2048æ¯”ç‰¹ã€‚ æ¯ä¸ªç‹¬ç«‹çš„64ä½çº¹ç´ éƒ½æ˜¯ç‹¬ç«‹å¯»å€çš„ï¼Œå› æ­¤ç¼“å­˜éœ€è¦æ¯ä¸ªæ—¶é’Ÿå¤„ç†32ä¸ªå”¯ä¸€åœ°å€ã€‚ è¿™è‡ªç„¶æœ‰åˆ©äºŽSRAMé˜µåˆ—çš„å¤šåº“å’Œ/æˆ–å¤šç«¯å£å¸ƒç½®ã€‚ MMUModern GPUs are capable of translating virtual addresses to physical addresses. On the GeForce 8800, all processing units generate memory addresses in a 40-bit virtual address space. For computing, load and store thread instructions use 32-bit byte addresses, which are extended to a 40-bit virtual address by adding a 40-bit offset. A memory management unit performs virtual to physical address translation; hardware reads the page tables from local memory to respond to misses on behalf of a hierarchy of translation lookaside buffers spread out among the processors and rendering engines. In addition to physical page bits, GPU page table entries specify the compression algorithm for each page. Page sizes range from 4 to 128 kilobytes.çŽ°ä»£GPUèƒ½å¤Ÿå°†è™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ã€‚ åœ¨GeForce 8800ä¸Šï¼Œæ‰€æœ‰å¤„ç†å•å…ƒéƒ½åœ¨40ä½è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ç”Ÿæˆå†…å­˜åœ°å€ã€‚ å¯¹äºŽè®¡ç®—ï¼ŒåŠ è½½å’Œå­˜å‚¨çº¿ç¨‹æŒ‡ä»¤ï¼Œä½¿ç”¨32ä½å­—èŠ‚åœ°å€ï¼Œé€šè¿‡æ·»åŠ 40ä½åç§»é‡å°†å…¶æ‰©å±•ä¸º40ä½è™šæ‹Ÿåœ°å€ã€‚ å­˜å‚¨å™¨ç®¡ç†å•å…ƒæ‰§è¡Œè™šæ‹Ÿåˆ°ç‰©ç†åœ°å€è½¬æ¢; ç¡¬ä»¶ä»Žæœ¬åœ°å­˜å‚¨å™¨è¯»å–é¡µè¡¨ä»¥ä»£è¡¨åœ¨å¤„ç†å™¨å’Œå‘ˆçŽ°å¼•æ“Žä¹‹é—´å±•å¼€çš„è½¬æ¢åŽå¤‡ç¼“å†²å™¨çš„å±‚æ¬¡ç»“æž„æ¥å“åº”æœªå‘½ä¸­ã€‚ é™¤äº†ç‰©ç†é¡µé¢ä½ä¹‹å¤–ï¼ŒGPUé¡µè¡¨æ¡ç›®è¿˜ä¸ºæ¯ä¸ªé¡µé¢æŒ‡å®šåŽ‹ç¼©ç®—æ³•ã€‚ é¡µé¢å¤§å°èŒƒå›´ä¸º4åˆ°128åƒå­—èŠ‚ã€‚ Memory SpacesAs introduced in Section C.3, CUDA exposes different memory spaces to allow the programmer to store data values in the most performance-optimal way. For the following discussion, NVIDIA Tesla architecture GPUs are assumed.å¦‚C.3èŠ‚æ‰€è¿°ï¼ŒCUDAå…¬å¼€äº†ä¸åŒçš„å†…å­˜ç©ºé—´ï¼Œä»¥å…è®¸ç¨‹åºå‘˜ä»¥æœ€ä½³æ€§èƒ½æœ€ä½³çš„æ–¹å¼å­˜å‚¨æ•°æ®å€¼ã€‚ å¯¹äºŽä»¥ä¸‹è®¨è®ºï¼Œå‡è®¾ä½¿ç”¨NVIDIA Teslaæž¶æž„GPUã€‚ Global memoryGlobal memory is stored in external DRAM; it is not local to any one physical streaming multiprocessor (SM) because it is meant for communication among different CTAs (thread blocks) in different grids. In fact, the many CTAs that reference a location in global memory may not be executing in the GPU at the same time; by design, in CUDA a programmer does not know the relative order in which CTAs are executed. Because the address space is evenly distributed among all memory partitions, there must be a read/write path from any streaming multiprocessor to any DRAM partition. 1399/5000å…¨å±€å­˜å‚¨å™¨å­˜å‚¨åœ¨å¤–éƒ¨DRAMä¸­;å®ƒä¸æ˜¯ä»»ä½•ä¸€ä¸ªç‰©ç†æµå¤šå¤„ç†å™¨ï¼ˆSMï¼‰çš„æœ¬åœ°ï¼Œå› ä¸ºå®ƒç”¨äºŽä¸åŒç½‘æ ¼ä¸­ä¸åŒCTAï¼ˆçº¿ç¨‹å—ï¼‰ä¹‹é—´çš„é€šä¿¡ã€‚å®žé™…ä¸Šï¼Œå¼•ç”¨å…¨å±€å­˜å‚¨å™¨ä¸­çš„ä½ç½®çš„è®¸å¤šCTAå¯èƒ½ä¸ä¼šåŒæ—¶åœ¨GPUä¸­æ‰§è¡Œ;æŒ‰ç…§è®¾è®¡ï¼Œåœ¨CUDAä¸­ï¼Œç¨‹åºå‘˜ä¸çŸ¥é“æ‰§è¡ŒCTAçš„ç›¸å¯¹é¡ºåºã€‚ç”±äºŽåœ°å€ç©ºé—´å‡åŒ€åˆ†å¸ƒåœ¨æ‰€æœ‰å†…å­˜åˆ†åŒºä¸­ï¼Œå› æ­¤å¿…é¡»å­˜åœ¨ä»Žä»»ä½•æµå¼å¤šå¤„ç†å™¨åˆ°ä»»ä½•DRAMåˆ†åŒºçš„è¯»/å†™è·¯å¾„ã€‚ Access to global memory by different threads (and diï¬€erent processors) is not guaranteed to have sequential consistency. Thread programs see a relaxed memory ordering model. Within a thread, the order of memory reads and writes to the same address is preserved, but the order of accesses to different addresses may not be preserved. Memory reads and writes requested by different threads are unordered. Within a CTA, the barrier synchronization instruction bar.sync can be used to obtain strict memory ordering among the threads of the CTA. The membar thread instruction provides a memory barrier/fence operation that commits prior memory accesses and makes them visible to other threads before proceeding. Threads can also use the atomic memory operations described in Section C.4 to coordinate work on memory they share.ä¸åŒçº¿ç¨‹ï¼ˆå’Œä¸åŒçš„å¤„ç†å™¨ï¼‰å¯¹å…¨å±€å†…å­˜çš„è®¿é—®ä¸ä¿è¯å…·æœ‰é¡ºåºä¸€è‡´æ€§ã€‚ çº¿ç¨‹ç¨‹åºçœ‹åˆ°æ”¾æ¾çš„å†…å­˜æŽ’åºæ¨¡åž‹ã€‚ åœ¨çº¿ç¨‹å†…ï¼Œä¿ç•™äº†å¯¹åŒä¸€åœ°å€çš„å†…å­˜è¯»å–å’Œå†™å…¥é¡ºåºï¼Œä½†å¯èƒ½æ— æ³•ä¿ç•™å¯¹ä¸åŒåœ°å€çš„è®¿é—®é¡ºåºã€‚ ä¸åŒçº¿ç¨‹è¯·æ±‚çš„å†…å­˜è¯»å–å’Œå†™å…¥æ˜¯æ— åºçš„ã€‚ åœ¨CTAä¸­ï¼Œå±éšœåŒæ­¥æŒ‡ä»¤bar.syncå¯ç”¨äºŽåœ¨CTAçš„çº¿ç¨‹ä¹‹é—´èŽ·å¾—ä¸¥æ ¼çš„å†…å­˜æŽ’åºã€‚ membarçº¿ç¨‹æŒ‡ä»¤æä¾›äº†ä¸€ä¸ªå†…å­˜å±éšœ/å›´æ …æ“ä½œï¼Œå®ƒæäº¤å…ˆå‰çš„å†…å­˜è®¿é—®ï¼Œå¹¶ä½¿å…¶åœ¨ç»§ç»­ä¹‹å‰å¯¹å…¶ä»–çº¿ç¨‹å¯è§ã€‚ çº¿ç¨‹è¿˜å¯ä»¥ä½¿ç”¨ç¬¬C.4èŠ‚ä¸­æè¿°çš„åŽŸå­å†…å­˜æ“ä½œæ¥åè°ƒå®ƒä»¬å…±äº«çš„å†…å­˜çš„å·¥ä½œã€‚ Shared memoryPer-CTA shared memory is only visible to the threads that belong to that CTA, and shared memory only occupies storage from the time a CTA is created to the time it terminates. Shared memory can therefore reside on-chip. This approach has many benefits. First, shared memory traffic does not need to compete with limited off-chip bandwidth needed for global memory references. Second, it is practical to build very high-bandwidth memory structures on-chip to support the read/write demands of each streaming multiprocessor. In fact, the shared memory is closely coupled to the streaming multiprocessorPer-CTAå…±äº«å†…å­˜ä»…å¯¹å±žäºŽè¯¥CTAçš„çº¿ç¨‹å¯è§ï¼Œå…±äº«å†…å­˜ä»…å ç”¨ä»Žåˆ›å»ºCTAåˆ°ç»ˆæ­¢æ—¶çš„å­˜å‚¨ã€‚ å› æ­¤ï¼Œå…±äº«å­˜å‚¨å™¨å¯ä»¥é©»ç•™åœ¨èŠ¯ç‰‡ä¸Šã€‚ è¿™ç§æ–¹æ³•æœ‰å¾ˆå¤šå¥½å¤„ã€‚ é¦–å…ˆï¼Œå…±äº«å†…å­˜æµé‡ä¸éœ€è¦ä¸Žå…¨å±€å†…å­˜å¼•ç”¨æ‰€éœ€çš„æœ‰é™ç‰‡å¤–å¸¦å®½ç«žäº‰ã€‚ å…¶æ¬¡ï¼Œåœ¨ç‰‡ä¸Šæž„å»ºéžå¸¸é«˜å¸¦å®½çš„å­˜å‚¨å™¨ç»“æž„ä»¥æ”¯æŒæ¯ä¸ªæµå¤šå¤„ç†å™¨çš„è¯»/å†™éœ€æ±‚æ˜¯å®žç”¨çš„ã€‚ å®žé™…ä¸Šï¼Œå…±äº«å­˜å‚¨å™¨ä¸Žæµå¼å¤šå¤„ç†å™¨ç´§å¯†è€¦åˆ Each streaming multiprocessor contains eight physical thread processors. During one shared memory clock cycle, each thread processor can process two threadsâ€™ worth of instructions, so 16 threadsâ€™ worth of shared memory requests must be handled in each clock. Because each thread can generate its own addresses, and the addresses are typically unique, the shared memory is built using 16 independently addressable SRAM banks. For common access patterns, 16 banks are sufcient to maintain throughput, but pathological cases are possible; for example, all 16 threads might happen to access a different address on one SRAM bank. It must be possible to route a request from any thread lane to any bank of SRAM, so a 16-by-16 interconnection network is required.æ¯ä¸ªæµå¼å¤šå¤„ç†å™¨åŒ…å«å…«ä¸ªç‰©ç†çº¿ç¨‹å¤„ç†å™¨ã€‚ åœ¨ä¸€ä¸ªå…±äº«å†…å­˜æ—¶é’Ÿå‘¨æœŸå†…ï¼Œæ¯ä¸ªçº¿ç¨‹å¤„ç†å™¨å¯ä»¥å¤„ç†ä¸¤ä¸ªçº¿ç¨‹çš„æŒ‡ä»¤ï¼Œå› æ­¤å¿…é¡»åœ¨æ¯ä¸ªæ—¶é’Ÿä¸­å¤„ç†16ä¸ªçº¿ç¨‹çš„å…±äº«å†…å­˜è¯·æ±‚ã€‚ ç”±äºŽæ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç”Ÿæˆè‡ªå·±çš„åœ°å€ï¼Œå¹¶ä¸”åœ°å€é€šå¸¸æ˜¯å”¯ä¸€çš„ï¼Œå› æ­¤å…±äº«å†…å­˜ä½¿ç”¨16ä¸ªå¯ç‹¬ç«‹å¯»å€çš„SRAM bankæž„å»ºã€‚ å¯¹äºŽå¸¸è§çš„è®¿é—®æ¨¡å¼ï¼Œ16ä¸ªé“¶è¡Œè¶³ä»¥ç»´æŒåžåé‡ï¼Œä½†ç—…ç†æƒ…å†µæ˜¯å¯èƒ½çš„; ä¾‹å¦‚ï¼Œæ‰€æœ‰16ä¸ªçº¿ç¨‹å¯èƒ½ç¢°å·§è®¿é—®ä¸€ä¸ªSRAMç»„ä¸Šçš„ä¸åŒåœ°å€ã€‚ å¿…é¡»å¯ä»¥å°†æ¥è‡ªä»»ä½•çº¿ç¨‹é€šé“çš„è¯·æ±‚è·¯ç”±åˆ°ä»»ä½•SRAMç»„ï¼Œå› æ­¤éœ€è¦16Ã—16çš„äº’è¿žç½‘ç»œã€‚ Local MemoryPer-thread local memory is private memory visible only to a single thread. Local memory is architecturally larger than the threadâ€™s register file, and a program can compute addresses into local memory. To support large allocations of local memory (recall the total allocation is the per-thread allocation times the number of active threads), local memory is allocated in external DRAM. Although global and per-thread local memory reside oï¬€-chip, they are wellsuited to being cached on-chip.æ¯çº¿ç¨‹æœ¬åœ°å†…å­˜æ˜¯ä»…å¯¹å•ä¸ªçº¿ç¨‹å¯è§çš„ç§æœ‰å†…å­˜ã€‚ æœ¬åœ°å­˜å‚¨å™¨åœ¨ä½“ç³»ç»“æž„ä¸Šæ¯”çº¿ç¨‹çš„å¯„å­˜å™¨æ–‡ä»¶å¤§ï¼Œå¹¶ä¸”ç¨‹åºå¯ä»¥å°†åœ°å€è®¡ç®—åˆ°æœ¬åœ°å­˜å‚¨å™¨ä¸­ã€‚ ä¸ºäº†æ”¯æŒæœ¬åœ°å†…å­˜çš„å¤§é‡åˆ†é…ï¼ˆè°ƒç”¨æ€»åˆ†é…æ˜¯æ¯çº¿ç¨‹åˆ†é…ä¹˜ä»¥æ´»åŠ¨çº¿ç¨‹æ•°ï¼‰ï¼Œæœ¬åœ°å†…å­˜åˆ†é…åœ¨å¤–éƒ¨DRAMä¸­ã€‚ è™½ç„¶å…¨å±€å’Œæ¯çº¿ç¨‹æœ¬åœ°å†…å­˜é©»ç•™åœ¨èŠ¯ç‰‡ä¸Šï¼Œä½†å®ƒä»¬éžå¸¸é€‚åˆåœ¨ç‰‡ä¸Šç¼“å­˜ã€‚ Constant MemoryConstant memory is read-only to a program running on the SM (it can be written via commands to the GPU). It is stored in external DRAM and cached in the SM. Because commonly most or all threads in a SIMT warp read from the same address in constant memory, a single address lookup per clock is sufcient. The constant cache is designed to broadcast scalar values to threads in each warp.å¸¸é‡å­˜å‚¨å™¨å¯¹SMä¸Šè¿è¡Œçš„ç¨‹åºæ˜¯åªè¯»çš„ï¼ˆå¯ä»¥é€šè¿‡å‘½ä»¤å†™å…¥GPUï¼‰ã€‚ å®ƒå­˜å‚¨åœ¨å¤–éƒ¨DRAMä¸­å¹¶ç¼“å­˜åœ¨SMä¸­ã€‚ å› ä¸ºSIMT warpä¸­çš„å¤§å¤šæ•°æˆ–æ‰€æœ‰çº¿ç¨‹é€šå¸¸ä»Žå¸¸é‡å­˜å‚¨å™¨ä¸­çš„ç›¸åŒåœ°å€è¯»å–ï¼Œæ‰€ä»¥æ¯ä¸ªæ—¶é’Ÿçš„å•ä¸ªåœ°å€æŸ¥æ‰¾æ˜¯è¶³å¤Ÿçš„ã€‚ å¸¸é‡ç¼“å­˜æ—¨åœ¨å‘æ¯ä¸ªwarpä¸­çš„çº¿ç¨‹å¹¿æ’­æ ‡é‡å€¼ã€‚ Texture MemoryTexture memory holds large read-only arrays of data. Textures for computing have the same attributes and capabilities as textures used with 3D graphics. Although textures are commonly two-dimensional images (2D arrays of pixel values), 1D (linear) and 3D (volume) textures are also available.çº¹ç†å†…å­˜åŒ…å«å¤§é‡åªè¯»æ•°æ®æ•°ç»„ã€‚ ç”¨äºŽè®¡ç®—çš„çº¹ç†å…·æœ‰ä¸Žç”¨äºŽ3Då›¾å½¢çš„çº¹ç†ç›¸åŒçš„å±žæ€§å’Œèƒ½åŠ›ã€‚ è™½ç„¶çº¹ç†é€šå¸¸æ˜¯äºŒç»´å›¾åƒï¼ˆåƒç´ å€¼çš„2Dé˜µåˆ—ï¼‰ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨1Dï¼ˆçº¿æ€§ï¼‰å’Œ3Dï¼ˆä½“ç§¯ï¼‰çº¹ç†ã€‚ A compute program references a texture using a tex instruction. Operands include an identifer to name the texture, and 1, 2, or 3 coordinates based on the texture dimensionality. Te ï¬‚oating-point coordinates include a fractional portion that specifes a sample location, ofen in between texel locations. Noninteger coordinates invoke a bilinear weighted interpolation of the four closest values (for a 2D texture) before the result is returned to the program.è®¡ç®—ç¨‹åºä½¿ç”¨texæŒ‡ä»¤å¼•ç”¨çº¹ç†ã€‚ æ“ä½œæ•°åŒ…æ‹¬ç”¨äºŽå‘½åçº¹ç†çš„æ ‡è¯†ç¬¦ï¼Œä»¥åŠåŸºäºŽçº¹ç†ç»´åº¦çš„1,2æˆ–3ä¸ªåæ ‡ã€‚ æµ®ç‚¹åæ ‡åŒ…æ‹¬æŒ‡å®šæ ·æœ¬ä½ç½®çš„å°æ•°éƒ¨åˆ†ï¼Œä½äºŽçº¹ç´ ä½ç½®ä¹‹é—´ã€‚ åœ¨å°†ç»“æžœè¿”å›žåˆ°ç¨‹åºä¹‹å‰ï¼Œéžæ•´æ•°åæ ‡è°ƒç”¨å››ä¸ªæœ€æŽ¥è¿‘å€¼ï¼ˆå¯¹äºŽ2Dçº¹ç†ï¼‰çš„åŒçº¿æ€§åŠ æƒæ’å€¼ã€‚ Texture fetches are cached in a streaming cache hierarchy designed to optimize throughput of texture fetches from thousands of concurrent threads. Some programs use texture fetches as a way to cache global memory.çº¹ç†æå–ç¼“å­˜åœ¨æµç¼“å­˜å±‚æ¬¡ç»“æž„ä¸­ï¼Œæ—¨åœ¨ä¼˜åŒ–æ¥è‡ªæ•°åƒä¸ªå¹¶å‘çº¿ç¨‹çš„çº¹ç†æå–çš„åžåé‡ã€‚ ä¸€äº›ç¨‹åºä½¿ç”¨çº¹ç†æå–ä½œä¸ºç¼“å­˜å…¨å±€å†…å­˜çš„æ–¹æ³•ã€‚ SurfacesSurface is a generic term for a one-dimensional, two-dimensional, or threedimensional array of pixel values and an associated format. A variety of formats are defned; for example, a pixel may be defned as four 8-bit RGBA integer components, or four 16-bit ï¬‚oating-point components. A program kernel does not need to know the surface type. A tex instruction recasts its result values as ï¬‚oating-point, depending on the surface format. Load/Store AccessLoad/store instructions with integer byte addressing enable the writing and compiling of programs in conventional languages like C and C++. CUDA programs use load/store instructions to access memory.å¸¦æœ‰æ•´æ•°å­—èŠ‚å¯»å€çš„åŠ è½½/å­˜å‚¨æŒ‡ä»¤å¯ä»¥ç”¨Cå’ŒC ++ç­‰ä¼ ç»Ÿè¯­è¨€ç¼–å†™å’Œç¼–è¯‘ç¨‹åºã€‚ CUDAç¨‹åºä½¿ç”¨åŠ è½½/å­˜å‚¨æŒ‡ä»¤æ¥è®¿é—®å†…å­˜ã€‚ To improve memory bandwidth and reduce overhead, the local and global load/store instructions coalesce individual parallel thread requests from the same warp together into a single memory block request when the addresses fall in the same block and meet alignment criteria. Coalescing individual small memory requests into large block requests provides a signifcant performance boost over separate requests. Te large thread count, together with support for many outstanding load requests, helps cover load-to-use latency for local and global memory implemented in external DRAM.ä¸ºäº†æ”¹å–„å­˜å‚¨å™¨å¸¦å®½å¹¶å‡å°‘å¼€é”€ï¼Œå½“åœ°å€è½å…¥åŒä¸€å—å¹¶æ»¡è¶³å¯¹é½æ ‡å‡†æ—¶ï¼Œæœ¬åœ°å’Œå…¨å±€åŠ è½½/å­˜å‚¨æŒ‡ä»¤å°†æ¥è‡ªç›¸åŒwarpçš„å„ä¸ªå¹¶è¡Œçº¿ç¨‹è¯·æ±‚åˆå¹¶ä¸ºå•ä¸ªå­˜å‚¨å™¨å—è¯·æ±‚ã€‚ å°†å•ä¸ªå°å†…å­˜è¯·æ±‚åˆå¹¶åˆ°å¤§å—è¯·æ±‚ä¸­å¯ä»¥æ˜¾ç€æå‡å•ç‹¬è¯·æ±‚çš„æ€§èƒ½ã€‚ å¤§çº¿ç¨‹æ•°ä»¥åŠå¯¹è®¸å¤šæœªå®Œæˆçš„è´Ÿè½½è¯·æ±‚çš„æ”¯æŒæœ‰åŠ©äºŽè¦†ç›–å¤–éƒ¨DRAMä¸­å®žçŽ°çš„æœ¬åœ°å’Œå…¨å±€å†…å­˜çš„è´Ÿè½½ä½¿ç”¨å»¶è¿Ÿã€‚ ROPAs shown in Figure C.2.5, NVIDIA Tesla architecture GPUs comprise a scalable streaming processor array (SPA), which performs all of the GPUâ€™s programmabl calculations, and a scalable memory system, which comprises external DRAM control and fxed function Raster Operation Processors (ROPs) that perform color and depth framebuffer operations directly on memory. Each ROP unit is paired with a specifc memory partition. ROP partitions are fed from the SMs via an interconnection network. Each ROP is responsible for depth and stencil tests and updates, as well as color blending. The ROP and memory controllers cooperate to implement lossless color and depth compression (up to 8:1) to reduce external bandwidth demand. ROP units also perform atomic operations on memory.å¦‚å›¾C.2.5æ‰€ç¤ºï¼ŒNVIDIA Teslaæž¶æž„GPUåŒ…æ‹¬ä¸€ä¸ªå¯æ‰©å±•çš„æµå¤„ç†å™¨é˜µåˆ—ï¼ˆSPAï¼‰ï¼Œå®ƒæ‰§è¡Œæ‰€æœ‰GPUçš„programmablè®¡ç®—ï¼Œä»¥åŠä¸€ä¸ªå¯æ‰©å±•çš„å­˜å‚¨å™¨ç³»ç»Ÿï¼ŒåŒ…æ‹¬å¤–éƒ¨DRAMæŽ§åˆ¶å’Œå›ºå®šåŠŸèƒ½å…‰æ …æ“ä½œå¤„ç†å™¨ï¼ˆROPï¼‰ ï¼‰ç›´æŽ¥åœ¨å†…å­˜ä¸Šæ‰§è¡Œé¢œè‰²å’Œæ·±åº¦å¸§ç¼“å†²æ“ä½œã€‚ æ¯ä¸ªROPå•å…ƒä¸Žç‰¹å®šçš„å†…å­˜åˆ†åŒºé…å¯¹ã€‚ ROPåˆ†åŒºé€šè¿‡äº’è¿žç½‘ç»œä»ŽSMé¦ˆé€ã€‚ æ¯ä¸ªROPè´Ÿè´£æ·±åº¦å’Œæ¨¡æ¿æµ‹è¯•å’Œæ›´æ–°ï¼Œä»¥åŠé¢œè‰²æ··åˆã€‚ ROPå’Œå†…å­˜æŽ§åˆ¶å™¨ååŒå·¥ä½œï¼Œå®žçŽ°æ— æŸè‰²å½©å’Œæ·±åº¦åŽ‹ç¼©ï¼ˆé«˜è¾¾8ï¼š1ï¼‰ï¼Œä»¥å‡å°‘å¤–éƒ¨å¸¦å®½éœ€æ±‚ã€‚ ROPå•å…ƒè¿˜å¯¹å†…å­˜æ‰§è¡ŒåŽŸå­æ“ä½œã€‚]]></content>
      <categories>
        <category>GPUç›¸å…³</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[4_Multithreaded_Multiprocessor_Architecture]]></title>
    <url>%2F2019%2F01%2F27%2FMultithreaded_Multiprocessor_Architecture%2F</url>
    <content type="text"><![CDATA[To address different market segments, GPUs implement scalable numbers of multiprocessorsâ€”in fact, GPUs are multiprocessors composed of multiprocessors. Furthermore, each multiprocessor is highly multithreaded to execute many fine-grained vertex and pixel shader threads efficiently. A quality basic GPU has two to four multiprocessors, while a gaming enthusiastâ€™s GPU or computing platform has dozens of them. This section looks at the architecture of one such multithreaded multiprocessor, a simplifed version of the NVIDIA Tesla streaming multiprocessor (SM) described in Section C.7.ä¸ºäº†è§£å†³ä¸åŒçš„ç»†åˆ†å¸‚åœºï¼ŒGPUå®žçŽ°äº†å¯æ‰©å±•æ•°é‡çš„å¤šå¤„ç†å™¨ - å®žé™…ä¸Šï¼ŒGPUæ˜¯ç”±å¤šå¤„ç†å™¨ç»„æˆçš„å¤šå¤„ç†å™¨ã€‚ æ­¤å¤–ï¼Œæ¯ä¸ªå¤šå¤„ç†å™¨éƒ½æ˜¯é«˜åº¦å¤šçº¿ç¨‹çš„ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æ‰§è¡Œè®¸å¤šç»†ç²’åº¦çš„é¡¶ç‚¹å’Œåƒç´ ç€è‰²å™¨çº¿ç¨‹ã€‚ é«˜è´¨é‡çš„åŸºæœ¬GPUæœ‰ä¸¤åˆ°å››ä¸ªå¤šå¤„ç†å™¨ï¼Œè€Œæ¸¸æˆçˆ±å¥½è€…çš„GPUæˆ–è®¡ç®—å¹³å°æœ‰å‡ åä¸ªã€‚ æœ¬èŠ‚ä»‹ç»ä¸€ä¸ªè¿™æ ·çš„å¤šçº¿ç¨‹å¤šå¤„ç†å™¨çš„ä½“ç³»ç»“æž„ï¼Œè¿™æ˜¯ç¬¬C.7èŠ‚ä¸­æè¿°çš„NVIDIA Teslaæµå¤šå¤„ç†å™¨ï¼ˆSMï¼‰çš„ç®€åŒ–ç‰ˆæœ¬ã€‚ Why use a multiprocessor, rather than several independent processors? The parallelism within each multiprocessor provides localized high performance and supports extensive multithreading for the fine-grained parallel programming models described in Section C.3. The individual threads of a thread block execute together within a multiprocessor to share data. The multithreaded multiprocessor design we describe here has eight scalar processor cores in a tightly coupled architecture, and executes up to 512 threads (the SM described in Section C.7 executes up to 768 threads). For area and power effciency, the multiprocessor shares large complex units among the eight processor cores, including the instruction cache, the multithreaded instruction unit, and the shared memory RAM.ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šå¤„ç†å™¨ï¼Œè€Œä¸æ˜¯å‡ ä¸ªç‹¬ç«‹çš„å¤„ç†å™¨ï¼Ÿ æ¯ä¸ªå¤šå¤„ç†å™¨å†…çš„å¹¶è¡Œæ€§æä¾›äº†æœ¬åœ°åŒ–çš„é«˜æ€§èƒ½ï¼Œå¹¶æ”¯æŒC.3èŠ‚ä¸­æè¿°çš„ç»†ç²’åº¦å¹¶è¡Œç¼–ç¨‹æ¨¡åž‹çš„å¹¿æ³›å¤šçº¿ç¨‹ã€‚ çº¿ç¨‹å—çš„å„ä¸ªçº¿ç¨‹åœ¨å¤šå¤„ç†å™¨å†…ä¸€èµ·æ‰§è¡Œä»¥å…±äº«æ•°æ®ã€‚ æˆ‘ä»¬åœ¨è¿™é‡Œæè¿°çš„å¤šçº¿ç¨‹å¤šå¤„ç†å™¨è®¾è®¡åœ¨ç´§å¯†è€¦åˆ(tightly coupled)çš„æž¶æž„ä¸­æœ‰å…«ä¸ªæ ‡é‡å¤„ç†å™¨å†…æ ¸ï¼Œå¹¶æ‰§è¡Œå¤šè¾¾512ä¸ªçº¿ç¨‹ï¼ˆC.7èŠ‚ä¸­æè¿°çš„SMæ‰§è¡Œå¤šè¾¾768ä¸ªçº¿ç¨‹ï¼‰ã€‚ å¯¹äºŽé¢ç§¯å’ŒåŠŸçŽ‡æ•ˆçŽ‡ï¼Œå¤šå¤„ç†å™¨åœ¨å…«ä¸ªå¤„ç†å™¨å†…æ ¸ä¹‹é—´å…±äº«å¤§åž‹å¤æ‚å•å…ƒï¼ŒåŒ…æ‹¬æŒ‡ä»¤é«˜é€Ÿç¼“å­˜ï¼Œå¤šçº¿ç¨‹æŒ‡ä»¤å•å…ƒå’Œå…±äº«å†…å­˜RAMã€‚ Massive MultithreadingGPU processors are highly multithreaded to achieve several goals:GPUå¤„ç†å™¨æ˜¯é«˜åº¦å¤šçº¿ç¨‹çš„ï¼Œä»¥å®žçŽ°å‡ ä¸ªç›®æ ‡ï¼š Cover the latency of memory loads and texture fetches from DRAM è¦†ç›–DRAMä¸­å­˜å‚¨å™¨åŠ è½½å’Œçº¹ç†æå–çš„å»¶è¿Ÿ Support fine-grained parallel graphics shader programming models æ”¯æŒç»†ç²’åº¦å¹¶è¡Œå›¾å½¢ç€è‰²å™¨ç¼–ç¨‹æ¨¡åž‹ Support fine-grained parallel computing programming models æ”¯æŒç»†ç²’åº¦å¹¶è¡Œè®¡ç®—ç¼–ç¨‹æ¨¡åž‹ Virtualize the physical processors as threads and thread blocks to provide transparent scalability å°†ç‰©ç†å¤„ç†å™¨è™šæ‹ŸåŒ–ä¸ºçº¿ç¨‹å’Œçº¿ç¨‹å—ï¼Œä»¥æä¾›é€æ˜Žçš„å¯ä¼¸ç¼©æ€§ Simplify the parallel programming model to writing a serial program for one thread ç®€åŒ–å¹¶è¡Œç¼–ç¨‹æ¨¡åž‹ï¼Œä¸ºä¸€ä¸ªçº¿ç¨‹ç¼–å†™ä¸²è¡Œç¨‹åº Memory and texture fetch latency can require hundreds of processor clocks, because GPUs typically have small streaming caches rather than large working-set caches like CPUs. A fetch request generally requires a full DRAM access latency plus interconnect and buï¬€ering latency. Multithreading helps cover the latency with useful computingâ€”while one thread is waiting for a load or texture fetch to complete, the processor can execute another thread. The fne-grained parallel programming models provide literally thousands of independent threads that can keep many processors busy despite the long memory latency seen by individual threads.å†…å­˜å’Œçº¹ç†æå–å»¶è¿Ÿå¯èƒ½éœ€è¦æ•°ç™¾ä¸ªå¤„ç†å™¨æ—¶é’Ÿï¼Œå› ä¸ºGPUé€šå¸¸å…·æœ‰å°åž‹æµç¼“å­˜ï¼Œè€Œä¸æ˜¯åƒCPUé‚£æ ·çš„å¤§åž‹å·¥ä½œé›†ç¼“å­˜ã€‚ èŽ·å–è¯·æ±‚é€šå¸¸éœ€è¦å®Œæ•´çš„DRAMè®¿é—®å»¶è¿Ÿä»¥åŠäº’è¿žå’Œç¼“å†²å»¶è¿Ÿã€‚ å¤šçº¿ç¨‹æœ‰åŠ©äºŽé€šè¿‡æœ‰ç”¨çš„è®¡ç®—æ¥å¼¥è¡¥å»¶è¿Ÿ - å½“ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨ç­‰å¾…åŠ è½½æˆ–çº¹ç†æå–å®Œæˆæ—¶ï¼Œå¤„ç†å™¨å¯ä»¥æ‰§è¡Œå¦ä¸€ä¸ªçº¿ç¨‹ã€‚ è¿™äº›ç»†ç²’åº¦çš„å¹¶è¡Œç¼–ç¨‹æ¨¡åž‹æä¾›äº†æ•°åƒä¸ªç‹¬ç«‹çš„çº¿ç¨‹ï¼Œå³ä½¿å„ä¸ªçº¿ç¨‹çœ‹åˆ°çš„å†…å­˜å»¶è¿Ÿå¾ˆé•¿ï¼Œä¹Ÿå¯ä»¥ä½¿è®¸å¤šå¤„ç†å™¨ä¿æŒå¿™ç¢ŒçŠ¶æ€ã€‚ A graphics vertex or pixel shader program is a program for a single thread that processes a vertex or a pixel. Similarly, a CUDA program is a C program for a single thread that computes a result. Graphics and computing programs instantiate many parallel threads to render complex images and compute large result arrays. To dynamically balance shifting vertex and pixel shader thread workloads, each multiprocessor concurrently executes multiple different thread programs and different types of shader programs.å›¾å½¢é¡¶ç‚¹æˆ–åƒç´ ç€è‰²å™¨ç¨‹åºæ˜¯ç”¨äºŽå¤„ç†é¡¶ç‚¹æˆ–åƒç´ çš„å•ä¸ªçº¿ç¨‹çš„ç¨‹åºã€‚ ç±»ä¼¼åœ°ï¼ŒCUDAç¨‹åºæ˜¯ç”¨äºŽè®¡ç®—ç»“æžœçš„å•ä¸ªçº¿ç¨‹çš„Cç¨‹åºã€‚ å›¾å½¢å’Œè®¡ç®—ç¨‹åºå®žä¾‹åŒ–è®¸å¤šå¹¶è¡Œçº¿ç¨‹ä»¥æ¸²æŸ“å¤æ‚å›¾åƒå¹¶è®¡ç®—å¤§åž‹ç»“æžœæ•°ç»„ã€‚ ä¸ºäº†åŠ¨æ€å¹³è¡¡ç§»ä½é¡¶ç‚¹å’Œåƒç´ ç€è‰²å™¨çº¿ç¨‹å·¥ä½œè´Ÿè½½ï¼Œæ¯ä¸ªå¤šå¤„ç†å™¨åŒæ—¶æ‰§è¡Œå¤šä¸ªä¸åŒçš„çº¿ç¨‹ç¨‹åºå’Œä¸åŒç±»åž‹çš„ç€è‰²å™¨ç¨‹åºã€‚ To support the independent vertex, primitive, and pixel programming model of graphics shading languages and the single-thread programming model of CUDA C/C++, each GPU thread has its own private registers, private per-thread memory, program counter, and thread execution state, and can execute an independent code path. To efciently execute hundreds of concurrent lightweight threads, the GPU multiprocessor is hardware multithreadedâ€”it manages and executes hundreds of concurrent threads in hardware without scheduling overhead. Concurrent threads within thread blocks can synchronize at a barrier with a single instruction. Lightweight thread creation, zero-overhead thread scheduling, and fast barrier synchronization effciently support very fne-grained parallelism.ä¸ºäº†æ”¯æŒå›¾å½¢ç€è‰²è¯­è¨€çš„ç‹¬ç«‹é¡¶ç‚¹ï¼ŒåŽŸå§‹å’Œåƒç´ ç¼–ç¨‹æ¨¡åž‹ä»¥åŠCUDA C / C ++çš„å•çº¿ç¨‹ç¼–ç¨‹æ¨¡åž‹ï¼Œæ¯ä¸ªGPUçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ç§æœ‰å¯„å­˜å™¨ï¼Œç§æœ‰æ¯çº¿ç¨‹å†…å­˜ï¼Œç¨‹åºè®¡æ•°å™¨å’Œçº¿ç¨‹æ‰§è¡ŒçŠ¶æ€ï¼Œå¯ä»¥æ‰§è¡Œç‹¬ç«‹çš„ä»£ç è·¯å¾„ã€‚ ä¸ºäº†æœ‰æ•ˆåœ°æ‰§è¡Œæ•°ç™¾ä¸ªå¹¶å‘è½»é‡çº§çº¿ç¨‹ï¼ŒGPUå¤šå¤„ç†å™¨æ˜¯ç¡¬ä»¶å¤šçº¿ç¨‹çš„ - å®ƒåœ¨ç¡¬ä»¶ä¸­ç®¡ç†å’Œæ‰§è¡Œæ•°ç™¾ä¸ªå¹¶å‘çº¿ç¨‹ï¼Œè€Œæ— éœ€è°ƒåº¦å¼€é”€ã€‚ çº¿ç¨‹å—å†…çš„å¹¶å‘çº¿ç¨‹å¯ä»¥ä½¿ç”¨å•ä¸ªæŒ‡ä»¤åœ¨å±éšœä¸ŠåŒæ­¥ã€‚ è½»é‡çº§çº¿ç¨‹åˆ›å»ºï¼Œé›¶å¼€é”€çº¿ç¨‹è°ƒåº¦å’Œå¿«é€Ÿå±éšœåŒæ­¥æœ‰æ•ˆåœ°æ”¯æŒéžå¸¸ç»†ç²’åº¦çš„å¹¶è¡Œæ€§ã€‚ Multiprocessor Architecture å¤šå¤„ç†å™¨æž¶æž„A unified graphics and computing multiprocessor executes vertex, geometry, and pixel fragment shader programs, and parallel computing programs. As Figure C.4.1 shows, the example multiprocessor consists of eight scalar processor (SP) cores each with a large multithreaded register fle (RF), two special function units (SFUs), a multithreaded instruction unit, an instruction cache, a read-only constant cache,and a shared memory.ç»Ÿä¸€çš„å›¾å½¢å’Œè®¡ç®—å¤šå¤„ç†å™¨æ‰§è¡Œé¡¶ç‚¹ï¼Œå‡ ä½•å’Œåƒç´ ç‰‡æ®µç€è‰²å™¨ç¨‹åºä»¥åŠå¹¶è¡Œè®¡ç®—ç¨‹åºã€‚ å¦‚å›¾C.4.1æ‰€ç¤ºï¼Œç¤ºä¾‹å¤šå¤„ç†å™¨ç”±8ä¸ªæ ‡é‡å¤„ç†å™¨ï¼ˆSPï¼‰å†…æ ¸ç»„æˆï¼Œæ¯ä¸ªå†…æ ¸å…·æœ‰ä¸€ä¸ªå¤§åž‹å¤šçº¿ç¨‹å¯„å­˜å™¨ï¼ˆRFï¼‰ï¼Œä¸¤ä¸ªç‰¹æ®ŠåŠŸèƒ½å•å…ƒï¼ˆSFUï¼‰ï¼Œä¸€ä¸ªå¤šçº¿ç¨‹æŒ‡ä»¤å•å…ƒï¼Œä¸€ä¸ªæŒ‡ä»¤é«˜é€Ÿç¼“å­˜ï¼Œä¸€ä¸ªè¯»å–å™¨ã€‚ åªæœ‰å¸¸é‡ç¼“å­˜å’Œå…±äº«å†…å­˜ã€‚ The 16 KB shared memory holds graphics data buï¬€ers and shared computing data. CUDA variables declared as __shared__ reside in the shared memory. To map the logical graphics pipeline workload through the multiprocessor multiple times, as shown in Section C.2, vertex, geometry, and pixel threads have independent input and output buffers, and workloads arrive and depart independently of thread execution.16 KBå…±äº«å†…å­˜å¯å­˜å‚¨å›¾å½¢æ•°æ®ç¼“å†²åŒºå’Œå…±äº«è®¡ç®—æ•°æ®ã€‚ å£°æ˜Žä¸º__shared__ çš„CUDAå˜é‡é©»ç•™åœ¨å…±äº«å†…å­˜ä¸­ã€‚ è‹¥è¦å¤šæ¬¡æ˜ å°„é€»è¾‘å›¾å½¢ç®¡é“å·¥ä½œè´Ÿè½½é€šè¿‡å¤šå¤„ç†å™¨ï¼Œå¦‚ç¬¬C.2èŠ‚æ‰€ç¤ºï¼Œé¡¶ç‚¹ï¼Œå‡ ä½•å’Œåƒç´ çº¿ç¨‹å…·æœ‰ç‹¬ç«‹çš„è¾“å…¥å’Œè¾“å‡ºç¼“å†²åŒºï¼Œå¹¶ä¸”å·¥ä½œè´Ÿè½½ç‹¬ç«‹äºŽçº¿ç¨‹æ‰§è¡Œè€Œåˆ°è¾¾å’Œç¦»å¼€ã€‚ Each SP core contains scalar integer and ï¬‚oating-point arithmetic units that execute most instructions. The SP is hardware multithreaded, supporting up to 64 threads. Each pipelined SP core executes one scalar instruction per thread per clock, which ranges from 1.2 GHz to 1.6 GHz in diï¬€erent GPU products. Each SP core has a large RF of 1024 general-purpose 32-bit registers, partitioned among its assigned threads. Programs declare their register demand, typically 16 to 64 scalar 32-bit registers per thread. The SP can concurrently run many threads that use a few registers or fewer threads that use more registers. The compiler optimizes register allocation to balance the cost of spilling registers versus the cost of fewer threads. Pixel shader programs ofen use 16 or fewer registers, enabling each SP to run up to 64 pixel shader threads to cover long-latency texture fetches. Compiled CUDA programs ofen need 32 registers per thread, limiting each SP to 32 threads, which limits such a kernel program to 256 threads per thread block on this example multiprocessor, rather than its maximum of 512 threads.æ¯ä¸ªSPå†…æ ¸åŒ…å«æ‰§è¡Œå¤§å¤šæ•°æŒ‡ä»¤çš„æ ‡é‡æ•´æ•°å’Œæµ®ç‚¹è¿ç®—å•å…ƒã€‚ SPæ˜¯ç¡¬ä»¶å¤šçº¿ç¨‹ï¼Œæœ€å¤šæ”¯æŒ64ä¸ªçº¿ç¨‹ã€‚æ¯ä¸ªæµæ°´çº¿SPæ ¸å¿ƒæ¯ä¸ªæ—¶é’Ÿæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€ä¸ªæ ‡é‡æŒ‡ä»¤ï¼Œåœ¨ä¸åŒçš„GPUäº§å“ä¸­ï¼ŒèŒƒå›´ä»Ž1.2 GHzåˆ°1.6 GHzã€‚æ¯ä¸ªSPå†…æ ¸éƒ½æœ‰ä¸€ä¸ª1024ä¸ªé€šç”¨32ä½å¯„å­˜å™¨çš„å¤§RFï¼Œåœ¨å…¶åˆ†é…çš„çº¿ç¨‹ä¹‹é—´è¿›è¡Œåˆ†åŒºã€‚ç¨‹åºå£°æ˜Žå®ƒä»¬çš„å¯„å­˜å™¨éœ€æ±‚ï¼Œé€šå¸¸æ¯ä¸ªçº¿ç¨‹æœ‰16åˆ°64ä¸ªæ ‡é‡32ä½å¯„å­˜å™¨ã€‚ SPå¯ä»¥åŒæ—¶è¿è¡Œè®¸å¤šçº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹ä½¿ç”¨å°‘é‡å¯„å­˜å™¨æˆ–æ›´å°‘ä½¿ç”¨æ›´å¤šå¯„å­˜å™¨çš„çº¿ç¨‹ã€‚ç¼–è¯‘å™¨ä¼˜åŒ–å¯„å­˜å™¨åˆ†é…ä»¥å¹³è¡¡æº¢å‡ºå¯„å­˜å™¨çš„æˆæœ¬ä¸Žæ›´å°‘çº¿ç¨‹çš„æˆæœ¬ã€‚åƒç´ ç€è‰²å™¨ç¨‹åºä½¿ç”¨16ä¸ªæˆ–æ›´å°‘çš„å¯„å­˜å™¨ï¼Œä½¿æ¯ä¸ªSPèƒ½å¤Ÿè¿è¡Œå¤šè¾¾64ä¸ªåƒç´ ç€è‰²å™¨çº¿ç¨‹ï¼Œä»¥è¦†ç›–é•¿å»¶è¿Ÿçº¹ç†æå–ã€‚ç¼–è¯‘çš„CUDAç¨‹åºæ¯ä¸ªçº¿ç¨‹éœ€è¦32ä¸ªå¯„å­˜å™¨ï¼Œå°†æ¯ä¸ªSPé™åˆ¶ä¸º32ä¸ªçº¿ç¨‹ï¼Œè¿™åœ¨è¿™ä¸ªç¤ºä¾‹å¤šå¤„ç†å™¨ä¸Šå°†æ¯ä¸ªçº¿ç¨‹å—çš„å†…æ ¸ç¨‹åºé™åˆ¶ä¸º256ä¸ªçº¿ç¨‹ï¼Œè€Œä¸æ˜¯æœ€å¤š512ä¸ªçº¿ç¨‹ã€‚ The pipelined SFUs execute thread instructions that compute special functions and interpolate pixel attributes from primitive vertex attributes. These instructions can execute concurrently with instructions on the SPs. The SFU is described later.æµæ°´çº¿SFUæ‰§è¡Œè®¡ç®—ç‰¹æ®Šå‡½æ•°çš„çº¿ç¨‹æŒ‡ä»¤ï¼Œå¹¶ä»ŽåŽŸå§‹é¡¶ç‚¹å±žæ€§æ’å…¥åƒç´ å±žæ€§ã€‚ è¿™äº›æŒ‡ä»¤å¯ä»¥ä¸ŽSPä¸Šçš„æŒ‡ä»¤åŒæ—¶æ‰§è¡Œã€‚ SFUå°†åœ¨åŽé¢æè¿°ã€‚ The multiprocessor executes texture fetch instructions on the texture unit via the texture interface, and uses the memory interface for external memory load, store, and atomic access instructions. These instructions can execute concurrently with instructions on the SPs. Shared memory access uses a low-latency interconnection network between the SP processors and the shared memory banks.å¤šå¤„ç†å™¨é€šè¿‡çº¹ç†æŽ¥å£åœ¨çº¹ç†å•å…ƒä¸Šæ‰§è¡Œçº¹ç†èŽ·å–æŒ‡ä»¤ï¼Œå¹¶ä½¿ç”¨å­˜å‚¨å™¨æŽ¥å£è¿›è¡Œå¤–éƒ¨å­˜å‚¨å™¨åŠ è½½ï¼Œå­˜å‚¨å’ŒåŽŸå­è®¿é—®æŒ‡ä»¤ã€‚ è¿™äº›æŒ‡ä»¤å¯ä»¥ä¸ŽSPä¸Šçš„æŒ‡ä»¤åŒæ—¶æ‰§è¡Œã€‚ å…±äº«å†…å­˜è®¿é—®ä½¿ç”¨SPå¤„ç†å™¨å’Œå…±äº«å†…å­˜åº“ä¹‹é—´çš„ä½Žå»¶è¿Ÿäº’è¿žç½‘ç»œã€‚ Single-Instruction Multiple-Thread (SIMT)To manage and execute hundreds of threads running several different programs effciently, the multiprocessor employs a single-instruction multiple-thread (SIMT) architecture. It creates, manages, schedules, and executes concurrent threads in groups of parallel threads called warps. The term warp originates from weaving, the first parallel thread technology. The photograph in Figure C.4.2 shows a warp of parallel threads emerging from a loom. This example multiprocessor uses a SIMT warp size of 32 threads, executing four threads in each of the eight SP cores over four clocks. The Tesla SM multiprocessor described in Section C.7 also uses a warp size of 32 parallel threads, executing four threads per SP core for effciency on plentiful pixel threads and computing threads. Thread blocks consist of one or more warps.ä¸ºäº†æœ‰æ•ˆåœ°ç®¡ç†å’Œæ‰§è¡Œè¿è¡Œå¤šä¸ªä¸åŒç¨‹åºçš„æ•°ç™¾ä¸ªçº¿ç¨‹ï¼Œå¤šå¤„ç†å™¨é‡‡ç”¨å•æŒ‡ä»¤å¤šçº¿ç¨‹ï¼ˆSIMTï¼‰æž¶æž„ã€‚ å®ƒåœ¨ç§°ä¸ºwarpsçš„å¹¶è¡Œçº¿ç¨‹ç»„ä¸­åˆ›å»ºï¼Œç®¡ç†ï¼Œè°ƒåº¦å’Œæ‰§è¡Œå¹¶å‘çº¿ç¨‹ã€‚ æœ¯è¯­warpæºäºŽç¼–ç»‡ï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªå¹¶è¡Œçº¿ç¨‹æŠ€æœ¯ã€‚ å›¾C.4.2ä¸­çš„ç…§ç‰‡æ˜¾ç¤ºäº†ä»Žç»‡æœºä¸­å‡ºçŽ°çš„å¹³è¡Œçº¿çš„ç¿˜æ›²ã€‚ æ­¤ç¤ºä¾‹å¤šå¤„ç†å™¨ä½¿ç”¨32ä¸ªçº¿ç¨‹çš„SIMT warpå¤§å°ï¼Œåœ¨å››ä¸ªæ—¶é’Ÿå†…çš„å…«ä¸ªSPå†…æ ¸ä¸­çš„æ¯ä¸€ä¸ªä¸­æ‰§è¡Œå››ä¸ªçº¿ç¨‹ã€‚ ç¬¬C.7èŠ‚ä¸­æè¿°çš„Tesla SMå¤šå¤„ç†å™¨è¿˜ä½¿ç”¨32ä¸ªå¹¶è¡Œçº¿ç¨‹çš„warpå¤§å°ï¼Œæ¯ä¸ªSPæ ¸å¿ƒæ‰§è¡Œå››ä¸ªçº¿ç¨‹ï¼Œä»¥ä¾¿åœ¨ä¸°å¯Œçš„åƒç´ çº¿ç¨‹å’Œè®¡ç®—çº¿ç¨‹ä¸Šå®žçŽ°æ•ˆçŽ‡ã€‚ çº¿ç¨‹å—ç”±ä¸€ä¸ªæˆ–å¤šä¸ªwarpç»„æˆã€‚ å›¾C.4.2 SIMTå¤šçº¿ç¨‹warpè°ƒåº¦ï¼š è°ƒåº¦ç¨‹åºé€‰æ‹©å°±ç»ªwarpå¹¶åŒæ­¥å‘ç»„æˆwarpçš„å¹¶è¡Œçº¿ç¨‹å‘å‡ºæŒ‡ä»¤ã€‚ ç”±äºŽwarpæ˜¯ç‹¬ç«‹çš„ï¼Œå› æ­¤è°ƒåº¦ç¨‹åºå¯ä»¥æ¯æ¬¡é€‰æ‹©ä¸åŒçš„warpã€‚ This example SIMT multiprocessor manages a pool of 16 warps, a total of 512 threads. Individual parallel threads composing a warp are the same type and start together at the same program address, but are otherwise free to branch and execute independently. At each instruction issue time, the SIMT multithreaded instruction unit selects a warp that is ready to execute its next instruction, and then issues that instruction to the active threads of that warp. A SIMT instruction is broadcast synchronously to the active parallel threads of a warp; individual threads may be inactive due to independent branching or predication. In this multiprocessor, each SP scalar processor core executes an instruction for four individual threads of a warp using four clocks, reï¬‚ecting the 4:1 ratio of warp threads to cores. single-instruction multiple-thread (SIMT): A processor architecture that applies one instruction to multiple independent threads in parallel. ä¸€ç§å¤„ç†å™¨ä½“ç³»ç»“æž„ï¼Œå¯å°†ä¸€æ¡æŒ‡ä»¤å¹¶è¡Œåº”ç”¨äºŽå¤šä¸ªç‹¬ç«‹çº¿ç¨‹ã€‚ warp: The set of parallel threads that execute the same instruction together in a SIMT architecture. åœ¨SIMTä½“ç³»ç»“æž„ä¸­ä¸€èµ·æ‰§è¡Œç›¸åŒæŒ‡ä»¤çš„å¹¶è¡Œçº¿ç¨‹é›†ã€‚ SIMT processor architecture is akin to single-instruction multiple data (SIMD) design, which applies one instruction to multiple data lanes, but diï¬€ers in that SIMT applies one instruction to multiple independent threads in parallel, not just to multiple data lanes. An instruction for a SIMD processor controls a vector ofmultiple data lanes together, whereas an instruction for a SIMT processor controls an individual thread, and the SIMT instruction unit issues an instruction to a warp of independent parallel threads for efciency. Te SIMT processor fnds data-level parallelism among threads at runtime, analogous to the way a superscalar processor finds instruction-level parallelism among instructions at runtime.æ­¤ç¤ºä¾‹SIMTå¤šå¤„ç†å™¨ç®¡ç†ä¸€ä¸ªåŒ…å«16ä¸ªwarpçš„æ± ï¼Œæ€»å…±512ä¸ªçº¿ç¨‹ã€‚ ç»„æˆwarpçš„å„ä¸ªå¹¶è¡Œçº¿ç¨‹æ˜¯ç›¸åŒçš„ç±»åž‹ï¼Œå¹¶ä¸”åœ¨ç›¸åŒçš„ç¨‹åºåœ°å€å¤„ä¸€èµ·å¼€å§‹ï¼Œä½†æ˜¯å¯ä»¥ç‹¬ç«‹åœ°åˆ†æ”¯å’Œæ‰§è¡Œã€‚ åœ¨æ¯ä¸ªæŒ‡ä»¤å‘å¸ƒæ—¶ï¼ŒSIMTå¤šçº¿ç¨‹æŒ‡ä»¤å•å…ƒé€‰æ‹©å‡†å¤‡æ‰§è¡Œå…¶ä¸‹ä¸€æ¡æŒ‡ä»¤çš„warpï¼Œç„¶åŽå°†è¯¥æŒ‡ä»¤å‘å¸ƒåˆ°è¯¥warpçš„æ´»åŠ¨çº¿ç¨‹ã€‚ SIMTæŒ‡ä»¤ä¸Žwarpçš„æ´»åŠ¨å¹¶è¡Œçº¿ç¨‹åŒæ­¥å¹¿æ’­; ç”±äºŽç‹¬ç«‹çš„åˆ†æ”¯æˆ–é¢„æµ‹ï¼Œå„ä¸ªçº¿ç¨‹å¯èƒ½ä¸æ´»åŠ¨ã€‚ åœ¨è¿™ä¸ªå¤šå¤„ç†å™¨ä¸­ï¼Œæ¯ä¸ªSPæ ‡é‡å¤„ç†å™¨å†…æ ¸ä½¿ç”¨å››ä¸ªæ—¶é’Ÿæ‰§è¡Œä¸€ä¸ªç»çº¿çš„å››ä¸ªå•ç‹¬çº¿ç¨‹çš„æŒ‡ä»¤ï¼Œå°†ç»çº¿çš„4ï¼š1æ¯”çŽ‡åæ˜ åˆ°å†…æ ¸ã€‚ A SIMT processor realizes full efficiency and performance when all threads of a warp take the same execution path. If threads of a warp diverge via a datadependent conditional branch, execution serializes for each branch path taken, and when all paths complete, the threads converge to the same execution path. For equal length paths, a divergent if-else code block is 50% efficient. The multiprocessor uses a branch synchronization stack to manage independent threads that diverge and converge. Diï¬€erent warps execute independently at full speed regardless of whether they are executing common or disjoint code paths. As a result, SIMT GPUs are dramatically more efcient and ï¬‚exible on branching code than earlier GPUs, as their warps are much narrower than the SIMD width of prior GPUs.å½“warpçš„æ‰€æœ‰çº¿ç¨‹é‡‡ç”¨ç›¸åŒçš„æ‰§è¡Œè·¯å¾„æ—¶ï¼ŒSIMTå¤„ç†å™¨å®žçŽ°å…¨éƒ¨æ•ˆçŽ‡å’Œæ€§èƒ½ã€‚ å¦‚æžœwarpçš„çº¿ç¨‹é€šè¿‡æ•°æ®ç›¸å…³çš„æ¡ä»¶åˆ†æ”¯å‘æ•£ï¼Œåˆ™æ‰§è¡Œä¸ºæ‰€é‡‡ç”¨çš„æ¯ä¸ªåˆ†æ”¯è·¯å¾„è¿›è¡Œåºåˆ—åŒ–ï¼Œå¹¶ä¸”å½“æ‰€æœ‰è·¯å¾„å®Œæˆæ—¶ï¼Œçº¿ç¨‹ä¼šèšåˆ°ç›¸åŒçš„æ‰§è¡Œè·¯å¾„ã€‚ å¯¹äºŽç­‰é•¿è·¯å¾„ï¼Œå‘æ•£çš„if-elseä»£ç å—æ•ˆçŽ‡ä¸º50ï¼…ã€‚ å¤šå¤„ç†å™¨ä½¿ç”¨åˆ†æ”¯åŒæ­¥å †æ ˆæ¥ç®¡ç†åˆ†æ•£å’Œèšåˆçš„ç‹¬ç«‹çº¿ç¨‹ã€‚ ä¸åŒçš„warpå…¨é€Ÿç‹¬ç«‹æ‰§è¡Œï¼Œæ— è®ºå®ƒä»¬æ˜¯æ‰§è¡Œå…¬å…±è¿˜æ˜¯ä¸ç›¸äº¤çš„ä»£ç è·¯å¾„ã€‚ å› æ­¤ï¼ŒSIMT GPUåœ¨åˆ†æ”¯ä»£ç ä¸Šæ¯”æ—©æœŸGPUæ›´åŠ é«˜æ•ˆå’Œçµæ´»ï¼Œå› ä¸ºå®ƒä»¬çš„ç»çº¿æ¯”å…ˆå‰GPUçš„SIMDå®½åº¦çª„å¾—å¤šã€‚ In contrast with SIMD vector architectures, SIMT enables programmers to write thread-level parallel code for individual independent threads, as well as data-parallel code for many coordinated threads. For program correctness, the programmer can essentially ignore the SIMT execution attributes of warps; however, substantial performance improvements can be realized by taking care that the code seldom requires threads in a warp to diverge. In practice, this is analogous to the role of cache lines in traditional codes: cache line size can be safely ignored when designing for correctness but must be considered in the code structure when designing for peak performance.ä¸ŽSIMDå‘é‡ä½“ç³»ç»“æž„ç›¸æ¯”ï¼ŒSIMTä½¿ç¨‹åºå‘˜èƒ½å¤Ÿä¸ºå„ä¸ªç‹¬ç«‹çº¿ç¨‹ç¼–å†™çº¿ç¨‹çº§å¹¶è¡Œä»£ç ï¼Œå¹¶ä¸ºè®¸å¤šåè°ƒçº¿ç¨‹ç¼–å†™æ•°æ®å¹¶è¡Œä»£ç ã€‚ å¯¹äºŽç¨‹åºçš„æ­£ç¡®æ€§ï¼Œç¨‹åºå‘˜åŸºæœ¬ä¸Šå¯ä»¥å¿½ç•¥warpçš„SIMTæ‰§è¡Œå±žæ€§; ç„¶è€Œï¼Œé€šè¿‡æ³¨æ„ä»£ç å¾ˆå°‘éœ€è¦ç»çº¿ä¸­çš„çº¿ç¨‹å‘æ•£ï¼Œå¯ä»¥å®žçŽ°æ˜¾ç€çš„æ€§èƒ½æ”¹è¿›ã€‚ å®žé™…ä¸Šï¼Œè¿™ç±»ä¼¼äºŽä¼ ç»Ÿä»£ç ä¸­ç¼“å­˜è¡Œçš„ä½œç”¨ï¼šåœ¨è®¾è®¡æ­£ç¡®æ€§æ—¶å¯ä»¥å®‰å…¨åœ°å¿½ç•¥ç¼“å­˜è¡Œå¤§å°ï¼Œä½†åœ¨è®¾è®¡å³°å€¼æ€§èƒ½æ—¶å¿…é¡»åœ¨ä»£ç ç»“æž„ä¸­è€ƒè™‘ã€‚ SIMT Warp Execution and Divergence è°èƒ½å‘Šè¯‰æˆ‘è¿™ä¸ªæ€Žä¹ˆç¿»è¯‘ï¼ŸThe SIMT approach of scheduling independent warps is more ï¬‚exible than the scheduling of previous GPU architectures. A warp comprises parallel threads of the same type: vertex, geometry, pixel, or compute. The basic unit of pixel fragment shader processing is the 2-by-2 pixel quad implemented as four pixel shader threads. The multiprocessor controller packs the pixel quads into a warp. It similarly groups vertices and primitives into warps, and packs computing threads into a warp. A thread block comprises one or more warps. The SIMT design shares the instruction fetch and issue unit efciently across parallel threads of a warp, but requires a full warp of active threads to get full performance effciency.è°ƒåº¦ç‹¬ç«‹warpçš„SIMTæ–¹æ³•æ¯”å…ˆå‰GPUæž¶æž„çš„è°ƒåº¦æ›´çµæ´»ã€‚ æ‰­æ›²åŒ…æ‹¬ç›¸åŒç±»åž‹çš„å¹¶è¡Œçº¿ç¨‹ï¼šé¡¶ç‚¹ï¼Œå‡ ä½•ï¼Œåƒç´ æˆ–è®¡ç®—ã€‚ åƒç´ ç‰‡æ®µç€è‰²å™¨å¤„ç†çš„åŸºæœ¬å•ä½æ˜¯å®žçŽ°ä¸ºå››ä¸ªåƒç´ ç€è‰²å™¨çº¿ç¨‹çš„2Ã—2åƒç´ å››è¾¹å½¢ã€‚ å¤šå¤„ç†å™¨æŽ§åˆ¶å™¨å°†åƒç´ å››è¾¹å½¢æ‰“åŒ…æˆæ‰­æ›²ã€‚ å®ƒç±»ä¼¼åœ°å°†é¡¶ç‚¹å’ŒåŸºå…ƒåˆ†ç»„ä¸ºwarpï¼Œå¹¶å°†è®¡ç®—çº¿ç¨‹æ‰“åŒ…æˆwarpã€‚ çº¿ç¨‹å—åŒ…æ‹¬ä¸€ä¸ªæˆ–å¤šä¸ªwarpã€‚ SIMTè®¾è®¡åœ¨warpçš„å¹¶è¡Œçº¿ç¨‹ä¹‹é—´æœ‰æ•ˆåœ°å…±äº«æŒ‡ä»¤èŽ·å–å’Œå‘å¸ƒå•å…ƒï¼Œä½†éœ€è¦å®Œæ•´çš„æ´»åŠ¨çº¿ç¨‹warpæ‰èƒ½èŽ·å¾—å®Œå…¨çš„æ€§èƒ½æ•ˆçŽ‡ã€‚ This unifed multiprocessor schedules and executes multiple warp types concurrently, allowing it to concurrently execute vertex and pixel warps. Its warp scheduler operates at less than the processor clock rate, because there are four thread lanes per processor core. During each scheduling cycle, it selects a warp to execute a SIMT warp instruction, as shown in Figure C.4.2. An issued warp-instruction executes as four sets of eight threads over four processor cycles of throughput. The processor pipeline uses several clocks of latency to complete each instruction. If the number of active warps times the clocks per warp exceeds the pipeline latency, the programmer can ignore the pipeline latency. For this multiprocessor, a round-robin schedule of eight warps has a period of 32 cycles between successive instructions for the same warp. If the program can keep 256 threads active per multiprocessor, instruction latencies up to 32 cycles can be hidden from an individual sequential thread. However, with few active warps, the processor pipeline depth becomes visible and may cause processors to stall.è¿™ä¸ªç»Ÿä¸€çš„å¤šå¤„ç†å™¨åŒæ—¶è°ƒåº¦å’Œæ‰§è¡Œå¤šä¸ªwarpç±»åž‹ï¼Œå…è®¸å®ƒåŒæ—¶æ‰§è¡Œé¡¶ç‚¹å’Œåƒç´ warpã€‚å®ƒçš„warpè°ƒåº¦ç¨‹åºä»¥ä½ŽäºŽå¤„ç†å™¨æ—¶é’Ÿé€ŸçŽ‡è¿è¡Œï¼Œå› ä¸ºæ¯ä¸ªå¤„ç†å™¨å†…æ ¸æœ‰å››ä¸ªçº¿ç¨‹é€šé“ã€‚åœ¨æ¯ä¸ªè°ƒåº¦å‘¨æœŸä¸­ï¼Œå®ƒé€‰æ‹©ä¸€ä¸ªwarpæ¥æ‰§è¡ŒSIMT warpæŒ‡ä»¤ï¼Œå¦‚å›¾C.4.2æ‰€ç¤ºã€‚å‘å‡ºçš„warp-instructionåœ¨åžåé‡çš„å››ä¸ªå¤„ç†å™¨å‘¨æœŸå†…ä½œä¸ºå››ç»„å…«ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚å¤„ç†å™¨æµæ°´çº¿ä½¿ç”¨å‡ ä¸ªå»¶è¿Ÿæ—¶é’Ÿæ¥å®Œæˆæ¯æ¡æŒ‡ä»¤ã€‚å¦‚æžœæ¯ä¸ªwarpçš„æ—¶é’Ÿçš„æ´»åŠ¨warpæ•°ä¹˜ä»¥ç®¡é“å»¶è¿Ÿï¼Œåˆ™ç¨‹åºå‘˜å¯ä»¥å¿½ç•¥ç®¡é“å»¶è¿Ÿã€‚å¯¹äºŽè¿™ç§å¤šå¤„ç†å™¨ï¼Œå…«ä¸ªwarpçš„å¾ªçŽ¯è°ƒåº¦åœ¨ç›¸åŒwarpçš„è¿žç»­æŒ‡ä»¤ä¹‹é—´å…·æœ‰32ä¸ªå‘¨æœŸçš„å‘¨æœŸã€‚å¦‚æžœç¨‹åºå¯ä»¥åœ¨æ¯ä¸ªå¤šå¤„ç†å™¨ä¸­ä¿æŒ256ä¸ªçº¿ç¨‹å¤„äºŽæ´»åŠ¨çŠ¶æ€ï¼Œåˆ™å¯ä»¥ä»Žå•ä¸ªé¡ºåºçº¿ç¨‹ä¸­éšè—æœ€å¤š32ä¸ªå‘¨æœŸçš„æŒ‡ä»¤å»¶è¿Ÿã€‚ä½†æ˜¯ï¼Œç”±äºŽå‡ ä¹Žæ²¡æœ‰æ´»åŠ¨warpï¼Œå¤„ç†å™¨ç®¡é“æ·±åº¦å˜å¾—å¯è§ï¼Œå¹¶å¯èƒ½å¯¼è‡´å¤„ç†å™¨åœæ­¢ã€‚ A challenging design problem is implementing zero-overhead warp scheduling for a dynamic mix of diï¬€erent warp programs and program types. The instruction scheduler must select a warp every four clocks to issue one instruction per clock per thread, equivalent to an IPC of 1.0 per processor core. Because warps are independent, the only dependences are among sequential instructions from the same warp. The scheduler uses a register dependency scoreboard to qualify warps whose active threads are ready to execute an instruction. It prioritizes all such ready warps and selects the highest priority one for issue. Prioritization must consider warp type, instruction type, and the desire to be fair to all active warps.ä¸€ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„è®¾è®¡é—®é¢˜æ˜¯ä¸ºä¸åŒçš„warpç¨‹åºå’Œç¨‹åºç±»åž‹çš„åŠ¨æ€ç»„åˆå®žçŽ°é›¶å¼€é”€warpè°ƒåº¦ã€‚ æŒ‡ä»¤è°ƒåº¦ç¨‹åºå¿…é¡»æ¯å››ä¸ªæ—¶é’Ÿé€‰æ‹©ä¸€ä¸ªwarpï¼Œæ¯ä¸ªçº¿ç¨‹æ¯ä¸ªæ—¶é’Ÿå‘å‡ºä¸€æ¡æŒ‡ä»¤ï¼Œç›¸å½“äºŽæ¯ä¸ªå¤„ç†å™¨å†…æ ¸çš„IPCä¸º1.0ã€‚ ç”±äºŽwarpæ˜¯ç‹¬ç«‹çš„ï¼Œå”¯ä¸€çš„ä¾èµ–æ˜¯æ¥è‡ªåŒä¸€warpçš„é¡ºåºæŒ‡ä»¤ã€‚ è°ƒåº¦ç¨‹åºä½¿ç”¨å¯„å­˜å™¨ä¾èµ–æ€§è®°åˆ†æ¿æ¥é™å®šå…¶æ´»åŠ¨çº¿ç¨‹å·²å‡†å¤‡å¥½æ‰§è¡ŒæŒ‡ä»¤çš„warpã€‚ å®ƒä¼˜å…ˆè€ƒè™‘æ‰€æœ‰è¿™äº›å‡†å¤‡å¥½çš„warpå¹¶é€‰æ‹©æœ€ä¼˜å…ˆçš„warpã€‚ ä¼˜å…ˆçº§å¿…é¡»è€ƒè™‘warpç±»åž‹ï¼ŒæŒ‡ä»¤ç±»åž‹ä»¥åŠå¯¹æ‰€æœ‰æ´»åŠ¨warpå…¬å¹³çš„æ„¿æœ›ã€‚ Managing Threads and Thread Blocks ç®¡ç†çº¿ç¨‹å’Œçº¿ç¨‹å—The multiprocessor controller and instruction unit manage threads and thread blocks. The controller accepts work requests and input data and arbitrates access to shared resources, including the texture unit, memory access path, and I/O paths. For graphics workloads, it creates and manages three types of graphics threads concurrently: vertex, geometry, and pixel. Each of the graphics work types has independent input and output paths. It accumulates and packs each of these input work types into SIMT warps of parallel threads executing the same thread program. It allocates a free warp, allocates registers for the warp threads, and starts warp execution in the multiprocessor. Every program declares its perthread register demand; the controller starts a warp only when it can allocate the requested register count for the warp threads. When all the threads of the warp exit, the controller unpacks the results and frees the warp registers and resources.å¤šå¤„ç†å™¨æŽ§åˆ¶å™¨å’ŒæŒ‡ä»¤å•å…ƒç®¡ç†çº¿ç¨‹å’Œçº¿ç¨‹å—ã€‚ æŽ§åˆ¶å™¨æŽ¥å—å·¥ä½œè¯·æ±‚å’Œè¾“å…¥æ•°æ®ï¼Œå¹¶ä»²è£å¯¹å…±äº«èµ„æºçš„è®¿é—®ï¼ŒåŒ…æ‹¬çº¹ç†å•å…ƒï¼Œå†…å­˜è®¿é—®è·¯å¾„å’ŒI / Oè·¯å¾„ã€‚ å¯¹äºŽå›¾å½¢å·¥ä½œè´Ÿè½½ï¼Œå®ƒåŒæ—¶åˆ›å»ºå’Œç®¡ç†ä¸‰ç§ç±»åž‹çš„å›¾å½¢çº¿ç¨‹ï¼šé¡¶ç‚¹ï¼Œå‡ ä½•å’Œåƒç´ ã€‚ æ¯ä¸ªå›¾å½¢å·¥ä½œç±»åž‹éƒ½æœ‰ç‹¬ç«‹çš„è¾“å…¥å’Œè¾“å‡ºè·¯å¾„ã€‚ å®ƒå°†è¿™äº›è¾“å…¥å·¥ä½œç±»åž‹ä¸­çš„æ¯ä¸€ä¸ªç´¯ç§¯å¹¶æ‰“åŒ…åˆ°æ‰§è¡Œç›¸åŒçº¿ç¨‹ç¨‹åºçš„å¹¶è¡Œçº¿ç¨‹çš„SIMT warpä¸­ã€‚ å®ƒåˆ†é…ä¸€ä¸ªè‡ªç”±warpï¼Œä¸ºwarpçº¿ç¨‹åˆ†é…å¯„å­˜å™¨ï¼Œå¹¶åœ¨å¤šå¤„ç†å™¨ä¸­å¯åŠ¨warpæ‰§è¡Œã€‚ æ¯ä¸ªç¨‹åºéƒ½å£°æ˜Žå…¶å¯„å­˜å™¨éœ€æ±‚; åªæœ‰å½“æŽ§åˆ¶å™¨å¯ä»¥ä¸ºç»çº¿åˆ†é…æ‰€è¯·æ±‚çš„å¯„å­˜å™¨è®¡æ•°æ—¶ï¼ŒæŽ§åˆ¶å™¨æ‰ä¼šå¯åŠ¨warpã€‚ å½“warpçš„æ‰€æœ‰çº¿ç¨‹é€€å‡ºæ—¶ï¼ŒæŽ§åˆ¶å™¨å°†è§£åŽ‹ç¼©ç»“æžœå¹¶é‡Šæ”¾warpå¯„å­˜å™¨å’Œèµ„æºã€‚ The controller creates cooperative thread arrays (CTAs) which implement CUDA thread blocks as one or more warps of parallel threads. It creates a CTA when it can create all CTA warps and allocate all CTA resources. In addition to threads and registers, a CTA requires allocating shared memory and barriers. The program declares the required capacities, and the controller waits until it can allocate those amounts before launching the CTA. Then it creates CTA warps at the warp scheduling rate, so that a CTA program starts executing immediately at full multiprocessor performance. The controller monitors when all threads of a CTA have exited, and frees the CTA shared resources and its warp resources.æŽ§åˆ¶å™¨åˆ›å»ºåä½œçº¿ç¨‹é˜µåˆ—ï¼ˆCTAï¼‰ï¼Œå…¶å°†CUDAçº¿ç¨‹å—å®žçŽ°ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªå¹¶è¡Œçº¿ç¨‹çš„warpã€‚ å®ƒå¯ä»¥åœ¨åˆ›å»ºæ‰€æœ‰CTA warpå¹¶åˆ†é…æ‰€æœ‰CTAèµ„æºæ—¶åˆ›å»ºCTAã€‚ é™¤çº¿ç¨‹å’Œå¯„å­˜å™¨å¤–ï¼ŒCTAè¿˜éœ€è¦åˆ†é…å…±äº«å†…å­˜å’Œéšœç¢ã€‚ ç¨‹åºå£°æ˜Žæ‰€éœ€çš„å®¹é‡ï¼ŒæŽ§åˆ¶å™¨ç­‰å¾…ï¼Œç›´åˆ°å®ƒå¯ä»¥åœ¨å¯åŠ¨CTAä¹‹å‰åˆ†é…è¿™äº›æ•°é‡ã€‚ ç„¶åŽå®ƒä»¥warpè°ƒåº¦é€ŸçŽ‡åˆ›å»ºCTA warpï¼Œä»¥ä¾¿CTAç¨‹åºåœ¨å®Œå…¨å¤šå¤„ç†å™¨æ€§èƒ½æ—¶ç«‹å³å¼€å§‹æ‰§è¡Œã€‚ TeæŽ§åˆ¶å™¨ç›‘è§†CTAçš„æ‰€æœ‰çº¿ç¨‹ä½•æ—¶é€€å‡ºï¼Œå¹¶é‡Šæ”¾CTAå…±äº«èµ„æºåŠå…¶warpèµ„æºã€‚ cooperative thread array (CTA) : A set of concurrent threads that executes the same thread program and may cooperate to compute a result. A GPU CTA implements a CUDA thread block. ä¸€ç»„å¹¶å‘çº¿ç¨‹ï¼Œå®ƒä»¬æ‰§è¡Œç›¸åŒçš„çº¿ç¨‹ç¨‹åºå¹¶å¯åä½œè®¡ç®—ç»“æžœã€‚ GPU CTAå®žçŽ°äº†CUDAçº¿ç¨‹å—ã€‚ Thread Instructions çº¿ç¨‹æŒ‡ä»¤The SP thread processors execute scalar instructions for individual threads, unlike earlier GPU vector instruction architectures, which executed four-component vector instructions for each vertex or pixel shader program. Vertex programs generally compute (x, y, z, w) position vectors, while pixel shader programs compute (red, green, blue, alpha) color vectors. However, shader programs are becoming longer and more scalar, and it is increasingly difcult to fully occupy even two components of a legacy GPU four-component vector architecture. In effect, the SIMT architecture parallelizes across 32 independent pixel threads, rather than parallelizing the four vector components within a pixel. CUDA C/C++ programs have predominantly scalar code per thread. Previous GPUs employed vector packing (e.g., combining subvectors of work to gain efciency) but that complicated the scheduling hardware as well as the compiler. Scalar instructions are simpler and compiler friendly. Texture instructions remain vector based, taking a source coordinate vector and returning a filtered color vector.SPçº¿ç¨‹å¤„ç†å™¨æ‰§è¡Œå„ä¸ªçº¿ç¨‹çš„æ ‡é‡æŒ‡ä»¤ï¼Œä¸åƒæ—©æœŸçš„GPUçŸ¢é‡æŒ‡ä»¤æž¶æž„ï¼ŒåŽè€…ä¸ºæ¯ä¸ªé¡¶ç‚¹æˆ–åƒç´ ç€è‰²å™¨ç¨‹åºæ‰§è¡Œå››åˆ†é‡çŸ¢é‡æŒ‡ä»¤ã€‚é¡¶ç‚¹ç¨‹åºé€šå¸¸è®¡ç®—ï¼ˆxï¼Œyï¼Œzï¼Œwï¼‰ä½ç½®çŸ¢é‡ï¼Œè€Œåƒç´ ç€è‰²å™¨ç¨‹åºè®¡ç®—ï¼ˆçº¢è‰²ï¼Œç»¿è‰²ï¼Œè“è‰²ï¼Œalphaï¼‰é¢œè‰²çŸ¢é‡ã€‚ç„¶è€Œï¼Œç€è‰²å™¨ç¨‹åºå˜å¾—è¶Šæ¥è¶Šé•¿å¹¶ä¸”è¶Šæ¥è¶Šæ ‡é‡åŒ–ï¼Œå¹¶ä¸”ç”šè‡³å®Œå…¨å æ®ä¼ ç»ŸGPUå››åˆ†é‡çŸ¢é‡ä½“ç³»ç»“æž„çš„ä¸¤ä¸ªç»„ä»¶ä¹Ÿå˜å¾—è¶Šæ¥è¶Šå›°éš¾ã€‚å®žé™…ä¸Šï¼ŒSIMTæž¶æž„åœ¨32ä¸ªç‹¬ç«‹åƒç´ çº¿ç¨‹ä¹‹é—´å¹¶è¡ŒåŒ–ï¼Œè€Œä¸æ˜¯å¹¶è¡ŒåŒ–åƒç´ å†…çš„å››ä¸ªçŸ¢é‡åˆ†é‡ã€‚ CUDA C / C ++ç¨‹åºæ¯ä¸ªçº¿ç¨‹ä¸»è¦æœ‰æ ‡é‡ä»£ç ã€‚å…ˆå‰çš„GPUé‡‡ç”¨å‘é‡æ‰“åŒ…ï¼ˆä¾‹å¦‚ï¼Œç»„åˆå·¥ä½œçš„å­å‘é‡ä»¥èŽ·å¾—æ•ˆçŽ‡ï¼‰ä½†æ˜¯ä½¿è°ƒåº¦ç¡¬ä»¶ä»¥åŠç¼–è¯‘å™¨å¤æ‚åŒ–ã€‚æ ‡é‡æŒ‡ä»¤æ›´ç®€å•ï¼Œç¼–è¯‘å‹å¥½ã€‚çº¹ç†æŒ‡ä»¤ä¿æŒåŸºäºŽçŸ¢é‡ï¼Œé‡‡ç”¨æºåæ ‡å‘é‡å¹¶è¿”å›žæ»¤æ³¢åŽçš„é¢œè‰²å‘é‡ã€‚ To support multiple GPUs with diï¬€erent binary microinstruction formats, highlevel graphics and computing language compilers generate intermediate assemblerlevel instructions (e.g., Direct3D vector instructions or PTX scalar instructions), which are then optimized and translated to binary GPU microinstructions. The NVIDIA PTX (parallel thread execution) instruction set defnition [2007] provides a stable target ISA for compilers, and provides compatibility over several generations of GPUs with evolving binary microinstruction-set architectures. The optimizer readily expands Direct3D vector instructions to multiple scalar binary microinstructions. PTX scalar instructions translate nearly one to one with scalar binary microinstructions, although some PTX instructions expand to multiple binary microinstructions, and multiple PTX instructions may fold into one binary microinstruction. Because the intermediate assembler-level instructions use virtual registers, the optimizer analyzes data dependencies and allocates real registers. The optimizer eliminates dead code, folds instructions together when feasible, and optimizes SIMT branch diverge and converge points.ä¸ºäº†æ”¯æŒå…·æœ‰ä¸åŒäºŒè¿›åˆ¶å¾®æŒ‡ä»¤æ ¼å¼çš„å¤šä¸ªGPUï¼Œé«˜çº§å›¾å½¢å’Œè®¡ç®—è¯­è¨€ç¼–è¯‘å™¨ç”Ÿæˆä¸­é—´æ±‡ç¼–çº§æŒ‡ä»¤ï¼ˆä¾‹å¦‚ï¼ŒDirect3Då‘é‡æŒ‡ä»¤æˆ–PTXæ ‡é‡æŒ‡ä»¤ï¼‰ï¼Œç„¶åŽå°†å…¶ä¼˜åŒ–å¹¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶GPUå¾®æŒ‡ä»¤ã€‚ NVIDIA PTXï¼ˆå¹¶è¡Œçº¿ç¨‹æ‰§è¡Œï¼‰æŒ‡ä»¤é›†å®šä¹‰[2007]ä¸ºç¼–è¯‘å™¨æä¾›äº†ç¨³å®šçš„ç›®æ ‡ISAï¼Œå¹¶æä¾›äº†å‡ ä»£GPUä¸Žä¸æ–­å‘å±•çš„äºŒè¿›åˆ¶å¾®æŒ‡ä»¤é›†æž¶æž„çš„å…¼å®¹æ€§ã€‚ä¼˜åŒ–å™¨å¾ˆå®¹æ˜“å°†Direct3Då‘é‡æŒ‡ä»¤æ‰©å±•ä¸ºå¤šä¸ªæ ‡é‡äºŒè¿›åˆ¶å¾®æŒ‡ä»¤ã€‚å°½ç®¡ä¸€äº›PTXæŒ‡ä»¤æ‰©å±•åˆ°å¤šä¸ªäºŒè¿›åˆ¶å¾®æŒ‡ä»¤ï¼Œä½†PTXæ ‡é‡æŒ‡ä»¤å‡ ä¹Žä¸€å¯¹ä¸€åœ°è½¬æ¢ä¸ºæ ‡é‡äºŒè¿›åˆ¶å¾®æŒ‡ä»¤ï¼Œå¹¶ä¸”å¤šä¸ªPTXæŒ‡ä»¤å¯æŠ˜å æˆä¸€ä¸ªäºŒè¿›åˆ¶å¾®æŒ‡ä»¤ã€‚ç”±äºŽä¸­é—´æ±‡ç¼–ç¨‹åºçº§æŒ‡ä»¤ä½¿ç”¨è™šæ‹Ÿå¯„å­˜å™¨ï¼Œä¼˜åŒ–ç¨‹åºä¼šåˆ†æžæ•°æ®ä¾èµ–æ€§å¹¶åˆ†é…å®žé™…å¯„å­˜å™¨ã€‚ä¼˜åŒ–å™¨æ¶ˆé™¤äº†æ­»ä»£ç ï¼Œåœ¨å¯è¡Œæ—¶å°†æŒ‡ä»¤æŠ˜å åœ¨ä¸€èµ·ï¼Œå¹¶ä¼˜åŒ–SIMTåˆ†æ”¯å‘æ•£å’Œæ”¶æ•›ç‚¹ã€‚ Instruction Set Architecture (ISA) æŒ‡ä»¤é›†æž¶æž„The thread ISA described here is a simplifed version of the Tesla architecture PTX ISA, a register-based scalar instruction set comprising ï¬‚oating-point, integer, logical, conversion, special functions, ï¬‚ow control, memory access, and texture operations. Figure C.4.3 lists the basic PTX GPU thread instructions; see the NVIDIA PTX specifcation [2007] for details. The instruction format is:è¿™é‡Œæè¿°çš„çº¿ç¨‹ISAæ˜¯ç‰¹æ–¯æ‹‰æž¶æž„PTX ISAçš„ç®€åŒ–ç‰ˆæœ¬ï¼Œè¿™æ˜¯ä¸€ç§åŸºäºŽå¯„å­˜å™¨çš„æ ‡é‡æŒ‡ä»¤é›†ï¼ŒåŒ…æ‹¬æµ®ç‚¹ï¼Œæ•´æ•°ï¼Œé€»è¾‘ï¼Œè½¬æ¢ï¼Œç‰¹æ®Šå‡½æ•°ï¼ŒæµæŽ§åˆ¶ï¼Œå­˜å‚¨å™¨è®¿é—®å’Œçº¹ç†æ“ä½œã€‚ å›¾C.4.3åˆ—å‡ºäº†åŸºæœ¬çš„PTX GPUçº¿ç¨‹æŒ‡ä»¤; æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…NVIDIA PTXè§„èŒƒ[2007]ã€‚ æŒ‡ä»¤æ ¼å¼ä¸ºï¼š 1opcode.type d, a, b, c; where d is the destination operand, a, b, c are source operands, and .type is one of:å…¶ä¸­d æ˜¯ç›®æ ‡æ“ä½œæ•°ï¼Œaï¼Œbï¼Œcæ˜¯æºæ“ä½œæ•°ï¼Œè€Œ.typeæ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š Type .type Specifer Untyped bits 8, 16, 32, and 64 bits .b8, .b16, .b32, .b64 Unsigned integer 8, 16, 32, and 64 bits .u8, .u16, .u32, .u64 Signed integer 8, 16, 32, and 64 bits .s8, .s16, .s32, .s64 Floating-point 16, 32, and 64 bits .f16, .f32, .f64 Source operands are scalar 32-bit or 64-bit values in registers, an immediate value, or a constant; predicate operands are 1-bit Boolean values. Destinations are registers, except for store to memory. Instructions are predicated by prefxing them with @p or @!p, where p is a predicate register. Memory and texture instructions transfer scalars or vectors of two to four components, up to 128 bits in total. PTX instructions specify the behavior of one thread.æºæ“ä½œæ•°æ˜¯å¯„å­˜å™¨ä¸­çš„æ ‡é‡32ä½æˆ–64ä½å€¼ï¼Œç«‹å³å€¼æˆ–å¸¸é‡; è°“è¯æ“ä½œæ•°æ˜¯1ä½å¸ƒå°”å€¼ã€‚ ç›®æ ‡æ˜¯å¯„å­˜å™¨ï¼Œé™¤äº†å­˜å‚¨åˆ°å­˜å‚¨å™¨ã€‚ é€šè¿‡ä½¿ç”¨@pæˆ–@ï¼på¯¹å®ƒä»¬è¿›è¡Œé¢„å¤„ç†æ¥é¢„æµ‹æŒ‡ä»¤ï¼Œå…¶ä¸­pæ˜¯è°“è¯å¯„å­˜å™¨ã€‚ å†…å­˜å’Œçº¹ç†æŒ‡ä»¤ä¼ è¾“ä¸¤åˆ°å››ä¸ªç»„ä»¶çš„æ ‡é‡æˆ–å‘é‡ï¼Œæ€»å…±æœ€å¤š128ä½ã€‚ PTXæŒ‡ä»¤æŒ‡å®šä¸€ä¸ªçº¿ç¨‹çš„è¡Œä¸ºã€‚ The PTX arithmetic instructions operate on 32-bit and 64-bit ï¬‚oating-point, signed integer, and unsigned integer types. Recent GPUs support 64-bit double precision ï¬‚oating-point; see Section C.6. On current GPUs, PTX 64-bit integer and logical instructions are translated to two or more binary microinstructions that perform 32-bit operations. The GPU special function instructions are limited to 32-bit ï¬‚oating-point. The thread control ï¬‚ow instructions are conditional branch, function call and return, thread exit, and bar.sync (barrier synchronization). The conditional branch instruction @p bra target uses a predicate register p (or !p) previously set by a compare and set predicate setp instruction to determine whether the thread takes the branch or not. Other instructions can also be predicated on a predicate register being true or false.PTXç®—æœ¯æŒ‡ä»¤å¯¹32ä½å’Œ64ä½æµ®ç‚¹ï¼Œæœ‰ç¬¦å·æ•´æ•°å’Œæ— ç¬¦å·æ•´æ•°ç±»åž‹è¿›è¡Œæ“ä½œã€‚ æœ€è¿‘çš„GPUæ”¯æŒ64ä½åŒç²¾åº¦æµ®ç‚¹; è§C.6èŠ‚ã€‚ åœ¨å½“å‰çš„GPUä¸Šï¼ŒPTX 64ä½æ•´æ•°å’Œé€»è¾‘æŒ‡ä»¤è¢«è½¬æ¢ä¸ºä¸¤ä¸ªæˆ–æ›´å¤šä¸ªæ‰§è¡Œ32ä½æ“ä½œçš„äºŒè¿›åˆ¶å¾®æŒ‡ä»¤ã€‚ GPUç‰¹æ®ŠåŠŸèƒ½æŒ‡ä»¤ä»…é™äºŽ32ä½æµ®ç‚¹ã€‚ çº¿ç¨‹æŽ§åˆ¶æµç¨‹æŒ‡ä»¤æ˜¯æ¡ä»¶åˆ†æ”¯ï¼Œå‡½æ•°è°ƒç”¨å’Œè¿”å›žï¼Œçº¿ç¨‹é€€å‡ºå’Œbar.syncï¼ˆå±éšœåŒæ­¥ï¼‰ã€‚ æ¡ä»¶åˆ†æ”¯æŒ‡ä»¤@p bra targetä½¿ç”¨å…ˆå‰ç”±compareå’Œset predicate setpæŒ‡ä»¤è®¾ç½®çš„è°“è¯å¯„å­˜å™¨pï¼ˆæˆ–ï¼pï¼‰æ¥ç¡®å®šçº¿ç¨‹æ˜¯å¦æŽ¥å—åˆ†æ”¯ã€‚ å…¶ä»–æŒ‡ä»¤ä¹Ÿå¯ä»¥åœ¨è°“è¯å¯„å­˜å™¨ä¸ºçœŸæˆ–å‡çš„æƒ…å†µä¸‹è¿›è¡Œé¢„æµ‹ã€‚ Memory Access Instructions å†…å­˜è®¿é—®æŒ‡ä»¤The tex instruction fetches and filters texture samples from 1D, 2D, and 3D texture arrays in memory via the texture subsystem. Texture fetches generally use interpolated ï¬‚oating-point coordinates to address a texture. Once a graphics pixel shader thread computes its pixel fragment color, the raster operations processor blends it with the pixel color at its assigned (x, y) pixel position and writes the final color to memory.texæŒ‡ä»¤é€šè¿‡çº¹ç†å­ç³»ç»Ÿä»Žå†…å­˜ä¸­çš„1Dï¼Œ2Då’Œ3Dçº¹ç†æ•°ç»„ä¸­æå–å’Œè¿‡æ»¤çº¹ç†æ ·æœ¬ã€‚ çº¹ç†æå–é€šå¸¸ä½¿ç”¨æ’å€¼çš„æµ®ç‚¹åæ ‡æ¥å¯»å€çº¹ç†ã€‚ ä¸€æ—¦å›¾å½¢åƒç´ ç€è‰²å™¨çº¿ç¨‹è®¡ç®—å…¶åƒç´ ç‰‡æ®µé¢œè‰²ï¼Œå…‰æ …æ“ä½œå¤„ç†å™¨å°†å…¶ä¸Žå…¶æŒ‡å®šçš„ï¼ˆxï¼Œyï¼‰åƒç´ ä½ç½®å¤„çš„åƒç´ é¢œè‰²æ··åˆï¼Œå¹¶å°†æœ€ç»ˆé¢œè‰²å†™å…¥å­˜å‚¨å™¨ã€‚To support computing and C/C++ language needs, the Tesla PTX ISA implements memory load/store instructions. It uses integer byte addressing with register plus oï¬€set address arithmetic to facilitate conventional compiler code optimizations. Memory load/store instructions are common in processors, but are a signifcant new capability in the Tesla architecture GPUs, as prior GPUs provided only the texture and pixel accesses required by the graphics APIs.ä¸ºäº†æ”¯æŒè®¡ç®—å’ŒC / C ++è¯­è¨€éœ€æ±‚ï¼ŒTesla PTX ISAå®žçŽ°äº†å†…å­˜åŠ è½½/å­˜å‚¨æŒ‡ä»¤ã€‚ å®ƒä½¿ç”¨æ•´æ•°å­—èŠ‚å¯»å€å’Œå¯„å­˜å™¨åŠ o ffè®¾ç½®åœ°å€ç®—æ³•æ¥ä¿ƒè¿›ä¼ ç»Ÿçš„ç¼–è¯‘å™¨ä»£ç ä¼˜åŒ–ã€‚ å†…å­˜åŠ è½½/å­˜å‚¨æŒ‡ä»¤åœ¨å¤„ç†å™¨ä¸­å¾ˆå¸¸è§ï¼Œä½†åœ¨Teslaæž¶æž„GPUä¸­æ˜¯ä¸€é¡¹é‡è¦çš„æ–°åŠŸèƒ½ï¼Œå› ä¸ºä¹‹å‰çš„GPUä»…æä¾›å›¾å½¢APIæ‰€éœ€çš„çº¹ç†å’Œåƒç´ è®¿é—®ã€‚For computing, the load/store instructions access three read/write memory spaces that implement the corresponding CUDA memory spaces in Section C.3:å¯¹äºŽè®¡ç®—ï¼ŒåŠ è½½/å­˜å‚¨æŒ‡ä»¤è®¿é—®åœ¨C.3èŠ‚ä¸­å®žçŽ°ç›¸åº”CUDAå­˜å‚¨ç©ºé—´çš„ä¸‰ä¸ªè¯»/å†™å­˜å‚¨ç©ºé—´ï¼š Local memory for per-thread private addressable temporary data (implemented in external DRAM) æ¯çº¿ç¨‹ä¸“ç”¨å¯å¯»å€ä¸´æ—¶æ•°æ®çš„æœ¬åœ°å†…å­˜ï¼ˆåœ¨å¤–éƒ¨DRAMä¸­å®žçŽ°ï¼‰ Shared memory for low-latency access to data shared by cooperating threads in the same CTA/thread block (implemented in on-chip SRAM) å…±äº«å†…å­˜ï¼Œç”¨äºŽå¯¹åŒä¸€CTA /çº¿ç¨‹å—ä¸­çš„åä½œçº¿ç¨‹å…±äº«çš„æ•°æ®è¿›è¡Œä½Žå»¶è¿Ÿè®¿é—®ï¼ˆåœ¨ç‰‡ä¸ŠSRAMä¸­å®žçŽ°ï¼‰ Global memory for large data sets shared by all threads of a computing application (implemented in external DRAM) è®¡ç®—åº”ç”¨ç¨‹åºçš„æ‰€æœ‰çº¿ç¨‹å…±äº«çš„å¤§åž‹æ•°æ®é›†çš„å…¨å±€å†…å­˜ï¼ˆåœ¨å¤–éƒ¨DRAMä¸­å®žçŽ°ï¼‰ The memory load/store instructions ld.global, st.global, ld.shared, st.shared, ld.local, and st.local access the global, shared, and local memory spaces. Computing programs use the fast barrier synchronization instruction bar.sync to synchronize threads within a CTA/thread block that communicate with each other via shared and global memory.å†…å­˜åŠ è½½/å­˜å‚¨æŒ‡ä»¤ld.globalï¼Œst.globalï¼Œld.sharedï¼Œst.sharedï¼Œld.localå’Œst.localè®¿é—®å…¨å±€ï¼Œå…±äº«å’Œæœ¬åœ°å†…å­˜ç©ºé—´ã€‚ è®¡ç®—ç¨‹åºä½¿ç”¨å¿«é€Ÿå±éšœåŒæ­¥æŒ‡ä»¤bar.syncæ¥åŒæ­¥CTA /çº¿ç¨‹å—å†…çš„çº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹é€šè¿‡å…±äº«å’Œå…¨å±€å†…å­˜ç›¸äº’é€šä¿¡ã€‚ To improve memory bandwidth and reduce overhead, the local and global load/store instructions coalesce individual parallel thread requests from the same SIMT warp together into a single memory block request when the addresses fall in the same block and meet alignment criteria. Coalescing memory requests provides a signifcant performance boost over separate requests from individual threads. The multiprocessorâ€™s large thread count, together with support for many outstanding load requests, helps cover load-to-use latency for local and global memory implemented in external DRAM.ä¸ºäº†æ”¹å–„å­˜å‚¨å™¨å¸¦å®½å¹¶å‡å°‘å¼€é”€ï¼Œå½“åœ°å€è½åœ¨åŒä¸€å—ä¸­å¹¶æ»¡è¶³å¯¹é½æ ‡å‡†æ—¶ï¼Œæœ¬åœ°å’Œå…¨å±€åŠ è½½/å­˜å‚¨æŒ‡ä»¤å°†æ¥è‡ªç›¸åŒSIMT warpçš„å„ä¸ªå¹¶è¡Œçº¿ç¨‹è¯·æ±‚åˆå¹¶ä¸ºå•ä¸ªå­˜å‚¨å™¨å—è¯·æ±‚ã€‚ åˆå¹¶å†…å­˜è¯·æ±‚ç›¸å¯¹äºŽæ¥è‡ªå„ä¸ªçº¿ç¨‹çš„å•ç‹¬è¯·æ±‚æä¾›äº†æ˜¾ç€çš„æ€§èƒ½æå‡ã€‚ å¤šå¤„ç†å™¨çš„å¤§çº¿ç¨‹æ•°ä»¥åŠå¯¹è®¸å¤šæœªå®Œæˆçš„è´Ÿè½½è¯·æ±‚çš„æ”¯æŒæœ‰åŠ©äºŽè¦†ç›–å¤–éƒ¨DRAMä¸­å®žçŽ°çš„æœ¬åœ°å’Œå…¨å±€å†…å­˜çš„è´Ÿè½½ä½¿ç”¨å»¶è¿Ÿã€‚ The latest Tesla architecture GPUs also provide efcient atomic memory operations on memory with the atom.op.u32 instructions, including integer operations add, min, max, and, or, xor, exchange, and cas (compare-and-swap) operations, facilitating parallel reductions and parallel data structure management.æœ€æ–°çš„Teslaæž¶æž„GPUè¿˜é€šè¿‡atom.op.u32æŒ‡ä»¤åœ¨å†…å­˜ä¸Šæä¾›æœ‰æ•ˆçš„åŽŸå­å†…å­˜æ“ä½œï¼ŒåŒ…æ‹¬æ•´æ•°è¿ç®—addï¼Œminï¼Œmaxå’Œï¼Œæˆ–è€…xorï¼Œexchangeå’Œcasï¼ˆæ¯”è¾ƒå’Œäº¤æ¢ï¼‰æ“ä½œï¼Œ ä¿ƒè¿›å¹¶è¡Œå‡å°‘å’Œå¹¶è¡Œæ•°æ®ç»“æž„ç®¡ç†ã€‚ Barrier Synchronization for Thread Communication çº¿ç¨‹é€šä¿¡çš„å±éšœåŒæ­¥Fast barrier synchronization permits CUDA programs to communicate frequently via shared memory and global memory by simply calling __syncthreads(); as part of each interthread communication step. The synchronization intrinsic function generates a single bar.sync instruction. However, implementing fast barrier synchronization among up to 512 threads per CUDA thread block is a challenge.å¿«é€Ÿå±éšœåŒæ­¥å…è®¸CUDAç¨‹åºé€šè¿‡ç®€å•åœ°è°ƒç”¨__syncthreadsï¼ˆï¼‰;æ¥ç»å¸¸é€šè¿‡å…±äº«å†…å­˜å’Œå…¨å±€å†…å­˜è¿›è¡Œé€šä¿¡ã€‚ ä½œä¸ºæ¯ä¸ªçº¿ç¨‹äº¤æµæ­¥éª¤çš„ä¸€éƒ¨åˆ†ã€‚ åŒæ­¥å†…éƒ¨å‡½æ•°ç”Ÿæˆå•ä¸ªbar.syncæŒ‡ä»¤ã€‚ ä½†æ˜¯ï¼Œåœ¨æ¯ä¸ªCUDAçº¿ç¨‹å—ä¸­æœ€å¤š512ä¸ªçº¿ç¨‹ä¹‹é—´å®žçŽ°å¿«é€Ÿå±éšœåŒæ­¥æ˜¯ä¸€é¡¹æŒ‘æˆ˜ã€‚Grouping threads into SIMT warps of 32 threads reduces the synchronization difculty by a factor of 32. Treads wait at a barrier in the SIMT thread scheduler so they do not consume any processor cycles while waiting. When a thread executes a bar.sync instruction, it increments the barrierâ€™s thread arrival counter and the scheduler marks the thread as waiting at the barrier. Once all the CTA threads arrive, the barrier counter matches the expected terminal count, and the scheduler releases all the threads waiting at the barrier and resumes executing threads.å°†çº¿ç¨‹åˆ†ç»„ä¸º32ä¸ªçº¿ç¨‹çš„SIMT warpå¯å°†åŒæ­¥å›°éš¾å‡å°‘32å€.Treadåœ¨SIMTçº¿ç¨‹è°ƒåº¦ç¨‹åºä¸­ç­‰å¾…éšœç¢ï¼Œä»¥ä¾¿å®ƒä»¬åœ¨ç­‰å¾…æ—¶ä¸æ¶ˆè€—ä»»ä½•å¤„ç†å™¨å‘¨æœŸã€‚ å½“ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œbar.syncæŒ‡ä»¤æ—¶ï¼Œå®ƒä¼šé€’å¢žå±éšœçš„çº¿ç¨‹åˆ°è¾¾è®¡æ•°å™¨ï¼Œå¹¶ä¸”è°ƒåº¦ç¨‹åºå°†è¯¥çº¿ç¨‹æ ‡è®°ä¸ºåœ¨å±éšœå¤„ç­‰å¾…ã€‚ ä¸€æ—¦æ‰€æœ‰CTAçº¿ç¨‹åˆ°è¾¾ï¼Œå±éšœè®¡æ•°å™¨åŒ¹é…é¢„æœŸçš„ç»ˆç«¯è®¡æ•°ï¼Œå¹¶ä¸”è°ƒåº¦ç¨‹åºé‡Šæ”¾åœ¨å±éšœå¤„ç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹å¹¶ç»§ç»­æ‰§è¡Œçº¿ç¨‹ã€‚ Streaming Processor (SP) æµå¤„ç†å™¨ï¼ˆSPï¼‰The multithreaded streaming processor (SP) core is the primary thread instruction processor in the multiprocessor. Its register fle (RF) provides 1024 scalar 32-bit registers for up to 64 threads. It executes all the fundamental ï¬‚oating-point operations, including add.f32, mul.f32, mad.f32 (ï¬‚oating multiply-add), min.f32, max.f32, and setp.f32 (ï¬‚oating compare and set predicate). Te ï¬‚oatingpoint add and multiply operations are compatible with the IEEE 754 standard for single precision FP numbers, including not-a-number (NaN) and infnity values. Te SP core also implements all of the 32-bit and 64-bit integer arithmetic, comparison, conversion, and logical PTX instructions shown in Figure C.4.3.å¤šçº¿ç¨‹æµå¤„ç†å™¨ï¼ˆSPï¼‰å†…æ ¸æ˜¯å¤šå¤„ç†å™¨ä¸­çš„ä¸»è¦çº¿ç¨‹æŒ‡ä»¤å¤„ç†å™¨ã€‚ å…¶å¯„å­˜å™¨æ–‡ä»¶ï¼ˆRFï¼‰æä¾›1024ä¸ªæ ‡é‡32ä½å¯„å­˜å™¨ï¼Œæœ€å¤šå¯æ”¯æŒ64ä¸ªçº¿ç¨‹ã€‚ å®ƒæ‰§è¡Œæ‰€æœ‰åŸºæœ¬çš„æµ®ç‚¹è¿ç®—ï¼ŒåŒ…æ‹¬add.f32ï¼Œmul.f32ï¼Œmad.f32ï¼ˆæµ®åŠ¨ä¹˜æ³• - åŠ æ³•ï¼‰ï¼Œmin.f32ï¼Œmax.f32å’Œsetp.f32ï¼ˆæµ®ç‚¹æ•°æ¯”è¾ƒå’Œè®¾ç½®è°“è¯ï¼‰ã€‚ å¯¹äºŽå•ç²¾åº¦FPç¼–å·ï¼ŒåŒ…æ‹¬éžæ•°å­—ï¼ˆNaNï¼‰å’Œæ— ç©·å¤§å€¼ï¼ŒTe floatingpointåŠ æ³•å’Œä¹˜æ³•è¿ç®—ä¸ŽIEEE 754æ ‡å‡†å…¼å®¹ã€‚ Te SPå†…æ ¸è¿˜å®žçŽ°äº†å›¾C.4.3ä¸­æ‰€ç¤ºçš„æ‰€æœ‰32ä½å’Œ64ä½æ•´æ•°è¿ç®—ï¼Œæ¯”è¾ƒï¼Œè½¬æ¢å’Œé€»è¾‘PTXæŒ‡ä»¤ã€‚ The ï¬‚oating-point add and mul operations employ IEEE round-to-nearest-even as the default rounding mode. Te mad.f32 ï¬‚oating-point multiply-add operation performs a multiplication with truncation, followed by an addition with roundto-nearest-even. The SP ï¬‚ushes input denormal operands to sign-preserved-zero. Results that underï¬‚ow the target output exponent range are ï¬‚ushed to signpreserved-zero after rounding.æµ®ç‚¹åŠ æ³•å’Œmulè¿ç®—é‡‡ç”¨IEEEèˆå…¥åˆ°æœ€è¿‘ - ç”šè‡³ä½œä¸ºé»˜è®¤èˆå…¥æ¨¡å¼ã€‚ Te mad.f32æµ®ç‚¹ä¹˜æ³•åŠ æ³•è¿ç®—æ‰§è¡Œä¸Žæˆªæ–­çš„ä¹˜æ³•è¿ç®—ï¼Œç„¶åŽä½¿ç”¨roundto-nearest-evenè¿›è¡ŒåŠ æ³•è¿ç®—ã€‚ SPå°†è¾“å…¥éžæ­£è§„æ“ä½œæ•°ç”¨äºŽç¬¦å·ä¿ç•™ä¸ºé›¶ã€‚ åœ¨èˆå…¥ä¹‹åŽï¼Œå°†ç›®æ ‡è¾“å‡ºæŒ‡æ•°èŒƒå›´ä¸‹çš„ç»“æžœæµ®åŠ¨åˆ°ç¬¦å·ä¿ç•™ä¸ºé›¶ Special Function Unit (SFU) ç‰¹æ®ŠåŠŸèƒ½å•å…ƒï¼ˆSFUï¼‰Certain thread instructions can execute on the SFUs, concurrently with other thread instructions executing on the SPs. The SFU implements the special function instructions of Figure C.4.3, which compute 32-bit ï¬‚oating-point approximations to reciprocal, reciprocal square root, and key transcendental functions. It also implements 32-bit ï¬‚oating-point planar attribute interpolation for pixel shaders, providing accurate interpolation of attributes such as color, depth, and texture coordinates.æŸäº›çº¿ç¨‹æŒ‡ä»¤å¯ä»¥åœ¨SFUä¸Šæ‰§è¡Œï¼Œä¸Žåœ¨SPä¸Šæ‰§è¡Œçš„å…¶ä»–çº¿ç¨‹æŒ‡ä»¤åŒæ—¶æ‰§è¡Œã€‚ SFUå®žçŽ°äº†å›¾C.4.3ä¸­çš„ç‰¹æ®Šå‡½æ•°æŒ‡ä»¤ï¼Œå®ƒä»¬è®¡ç®—å€’æ•°ï¼Œå€’æ•°å¹³æ–¹æ ¹å’Œå…³é”®è¶…è¶Šå‡½æ•°çš„32ä½æµ®ç‚¹è¿‘ä¼¼ã€‚ å®ƒè¿˜ä¸ºåƒç´ ç€è‰²å™¨å®žçŽ°äº†32ä½æµ®ç‚¹å¹³é¢å±žæ€§æ’å€¼ï¼Œæä¾›äº†é¢œè‰²ï¼Œæ·±åº¦å’Œçº¹ç†åæ ‡ç­‰å±žæ€§çš„ç²¾ç¡®æ’å€¼ã€‚ Each pipelined SFU generates one 32-bit ï¬‚oating-point special function result per cycle; the two SFUs per multiprocessor execute special function instructions at a quarter the simple instruction rate of the eight SPs. The SFUs also execute the mul.f32 multiply instruction concurrently with the eight SPs, increasing the peakcomputation rate up to 50% for threads with a suitable instruction mixture.æ¯ä¸ªæµæ°´çº¿SFUåœ¨æ¯ä¸ªå‘¨æœŸäº§ç”Ÿä¸€ä¸ª32ä½æµ®ç‚¹ç‰¹æ®ŠåŠŸèƒ½ç»“æžœ; æ¯ä¸ªå¤šå¤„ç†å™¨çš„ä¸¤ä¸ªSFUä»¥å…«ä¸ªSPçš„ç®€å•æŒ‡ä»¤é€ŸçŽ‡çš„å››åˆ†ä¹‹ä¸€æ‰§è¡Œç‰¹æ®ŠåŠŸèƒ½æŒ‡ä»¤ã€‚ SFUè¿˜ä¸Ž8ä¸ªSPåŒæ—¶æ‰§è¡Œmul.f32ä¹˜æ³•æŒ‡ä»¤ï¼Œå¯¹äºŽå…·æœ‰åˆé€‚æŒ‡ä»¤æ··åˆçš„çº¿ç¨‹ï¼Œå³°å€¼è®¡ç®—é€ŸçŽ‡æé«˜äº†50ï¼…ã€‚ For functional evaluation, the Tesla architecture SFU employs quadratic interpolation based on enhanced minimax approximations for approximating the reciprocal, reciprocal square-root, log2x, 2x, and sin/cos functions. Te accuracy of the function estimates ranges from 22 to 24 mantissa bits. See Section C.6 for more details on SFU arithmetic.å¯¹äºŽåŠŸèƒ½è¯„ä¼°ï¼Œç‰¹æ–¯æ‹‰æž¶æž„SFUé‡‡ç”¨åŸºäºŽå¢žå¼ºçš„æžå°æžå¤§è¿‘ä¼¼çš„äºŒæ¬¡æ’å€¼æ¥è¿‘ä¼¼å€’æ•°ï¼Œå€’æ•°å¹³æ–¹æ ¹ï¼Œlog2xï¼Œ2xå’Œæ­£å¼¦/ä½™å¼¦å‡½æ•°ã€‚ åŠŸèƒ½ä¼°è®¡çš„å‡†ç¡®åº¦èŒƒå›´ä»Ž22åˆ°24ä¸ªå°¾æ•°ä½ã€‚ æœ‰å…³SFUç®—æ³•çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ç¬¬C.6èŠ‚ã€‚ Comparing with Other Multiprocessors ä¸Žå…¶ä»–å¤šå¤„ç†å™¨æ¯”è¾ƒCompared with SIMD vector architectures such as x86 SSE, the SIMT multiprocessor can execute individual threads independently, rather than always executing them together in synchronous groups. SIMT hardware fnds data parallelism among independent threads, whereas SIMD hardware requires the sofware to express data parallelism explicitly in each vector instruction. A SIMT machine executes a warp of 32 threads synchronously when the threads take the same execution path, yet can execute each thread independently when they diverge. Te advantage is signifcant because SIMT programs and instructions simply describe the behavior of a single independent thread, rather than a SIMD data vector of four or more data lanes. Yet the SIMT multiprocessor has SIMD-like efciency, spreading the area and cost of one instruction unit across the 32 threads of a warp and across the eight streaming processor cores. SIMT provides the performance of SIMD together with the productivity of multithreading, avoiding the need to explicitly code SIMD vectors for edge conditions and partial divergence.ä¸ŽSIM86çŸ¢é‡ä½“ç³»ç»“æž„ï¼ˆå¦‚x86 SSEï¼‰ç›¸æ¯”ï¼ŒSIMTå¤šå¤„ç†å™¨å¯ä»¥ç‹¬ç«‹æ‰§è¡Œå„ä¸ªçº¿ç¨‹ï¼Œè€Œä¸æ˜¯å§‹ç»ˆåœ¨åŒæ­¥ç»„ä¸­ä¸€èµ·æ‰§è¡Œå®ƒä»¬ã€‚ SIMTç¡¬ä»¶æ”¯æŒç‹¬ç«‹çº¿ç¨‹ä¹‹é—´çš„æ•°æ®å¹¶è¡Œæ€§ï¼Œè€ŒSIMDç¡¬ä»¶è¦æ±‚è½¯ä»¶åœ¨æ¯ä¸ªå‘é‡æŒ‡ä»¤ä¸­æ˜Žç¡®è¡¨è¾¾æ•°æ®å¹¶è¡Œæ€§ã€‚å½“çº¿ç¨‹é‡‡ç”¨ç›¸åŒçš„æ‰§è¡Œè·¯å¾„æ—¶ï¼ŒSIMTæœºå™¨åŒæ­¥æ‰§è¡Œ32ä¸ªçº¿ç¨‹çš„warpï¼Œä½†æ˜¯å½“å®ƒä»¬å‘æ•£æ—¶å¯ä»¥ç‹¬ç«‹åœ°æ‰§è¡Œæ¯ä¸ªçº¿ç¨‹ã€‚ä¼˜ç‚¹æ˜¯æ˜¾ç€çš„ï¼Œå› ä¸ºSIMTç¨‹åºå’ŒæŒ‡ä»¤ç®€å•åœ°æè¿°äº†å•ä¸ªç‹¬ç«‹çº¿ç¨‹çš„è¡Œä¸ºï¼Œè€Œä¸æ˜¯å››ä¸ªæˆ–æ›´å¤šæ•°æ®é€šé“çš„SIMDæ•°æ®å‘é‡ã€‚ç„¶è€Œï¼ŒSIMTå¤šå¤„ç†å™¨å…·æœ‰ç±»ä¼¼SIMDçš„æ•ˆçŽ‡ï¼Œåœ¨ä¸€ä¸ªæ‰­æ›²çš„32ä¸ªçº¿ç¨‹å’Œå…«ä¸ªæµå¤„ç†å™¨å†…æ ¸ä¹‹é—´æ‰©å±•äº†ä¸€ä¸ªæŒ‡ä»¤å•å…ƒçš„é¢ç§¯å’Œæˆæœ¬ã€‚ SIMTæä¾›SIMDçš„æ€§èƒ½ä»¥åŠå¤šçº¿ç¨‹çš„ç”Ÿäº§çŽ‡ï¼Œæ— éœ€ä¸ºè¾¹ç¼˜æ¡ä»¶å’Œéƒ¨åˆ†å‘æ•£æ˜Žç¡®ç¼–ç SIMDå‘é‡ã€‚ The SIMT multiprocessor imposes little overhead because it is hardware multithreaded with hardware barrier synchronization. That allows graphics shaders and CUDA threads to express very fne-grained parallelism. Graphics and CUDA programs use threads to express fne-grained data parallelism in a perthread program, rather than forcing the programmer to express it as SIMD vector instructions. It is simpler and more productive to develop scalar single-thread code than vector code, and the SIMT multiprocessor executes the code with SIMD-like effciency.SIMTå¤šå¤„ç†å™¨çš„å¼€é”€å¾ˆå°ï¼Œå› ä¸ºå®ƒæ˜¯å…·æœ‰ç¡¬ä»¶å±éšœåŒæ­¥çš„ç¡¬ä»¶å¤šçº¿ç¨‹ã€‚ è¿™å…è®¸å›¾å½¢ç€è‰²å™¨å’ŒCUDAçº¿ç¨‹è¡¨è¾¾éžå¸¸ç»†è‡´çš„å¹¶è¡Œæ€§ã€‚ å›¾å½¢å’ŒCUDAç¨‹åºä½¿ç”¨çº¿ç¨‹åœ¨perthreadç¨‹åºä¸­è¡¨è¾¾ç»†ç²’åº¦æ•°æ®å¹¶è¡Œæ€§ï¼Œè€Œä¸æ˜¯å¼ºè¿«ç¨‹åºå‘˜å°†å…¶è¡¨è¾¾ä¸ºSIMDå‘é‡æŒ‡ä»¤ã€‚ å¼€å‘æ ‡é‡å•çº¿ç¨‹ä»£ç æ¯”çŸ¢é‡ä»£ç æ›´ç®€å•ï¼Œæ›´é«˜æ•ˆï¼Œè€ŒSIMTå¤šå¤„ç†å™¨ä»¥ç±»ä¼¼SIMDçš„æ•ˆçŽ‡æ‰§è¡Œä»£ç ã€‚ Coupling eight streaming processor cores together closely into a multiprocessor and then implementing a scalable number of such multiprocessors makes a twolevel multiprocessor composed of multiprocessors. The CUDA programming model exploits the two-level hierarchy by providing individual threads for fne-grained parallel computations, and by providing grids of thread blocks for coarse-grained parallel operations. The same thread program can provide both fine-grained and coarse-grained operations. In contrast, CPUs with SIMD vector instructions must use two diï¬€erent programming models to provide fne-grained and coarse-grained operations: coarse-grained parallel threads on different cores, and SIMD vector instructions for fne-grained data parallelism.å°†å…«ä¸ªæµå¤„ç†å™¨æ ¸å¿ƒç´§å¯†åœ°è€¦åˆåˆ°å¤šå¤„ç†å™¨ä¸­ï¼Œç„¶åŽå®žçŽ°å¯æ‰©å±•æ•°é‡çš„è¿™ç§å¤šå¤„ç†å™¨ï¼Œä½¿å¾—ç”±å¤šå¤„ç†å™¨ç»„æˆçš„ä¸¤çº§å¤šå¤„ç†å™¨æˆä¸ºå¯èƒ½ã€‚ CUDAç¼–ç¨‹æ¨¡åž‹é€šè¿‡ä¸ºç»†ç²’åº¦å¹¶è¡Œè®¡ç®—æä¾›å•ç‹¬çš„çº¿ç¨‹ï¼Œå¹¶é€šè¿‡ä¸ºç²—ç²’åº¦å¹¶è¡Œæ“ä½œæä¾›çº¿ç¨‹å—ç½‘æ ¼æ¥åˆ©ç”¨ä¸¤çº§å±‚æ¬¡ç»“æž„ã€‚ ç›¸åŒçš„çº¿ç¨‹ç¨‹åºå¯ä»¥æä¾›ç»†ç²’åº¦å’Œç²—ç²’åº¦æ“ä½œã€‚ ç›¸åï¼Œå…·æœ‰SIMDå‘é‡æŒ‡ä»¤çš„CPUå¿…é¡»ä½¿ç”¨ä¸¤ç§ä¸åŒçš„ç¼–ç¨‹æ¨¡åž‹æ¥æä¾›ç»†ç²’åº¦å’Œç²—ç²’åº¦æ“ä½œï¼šä¸åŒå†…æ ¸ä¸Šçš„ç²—ç²’åº¦å¹¶è¡Œçº¿ç¨‹ï¼Œä»¥åŠç”¨äºŽç»†ç²’åº¦æ•°æ®å¹¶è¡Œæ€§çš„SIMDå‘é‡æŒ‡ä»¤ã€‚ Multithreaded Multiprocessor Conclusion å¤šçº¿ç¨‹å¤šå¤„ç†å™¨ç»“è®ºThe example GPU multiprocessor based on the Tesla architecture is highly multithreaded, executing a total of up to 512 lightweight threads concurrently to support fne-grained pixel shaders and CUDA threads. It uses a variation on SIMD architecture and multithreading called SIMT (single-instruction multiple-thread) to effciently broadcast one instruction to a warp of 32 parallel threads, while permitting each thread to branch and execute independently. Each thread executes its instruction stream on one of the eight streaming processor (SP) cores, which are multithreaded up to 64 threads.åŸºäºŽTeslaæž¶æž„çš„ç¤ºä¾‹GPUå¤šå¤„ç†å™¨æ˜¯é«˜åº¦å¤šçº¿ç¨‹çš„ï¼ŒåŒæ—¶æ‰§è¡Œæ€»å…±å¤šè¾¾512ä¸ªè½»é‡çº§çº¿ç¨‹ï¼Œä»¥æ”¯æŒç»†ç²’åº¦åƒç´ ç€è‰²å™¨å’ŒCUDAçº¿ç¨‹ã€‚ å®ƒä½¿ç”¨SIMDæž¶æž„çš„å˜ä½“å’Œç§°ä¸ºSIMTï¼ˆå•æŒ‡ä»¤å¤šçº¿ç¨‹ï¼‰çš„å¤šçº¿ç¨‹æ¥æœ‰æ•ˆåœ°å°†ä¸€æ¡æŒ‡ä»¤å¹¿æ’­åˆ°32ä¸ªå¹¶è¡Œçº¿ç¨‹çš„warpï¼ŒåŒæ—¶å…è®¸æ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹åœ°åˆ†æ”¯å’Œæ‰§è¡Œã€‚ æ¯ä¸ªçº¿ç¨‹åœ¨å…«ä¸ªæµå¤„ç†å™¨ï¼ˆSPï¼‰å†…æ ¸ä¹‹ä¸€ä¸Šæ‰§è¡Œå…¶æŒ‡ä»¤æµï¼Œè¿™äº›å†…æ ¸æ˜¯å¤šçº¿ç¨‹çš„ï¼Œæœ€å¤š64ä¸ªçº¿ç¨‹ã€‚ The PTX ISA is a register-based load/store scalar ISA that describes the execution of a single thread. Because PTX instructions are optimized and translated to binary microinstructions for a specifc GPU, the hardware instructions can evolve rapidly without disrupting compilers and sofware tools that generate PTX instructions.PTX ISAæ˜¯ä¸€ä¸ªåŸºäºŽå¯„å­˜å™¨çš„åŠ è½½/å­˜å‚¨æ ‡é‡ISAï¼Œç”¨äºŽæè¿°å•ä¸ªçº¿ç¨‹çš„æ‰§è¡Œã€‚ ç”±äºŽPTXæŒ‡ä»¤ç»è¿‡ä¼˜åŒ–å¹¶è½¬æ¢ä¸ºç‰¹å®šGPUçš„äºŒè¿›åˆ¶å¾®æŒ‡ä»¤ï¼Œå› æ­¤ç¡¬ä»¶æŒ‡ä»¤å¯ä»¥å¿«é€Ÿå‘å±•ï¼Œè€Œä¸ä¼šä¸­æ–­ç”ŸæˆPTXæŒ‡ä»¤çš„ç¼–è¯‘å™¨å’Œè½¯ä»¶å·¥å…·]]></content>
      <categories>
        <category>GPUç›¸å…³</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[3_Programming_GPUs]]></title>
    <url>%2F2019%2F01%2F24%2FProgramming_GPUs%2F</url>
    <content type="text"><![CDATA[Programming multiprocessor GPUs is qualitatively different than programming other multiprocessors like multicore CPUs. GPUs provide two to three orders of magnitude more thread and data parallelism than CPUs, scaling to hundreds of processor cores and tens of thousands of concurrent threads. GPUs continue to increase their parallelism, doubling it about every 12 to 18 months, enabled by Mooreâ€™s law [1965] of increasing integrated circuit density and by improving architectural efciency. To span the wide price and performance range of different market segments, different GPU products implement widely varying numbers of processors and threads. Yet users expect games, graphics, imaging, and computing applications to work on any GPU, regardless of how many parallel threads it executes or how many parallel processor cores it has, and they expect more expensive GPUs (with more threads and cores) to run applications faster. As a result, GPU programming models and application programs are designed to scale transparently to a wide range of parallelism.ç¼–ç¨‹å¤šå¤„ç†å™¨GPUä¸Žç¼–ç¨‹å…¶ä»–å¤šå¤„ç†å™¨ï¼ˆå¦‚å¤šæ ¸CPUï¼‰çš„è´¨é‡ä¸åŒã€‚ GPUæ¯”CPUæä¾›ä¸¤åˆ°ä¸‰ä¸ªæ•°é‡çº§çš„çº¿ç¨‹å’Œæ•°æ®å¹¶è¡Œæ€§ï¼Œå¯æ‰©å±•åˆ°æ•°ç™¾ä¸ªå¤„ç†å™¨å†…æ ¸å’Œæ•°ä¸‡ä¸ªå¹¶å‘çº¿ç¨‹ã€‚éšç€é›†æˆç”µè·¯å¯†åº¦çš„æé«˜å’Œæé«˜æž¶æž„æ•ˆçŽ‡çš„æ‘©å°”å®šå¾‹[1965]ï¼ŒGPUæ¯12åˆ°18ä¸ªæœˆå°±ä¼šç»§ç»­å¢žåŠ å¹¶è¡Œæ€§ï¼Œå¹¶ä¸”ä¼šå¢žåŠ ä¸€å€ã€‚ä¸ºäº†è·¨è¶Šä¸åŒç»†åˆ†å¸‚åœºçš„å¹¿æ³›ä»·æ ¼å’Œæ€§èƒ½èŒƒå›´ï¼Œä¸åŒçš„GPUäº§å“å®žçŽ°äº†å¤§é‡ä¸åŒæ•°é‡çš„å¤„ç†å™¨å’Œçº¿ç¨‹ã€‚ç„¶è€Œï¼Œç”¨æˆ·æœŸæœ›æ¸¸æˆï¼Œå›¾å½¢ï¼Œæˆåƒå’Œè®¡ç®—åº”ç”¨ç¨‹åºå¯ä»¥åœ¨ä»»ä½•GPUä¸Šè¿è¡Œï¼Œæ— è®ºå®ƒæ‰§è¡Œå¤šå°‘å¹¶è¡Œçº¿ç¨‹æˆ–å®ƒæœ‰å¤šå°‘å¹¶è¡Œå¤„ç†å™¨æ ¸å¿ƒï¼Œä»–ä»¬æœŸæœ›æ›´å¤šæ˜‚è´µçš„GPUï¼ˆå…·æœ‰æ›´å¤šçº¿ç¨‹å’Œæ ¸å¿ƒï¼‰å¯ä»¥æ›´å¿«åœ°è¿è¡Œåº”ç”¨ç¨‹åºã€‚å› æ­¤ï¼ŒGPUç¼–ç¨‹æ¨¡åž‹å’Œåº”ç”¨ç¨‹åºæ—¨åœ¨é€æ˜Žåœ°æ‰©å±•åˆ°å„ç§å¹¶è¡Œæ€§ã€‚ The driving force behind the large number of parallel threads and cores in a GPU is real-time graphics performanceâ€”the need to render complex 3D scenes with high resolution at interactive frame rates, at least 60 frames per second. Correspondingly, the scalable programming models of graphics shading languages such as Cg (C for graphics) and HLSL (high-level shading language) are designed to exploit large degrees of parallelism via many independent parallel threads and to scale to any number of processor cores. The CUDA scalable parallel programming model similarly enables general parallel computing applications to leverage large numbers of parallel threads and scale to any number of parallel processor cores, transparently to the application.GPUä¸­å¤§é‡å¹¶è¡Œçº¿ç¨‹å’Œæ ¸å¿ƒèƒŒåŽçš„é©±åŠ¨åŠ›æ˜¯å®žæ—¶å›¾å½¢æ€§èƒ½ - éœ€è¦ä»¥äº¤äº’å¼å¸§é€ŸçŽ‡ï¼ˆè‡³å°‘æ¯ç§’60å¸§ï¼‰æ¸²æŸ“å…·æœ‰é«˜åˆ†è¾¨çŽ‡çš„å¤æ‚3Dåœºæ™¯ã€‚ ç›¸åº”åœ°ï¼Œå›¾å½¢ç€è‰²è¯­è¨€ï¼ˆå¦‚Cgï¼ˆå›¾å½¢ç”¨Cï¼‰å’ŒHLSLï¼ˆé«˜çº§ç€è‰²è¯­è¨€ï¼‰ï¼‰çš„å¯ä¼¸ç¼©ç¼–ç¨‹æ¨¡åž‹æ—¨åœ¨é€šè¿‡è®¸å¤šç‹¬ç«‹çš„å¹¶è¡Œçº¿ç¨‹åˆ©ç”¨å¤§ç¨‹åº¦çš„å¹¶è¡Œæ€§ï¼Œå¹¶æ‰©å±•åˆ°ä»»æ„æ•°é‡çš„å¤„ç†å™¨å†…æ ¸ã€‚ CUDAå¯æ‰©å±•å¹¶è¡Œç¼–ç¨‹æ¨¡åž‹åŒæ ·ä½¿é€šç”¨å¹¶è¡Œè®¡ç®—åº”ç”¨ç¨‹åºèƒ½å¤Ÿåˆ©ç”¨å¤§é‡å¹¶è¡Œçº¿ç¨‹ï¼Œå¹¶æ‰©å±•åˆ°ä»»æ„æ•°é‡çš„å¹¶è¡Œå¤„ç†å™¨å†…æ ¸ï¼Œå¯¹åº”ç”¨ç¨‹åºé€æ˜Žã€‚ In these scalable programming models, the programmer writes code for a single thread, and the GPU runs myriad thread instances in parallel. Programs thus scale transparently over a wide range of hardware parallelism. Tis simple paradigm arose from graphics APIs and shading languages that describe how to shade one vertex or one pixel. It has remained an effective paradigm as GPUs have rapidly increased their parallelism and performance since the late 1990s.åœ¨è¿™äº›å¯ä¼¸ç¼©çš„ç¼–ç¨‹æ¨¡åž‹ä¸­ï¼Œç¨‹åºå‘˜ä¸ºå•ä¸ªçº¿ç¨‹ç¼–å†™ä»£ç ï¼ŒGPUå¹¶è¡Œè¿è¡Œæ— æ•°çš„çº¿ç¨‹å®žä¾‹ã€‚ å› æ­¤ï¼Œç¨‹åºåœ¨å¹¿æ³›çš„ç¡¬ä»¶å¹¶è¡Œæ€§ä¸Šé€æ˜Žåœ°æ‰©å±•ã€‚ è¿™æ˜¯ä¸€ç§ç®€å•çš„èŒƒä¾‹ï¼Œå®ƒæ¥è‡ªæè¿°å¦‚ä½•é®è”½ä¸€ä¸ªé¡¶ç‚¹æˆ–ä¸€ä¸ªåƒç´ çš„å›¾å½¢APIå’Œç€è‰²è¯­è¨€ã€‚ è‡ªä»Ž20ä¸–çºª90å¹´ä»£æœ«ä»¥æ¥ï¼ŒGPUä¸€ç›´åœ¨è¿…é€Ÿæé«˜å…¶å¹¶è¡Œæ€§å’Œæ€§èƒ½ï¼Œè¿™ä»ç„¶æ˜¯ä¸€ç§æœ‰æ•ˆçš„èŒƒä¾‹ã€‚This section brieï¬‚y describes programming GPUs for real-time graphics applications using graphics APIs and programming languages. It then describes programming GPUs for visual computing and general parallel computing applications using the C language and the CUDA programming model.æœ¬èŠ‚ç®€è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨å›¾å½¢APIå’Œç¼–ç¨‹è¯­è¨€ä¸ºå®žæ—¶å›¾å½¢åº”ç”¨ç¨‹åºç¼–ç¨‹GPUã€‚ ç„¶åŽï¼Œå®ƒæè¿°äº†ä½¿ç”¨Cè¯­è¨€å’ŒCUDAç¼–ç¨‹æ¨¡åž‹ç¼–ç¨‹ç”¨äºŽå¯è§†è®¡ç®—å’Œé€šç”¨å¹¶è¡Œè®¡ç®—åº”ç”¨ç¨‹åºçš„GPUã€‚ Programming Real-Time Graphics å®žæ—¶å›¾å½¢ç¼–ç¨‹APIs have played an important role in the rapid, successful development of GPUs and processors. There are two primary standard graphics APIs: OpenGL and Direct3D, one of the Microsoft DirectX multimedia programming interfaces. OpenGL, an open standard, was originally proposed and defined by Silicon Graphics Incorporated. Te ongoing development and extension of the OpenGL standard [Segal and Akeley, 2006], [Kessenich, 2006] is managed by Khronos, an industry consortium. Direct3D [Blythe, 2006], a de facto standard, is definedand evolved forward by Microsoft and partners. OpenGL and Direct3D are similarly structured, and continue to evolve rapidly with GPU hardware advances. They defne a logical graphics processing pipeline that is mapped onto the GPU hardware and processors, along with programming models and languages for the programmable pipeline stages.APIåœ¨GPUå’Œå¤„ç†å™¨çš„å¿«é€Ÿè€ŒæˆåŠŸçš„å‘å±•ä¸­å‘æŒ¥äº†é‡è¦ä½œç”¨ã€‚ çŽ°åœ¨æœ‰ä¸¤ä¸ªä¸»è¦çš„æ ‡å‡†å›¾å½¢APIï¼šOpenGL å’Œ Direct3Dã€‚ Direct3Dæ˜¯å¾®è½¯ DirectX å¤šåª’ä½“ç¼–ç¨‹æŽ¥å£ä¹‹ä¸€ã€‚ OpenGLæ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†ï¼Œæœ€åˆæ˜¯ç”±Silicon Graphics Incorporatedæå‡ºå¹¶å®šä¹‰çš„ã€‚ OpenGLæ ‡å‡†çš„æŒç»­å‘å±•å’Œæ‰©å±•[Segalå’ŒAkeleyï¼Œ2006]ï¼Œ[Kessenichï¼Œ2006]ç”±è¡Œä¸šåä¼šKhronosç®¡ç†ã€‚ Direct3D [Blytheï¼Œ2006]æ˜¯äº‹å®žä¸Šçš„æ ‡å‡†ï¼Œç”±å¾®è½¯å’Œåˆä½œä¼™ä¼´å®šä¹‰å’Œå‘å±•ã€‚ OpenGLå’ŒDirect3Dç»“æž„ç›¸ä¼¼ï¼Œå¹¶ä¸”éšç€GPUç¡¬ä»¶çš„å‘å±•è€Œä¸æ–­å‘å±•ã€‚ å®ƒä»¬å®šä¹‰äº†æ˜ å°„åˆ°GPUç¡¬ä»¶å’Œå¤„ç†å™¨çš„é€»è¾‘å›¾å½¢å¤„ç†æµæ°´çº¿ï¼Œä»¥åŠå¯ç¼–ç¨‹æµæ°´çº¿çº§çš„ç¼–ç¨‹æ¨¡åž‹å’Œè¯­è¨€ã€‚ OpenGL :An open standard graphics API. Direct3D A graphics API defined by Microsoft and partners. ä¸€ä¸ªå¼€æ”¾æ ‡å‡†çš„å›¾å½¢APIã€‚ Direct3D: A graphics API defined by Microsof and partners. ç”±Microsoftå’Œåˆä½œä¼™ä¼´å®šä¹‰çš„å›¾å½¢APIã€‚ è¯‘æ³¨ï¼šDirectXä¸­ Direct3DæŽ¥å£è´Ÿè´£3Dæ•ˆæžœæ˜¾ç¤ºï¼ŒDirectDrawè´Ÿè´£2Då›¾åƒåŠ é€Ÿ Logical Graphics Pipeline é€»è¾‘å›¾å½¢ç®¡é“Figure C.3.1 illustrates the Direct3D 10 logical graphics pipeline. OpenGL has a similar graphics pipeline structure. The API and logical pipeline provide a streaming dataï¬‚ow infrastructure and plumbing for the programmable shader stages, shown in blue. The 3D application sends the GPU a sequence of vertices grouped into geometric primitivesâ€”points, lines, triangles, and polygons. The input assembler collects vertices and primitives. The vertex shader program executes per-vertex processing including transforming the vertex 3D position into a screen position and lighting the vertex to determine its color. The geometry shader program executes per-primitive processing and can add or drop primitives. The setup and rasterizer unit generates pixel fragments (fragments are potential contributions to pixels) that are covered by a geometric primitive. The pixel shader program performs per-fragment processing, including interpolating per-fragment parameters, texturing, and coloring. Pixel shaders make extensive use of sampled and filtered lookups into large 1D, 2D, or 3D arrays called textures, using interpolated ï¬‚oating-point coordinates. Shaders use texture accesses for maps, functions, decals, images, and data. The raster operations processing (or output merger) stage performs Z-buffer depth testing and stencil testing, which may discard a hidden pixel fragment or replace the pixelâ€™s depth with the fragmentâ€™s depth, and performs a color blending operation that combines the fragment color with the pixel color and writes the pixel with the blended color.å›¾C.3.1è¯´æ˜Žäº†Direct3D 10çš„é€»è¾‘å›¾å½¢ç®¡é“ã€‚ OpenGLå…·æœ‰ç±»ä¼¼çš„å›¾å½¢ç®¡é“ç»“æž„ã€‚ APIå’Œé€»è¾‘ç®¡é“ä¸ºå¯ç¼–ç¨‹ç€è‰²å™¨é˜¶æ®µæä¾›æµæ•°æ®æµåŸºç¡€ç»“æž„å’Œç®¡é“ï¼Œä»¥è“è‰²æ˜¾ç¤ºã€‚ 3Dåº”ç”¨ç¨‹åºå‘GPUå‘é€ä¸€ç³»åˆ—é¡¶ç‚¹ï¼Œè¿™äº›é¡¶ç‚¹è¢«åˆ†ç»„ä¸ºå‡ ä½•å›¾å…ƒ - ç‚¹ï¼Œçº¿ï¼Œä¸‰è§’å½¢å’Œå¤šè¾¹å½¢ã€‚è¾“å…¥æ±‡ç¼–ç¨‹åºæ”¶é›†é¡¶ç‚¹å’ŒåŸºå…ƒã€‚é¡¶ç‚¹ç€è‰²å™¨ç¨‹åºæ‰§è¡Œæ¯é¡¶ç‚¹å¤„ç†ï¼ŒåŒ…æ‹¬å°†é¡¶ç‚¹3Dä½ç½®å˜æ¢ä¸ºå±å¹•ä½ç½®å¹¶ç‚¹äº®é¡¶ç‚¹ä»¥ç¡®å®šå…¶é¢œè‰²ã€‚å‡ ä½•ç€è‰²å™¨ç¨‹åºæ‰§è¡Œæ¯ä¸ªåŸºå…ƒå¤„ç†ï¼Œå¹¶å¯ä»¥æ·»åŠ æˆ–åˆ é™¤åŸºå…ƒã€‚è®¾ç½®å’Œå…‰æ …åŒ–å™¨å•å…ƒç”Ÿæˆç”±å‡ ä½•å›¾å…ƒè¦†ç›–çš„åƒç´ ç‰‡æ®µï¼ˆç‰‡æ®µæ˜¯å¯¹åƒç´ çš„æ½œåœ¨è´¡çŒ®ï¼‰ã€‚åƒç´ ç€è‰²å™¨ç¨‹åºæ‰§è¡Œæ¯ç‰‡æ®µå¤„ç†ï¼ŒåŒ…æ‹¬å†…æ’æ¯ç‰‡æ®µå‚æ•°ï¼Œçº¹ç†å’Œç€è‰²ã€‚åƒç´ ç€è‰²å™¨ä½¿ç”¨æ’å€¼çš„æµ®ç‚¹åæ ‡ï¼Œå°†é‡‡æ ·å’Œæ»¤æ³¢æŸ¥æ‰¾å¹¿æ³›ç”¨äºŽç§°ä¸ºçº¹ç†çš„å¤§åž‹1Dï¼Œ2Dæˆ–3Dé˜µåˆ—ã€‚ç€è‰²å™¨ä½¿ç”¨çº¹ç†è®¿é—®åœ°å›¾ï¼Œå‡½æ•°ï¼Œè´´èŠ±ï¼Œå›¾åƒå’Œæ•°æ®ã€‚å…‰æ …æ“ä½œå¤„ç†ï¼ˆæˆ–è¾“å‡ºåˆå¹¶ï¼‰é˜¶æ®µæ‰§è¡ŒZç¼“å†²æ·±åº¦æµ‹è¯•å’Œæ¨¡æ¿æµ‹è¯•ï¼Œå®ƒå¯ä»¥ä¸¢å¼ƒéšè—çš„åƒç´ ç‰‡æ®µæˆ–ç”¨ç‰‡æ®µçš„æ·±åº¦æ›¿æ¢åƒç´ çš„æ·±åº¦ï¼Œæ‰§è¡Œå°†ç‰‡æ®µé¢œè‰²ä¸Žåƒç´ é¢œè‰²ç»„åˆåœ¨ä¸€èµ·çš„æ··åˆæ“ä½œï¼Œå¹¶å°†æ··åˆçš„é¢œè‰²å†™å…¥åƒç´ ã€‚ The graphics API and graphics pipeline provide input, output, memory objects, and infrastructure for the shader programs that process each vertex, primitive, and pixel fragment.å›¾å½¢APIå’Œå›¾å½¢ç®¡é“ä¸ºå¤„ç†æ¯ä¸ªé¡¶ç‚¹ï¼ŒåŸºå…ƒå’Œåƒç´ ç‰‡æ®µçš„ç€è‰²å™¨ç¨‹åºæä¾›è¾“å…¥ï¼Œè¾“å‡ºï¼Œå­˜å‚¨å™¨å¯¹è±¡å’ŒåŸºç¡€ç»“æž„ã€‚ texture: A 1D, 2D, or 3D array that supports sampled and filtered lookups with interpolated coordinates. æ”¯æŒå¸¦æ’å€¼åæ ‡çš„é‡‡æ ·å’Œæ»¤æ³¢æŸ¥æ‰¾çš„1Dï¼Œ2Dæˆ–3Dé˜µåˆ—ã€‚ Graphics Shader Programs å›¾å½¢ç€è‰²å™¨ç¨‹åºReal-time graphics applications use many diï¬€erent shader programs to model how light interacts with diï¬€erent materials and to render complex lighting and shadows. Shading languages are based on a dataï¬‚ow or streaming programming model that corresponds with the logical graphics pipeline. Vertex shader programs map the position of triangle vertices onto the screen, altering their position, color, or orientation. Typically a vertex shader thread inputs a ï¬‚oating-point (x, y, z, w) vertex position and computes a ï¬‚oating-point (x, y, z) screen position. Geometry shader programs operate on geometric primitives (such as lines and triangles) defined by multiple vertices, changing them or generating additional primitives. Pixel fragment shaders each â€œshadeâ€ one pixel, computing a ï¬‚oating-point red, green, blue, alpha (RGBA) color contribution to the rendered image at its pixel sample (x, y) image position. Shaders (and GPUs) use ï¬‚oating-point arithmetic for all pixel color calculations to eliminate visible artifacts while computing the extreme range of pixel contribution values encountered while rendering scenes with complex lighting, shadows, and high dynamic range. For all three types of graphics shaders, many program instances can be run in parallel, as independent parallel threads, because each works on independent data, produces independent results, and has no side effects. Independent vertices, primitives, and pixels further enable the same graphics program to run on diï¬€erently sized GPUs that process different numbers of vertices, primitives, and pixels in parallel. Graphics programs thus scale transparently to GPUs with different amounts of parallelism and performance. shader: A program that operates on graphics data such as a vertex or a pixel fragment. ä¸€ç§å¯¹å›¾å½¢æ•°æ®ï¼ˆå¦‚é¡¶ç‚¹æˆ–åƒç´ ç‰‡æ®µï¼‰è¿›è¡Œæ“ä½œçš„ç¨‹åºã€‚ shading language: A graphics rendering language, usually having a dataï¬‚ow or streaming programming model.ä¸€ç§å›¾å½¢æ¸²æŸ“è¯­è¨€ï¼Œé€šå¸¸å…·æœ‰æ•°æ®æµæˆ–æµç¼–ç¨‹æ¨¡åž‹ã€‚ Users program all three logical graphics threads with a common targeted highlevel language. HLSL (high-level shading language) and Cg (C for graphics) are commonly used. They have C-like syntax and a rich set of library functions for matrix operations, trigonometry, interpolation, and texture access and filtering, but are far from general computing languages: they currently lack general memory access, pointers, fle I/O, and recursion. HLSL and Cg assume that programs live within a logical graphics pipeline, and thus I/O is implicit. For example, a pixel fragment shader may expect the geometric normal and multiple texture coordinates to have been interpolated from vertex values by upstream fxed-function stages and can simply assign a value to the COLOR output parameter to pass it downstream to be blended with a pixel at an implied (x, y) position.ç”¨æˆ·ä½¿ç”¨å…±åŒçš„ç›®æ ‡é«˜çº§è¯­è¨€å¯¹æ‰€æœ‰ä¸‰ä¸ªé€»è¾‘å›¾å½¢çº¿ç¨‹è¿›è¡Œç¼–ç¨‹ã€‚ é€šå¸¸ä½¿ç”¨HLSLï¼ˆé«˜çº§ç€è‰²è¯­è¨€ï¼‰å’ŒCgï¼ˆå›¾å½¢ç”¨Cï¼‰ã€‚ å®ƒä»¬å…·æœ‰ç±»ä¼¼Cè¯­æ³•å’Œä¸°å¯Œçš„åº“å‡½æ•°ï¼Œç”¨äºŽçŸ©é˜µè¿ç®—ï¼Œä¸‰è§’å‡½æ•°ï¼Œæ’å€¼å’Œçº¹ç†è®¿é—®å’Œè¿‡æ»¤ï¼Œä½†è¿œä¸æ˜¯é€šç”¨è®¡ç®—è¯­è¨€ï¼šå®ƒä»¬ç›®å‰ç¼ºå°‘é€šç”¨å†…å­˜è®¿é—®ï¼ŒæŒ‡é’ˆï¼Œæ–‡ä»¶I / Oå’Œé€’å½’ã€‚ HLSLå’ŒCgå‡è®¾ç¨‹åºå­˜åœ¨äºŽé€»è¾‘å›¾å½¢ç®¡é“ä¸­ï¼Œå› æ­¤I / Oæ˜¯éšå«çš„ã€‚ ä¾‹å¦‚ï¼Œåƒç´ ç‰‡æ®µç€è‰²å™¨å¯ä»¥é¢„æœŸå‡ ä½•æ³•çº¿å’Œå¤šä¸ªçº¹ç†åæ ‡å·²ç»é€šè¿‡ä¸Šæ¸¸å›ºå®šåŠŸèƒ½é˜¶æ®µä»Žé¡¶ç‚¹å€¼æ’å€¼ï¼Œå¹¶ä¸”å¯ä»¥ç®€å•åœ°å°†å€¼åˆ†é…ç»™COLORè¾“å‡ºå‚æ•°ä»¥å°†å…¶ä¼ é€’åˆ°ä¸‹æ¸¸ä»¥ä¸Žåƒç´ æ··åˆã€‚ åœ¨éšå«çš„ï¼ˆxï¼Œyï¼‰ä½ç½®ã€‚The GPU hardware creates a new independent thread to execute a vertex, geometry, or pixel shader program for every vertex, every primitive, and every pixel fragment. In video games, the bulk of threads execute pixel shader programs, as there are typically 10 to 20 times or more pixel fragments than vertices, and complex lighting and shadows require even larger ratios of pixel to vertex shader threads. The graphics shader programming model drove the GPU architecture to effciently execute thousands of independent fne-grained threads on many parallel processor cores.GPUç¡¬ä»¶åˆ›å»ºä¸€ä¸ªæ–°çš„ç‹¬ç«‹çº¿ç¨‹ï¼Œä¸ºæ¯ä¸ªé¡¶ç‚¹ï¼Œæ¯ä¸ªåŸºå…ƒå’Œæ¯ä¸ªåƒç´ ç‰‡æ®µæ‰§è¡Œé¡¶ç‚¹ï¼Œå‡ ä½•æˆ–åƒç´ ç€è‰²å™¨ç¨‹åºã€‚ åœ¨è§†é¢‘æ¸¸æˆä¸­ï¼Œå¤§éƒ¨åˆ†çº¿ç¨‹æ‰§è¡Œåƒç´ ç€è‰²å™¨ç¨‹åºï¼Œå› ä¸ºé€šå¸¸å­˜åœ¨æ¯”é¡¶ç‚¹å¤š10åˆ°20å€æˆ–æ›´å¤šçš„åƒç´ ç‰‡æ®µï¼Œå¹¶ä¸”å¤æ‚çš„å…‰ç…§å’Œé˜´å½±éœ€è¦ç”šè‡³æ›´å¤§æ¯”ä¾‹çš„åƒç´ åˆ°é¡¶ç‚¹ç€è‰²å™¨çº¿ç¨‹ã€‚ å›¾å½¢ç€è‰²å™¨ç¼–ç¨‹æ¨¡åž‹æŽ¨åŠ¨GPUæž¶æž„åœ¨è®¸å¤šå¹¶è¡Œå¤„ç†å™¨å†…æ ¸ä¸Šæœ‰æ•ˆåœ°æ‰§è¡Œæ•°åƒä¸ªç‹¬ç«‹çš„ç»†ç²’åº¦çº¿ç¨‹ã€‚ Pixel Shader ExampleConsider the following Cg pixel shader program that implements the â€œenvironment mappingâ€ rendering technique. For each pixel thread, this shader is passed five parameters, including 2D ï¬‚oating-point texture image coordinates needed to sample the surface color, and a 3D ï¬‚oating-point vector giving the refection of the view direction off the surface. The other three â€œuniformâ€ parameters do not vary from one pixel instance (thread) to the next. The shader looks up color in two texture images: a 2D texture access for the surface color, and a 3D texture access into a cube map (six images corresponding to the faces of a cube) to obtain the external world color corresponding to the refection direction. Then the final four-component (red, green, blue, alpha) ï¬‚oating-point color is computed using a weighted average called a â€œlerpâ€ or linear interpolation function.è€ƒè™‘ä»¥ä¸‹Cgåƒç´ ç€è‰²å™¨ç¨‹åºï¼Œè¯¥ç¨‹åºå®žçŽ°â€œçŽ¯å¢ƒæ˜ å°„â€æ¸²æŸ“æŠ€æœ¯ã€‚ å¯¹äºŽæ¯ä¸ªåƒç´ çº¿ç¨‹ï¼Œè¯¥ç€è‰²å™¨ä¼ é€’äº”ä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬é‡‡æ ·è¡¨é¢é¢œè‰²æ‰€éœ€çš„2Dæµ®ç‚¹çº¹ç†å›¾åƒåæ ‡ï¼Œä»¥åŠ3Dæµ®ç‚¹çŸ¢é‡ï¼Œä»Žè€Œä½¿è§†å›¾æ–¹å‘åç¦»è¡¨é¢ã€‚ å…¶ä»–ä¸‰ä¸ªâ€œç»Ÿä¸€â€å‚æ•°ä¸ä¼šä»Žä¸€ä¸ªåƒç´ å®žä¾‹ï¼ˆçº¿ç¨‹ï¼‰åˆ°ä¸‹ä¸€ä¸ªåƒç´ å®žä¾‹ã€‚ ç€è‰²å™¨åœ¨ä¸¤ä¸ªçº¹ç†å›¾åƒä¸­æŸ¥æ‰¾é¢œè‰²ï¼šè¡¨é¢é¢œè‰²çš„2Dçº¹ç†è®¿é—®ï¼Œä»¥åŠç«‹æ–¹ä½“è´´å›¾ä¸­çš„3Dçº¹ç†è®¿é—®ï¼ˆå¯¹åº”äºŽç«‹æ–¹ä½“çš„é¢çš„å…­ä¸ªå›¾åƒï¼‰ï¼Œä»¥èŽ·å¾—ä¸Žåå°„æ–¹å‘å¯¹åº”çš„å¤–éƒ¨ä¸–ç•Œé¢œè‰²ã€‚ ç„¶åŽä½¿ç”¨ç§°ä¸ºâ€œlerpâ€æˆ–çº¿æ€§æ’å€¼å‡½æ•°çš„åŠ æƒå¹³å‡æ¥è®¡ç®—æœ€ç»ˆçš„å››åˆ†é‡ï¼ˆçº¢è‰²ï¼Œç»¿è‰²ï¼Œè“è‰²ï¼ŒÎ±ï¼‰æµ®ç‚¹é¢œè‰²ã€‚123456789101112131415void refection(float2 texCoord : TEXCOORD0,float3 refection_dir : TEXCOORD1,out float4 color : COLOR,uniform float shiny,uniform sampler2D surfaceMap,uniform samplerCUBE envMap)&#123;// Fetch the surface color from a texturefloat4 surfaceColor = tex2D(surfaceMap, texCoord);// Fetch reflected color by sampling a cube mapfloat4 reflectedColor = texCUBE(environmentMap, refection_dir);// Output is weighted average of the two colorscolor = lerp(surfaceColor, refectedColor, shiny);&#125; Although this shader program is only three lines long, it activates a lot of GPU hardware. For each texture fetch, the GPU texture subsystem makes multiple memory accesses to sample image colors in the vicinity of the sampling coordinates, and then interpolates the final result with ï¬‚oating-point fltering arithmetic. The multithreaded GPU executes thousands of these lightweight Cg pixel shader threads in parallel, deeply interleaving them to hide texture fetch and memory latency.è™½ç„¶è¿™ä¸ªç€è‰²å™¨ç¨‹åºåªæœ‰ä¸‰è¡Œï¼Œä½†å®ƒæ¿€æ´»äº†å¾ˆå¤šGPUç¡¬ä»¶ã€‚ å¯¹äºŽæ¯æ¬¡çº¹ç†æå–ï¼ŒGPUçº¹ç†å­ç³»ç»Ÿå¯¹é‡‡æ ·åæ ‡é™„è¿‘çš„é‡‡æ ·å›¾åƒé¢œè‰²è¿›è¡Œå¤šæ¬¡å­˜å‚¨å™¨è®¿é—®ï¼Œç„¶åŽä½¿ç”¨æµ®ç‚¹è¿ç®—ç®—æ³•å¯¹æœ€ç»ˆç»“æžœè¿›è¡Œæ’å€¼ã€‚ å¤šçº¿ç¨‹GPUå¹¶è¡Œæ‰§è¡Œæ•°åƒä¸ªè¿™äº›è½»é‡çº§Cgåƒç´ ç€è‰²å™¨çº¿ç¨‹ï¼Œæ·±åº¦äº¤é”™ä»¥éšè—çº¹ç†èŽ·å–å’Œå†…å­˜å»¶è¿Ÿã€‚Cg focuses the programmerâ€™s view to a single vertex or primitive or pixel, which the GPU implements as a single thread; the shader program transparently scales to exploit thread parallelism on the available processors. Being applicationspecifc, Cg provides a rich set of useful data types, library functions, and language constructs to express diverse rendering techniques.Cgå°†ç¨‹åºå‘˜çš„è§†å›¾èšç„¦åˆ°å•ä¸ªé¡¶ç‚¹æˆ–åŸºå…ƒæˆ–åƒç´ ï¼ŒGPUå°†å…¶å®žçŽ°ä¸ºå•ä¸ªçº¿ç¨‹; ç€è‰²å™¨ç¨‹åºé€æ˜Žåœ°æ‰©å±•ä»¥åˆ©ç”¨å¯ç”¨å¤„ç†å™¨ä¸Šçš„çº¿ç¨‹å¹¶è¡Œæ€§ã€‚ ä½œä¸ºåº”ç”¨ç¨‹åºè§„èŒƒï¼ŒCgæä¾›äº†ä¸°å¯Œçš„æœ‰ç”¨æ•°æ®ç±»åž‹ï¼Œåº“å‡½æ•°å’Œè¯­è¨€ç»“æž„ï¼Œä»¥è¡¨è¾¾å„ç§å‘ˆçŽ°æŠ€æœ¯ã€‚Figure C.3.2 shows skin rendered by a fragment pixel shader. Real skin appears quite different from ï¬‚esh-color paint because light bounces around a lot before re-emerging. In this complex shader, three separate skin layers, each with unique subsurface scattering behavior, are modeled to give the skin a visual depth and translucency. Scattering can be modeled by a blurring convolution in a fattened â€œtextureâ€ space, with red being blurred more than green, and blue blurred less. The compiled Cg shader executes 1400 instructions to compute the color of one skin pixel.å›¾C.3.2æ˜¾ç¤ºäº†ç”±ç‰‡æ®µåƒç´ ç€è‰²å™¨æ¸²æŸ“çš„å¤–è§‚ã€‚ çœŸæ­£çš„çš®è‚¤çœ‹èµ·æ¥ä¸Žç²‰çº¢è‰²æ¶‚æ–™å®Œå…¨ä¸åŒï¼Œå› ä¸ºåœ¨é‡æ–°å‡ºçŽ°ä¹‹å‰ï¼Œå…‰çº¿ä¼šåœ¨å¾ˆå¤šåœ°æ–¹åå¼¹ã€‚ åœ¨è¿™ä¸ªå¤æ‚çš„ç€è‰²å™¨ä¸­ï¼Œä¸‰ä¸ªç‹¬ç«‹çš„çš®è‚¤å±‚ï¼ˆæ¯ä¸ªéƒ½å…·æœ‰ç‹¬ç‰¹çš„æ¬¡è¡¨é¢æ•£å°„è¡Œä¸ºï¼‰è¢«å»ºæ¨¡ï¼Œä»¥èµ‹äºˆçš®è‚¤è§†è§‰æ·±åº¦å’ŒåŠé€æ˜Žåº¦ã€‚ æ•£å°„å¯ä»¥é€šè¿‡åœ¨è‚¥èƒ–çš„â€œçº¹ç†â€ç©ºé—´ä¸­çš„æ¨¡ç³Šå·ç§¯æ¥å»ºæ¨¡ï¼Œå…¶ä¸­çº¢è‰²æ¯”ç»¿è‰²æ›´æ¨¡ç³Šï¼Œè€Œè“è‰²æ¨¡ç³Šå¾—æ›´å°‘ã€‚ ç¼–è¯‘çš„Cgç€è‰²å™¨æ‰§è¡Œ1400æ¡æŒ‡ä»¤ä»¥è®¡ç®—ä¸€ä¸ªçš®è‚¤åƒç´ çš„é¢œè‰²ã€‚ As GPUs have evolved superior ï¬‚oating-point performance and very high streaming memory bandwidth for real-time graphics, they have attracted highly parallel applications beyond traditional graphics. At frst, access to this power was available only by couching an application as a graphics-rendering algorithm, but this GPGPU approach was ofen awkward and limiting. More recently, the CUDA programming model has provided a far easier way to exploit the scalable high-performance ï¬‚oating-point and memory bandwidth of GPUs with the C programming language.ç”±äºŽGPUå·²ç»ä¸ºå®žæ—¶å›¾å½¢æä¾›äº†å‡ºè‰²çš„æµ®ç‚¹æ€§èƒ½å’Œéžå¸¸é«˜çš„æµå­˜å‚¨å™¨å¸¦å®½ï¼Œå› æ­¤å®ƒä»¬å¸å¼•äº†è¶…è¶Šä¼ ç»Ÿå›¾å½¢çš„é«˜åº¦å¹¶è¡Œåº”ç”¨ã€‚ é¦–å…ˆï¼Œåªæœ‰é€šè¿‡å°†åº”ç”¨ç¨‹åºä½œä¸ºå›¾å½¢æ¸²æŸ“ç®—æ³•è¿›è¡Œè®¿é—®æ‰èƒ½èŽ·å¾—è¿™ç§åŠŸèƒ½ï¼Œä½†æ˜¯è¿™ç§GPGPUæ–¹æ³•éžå¸¸ç¬¨æ‹™ä¸”æœ‰é™ã€‚ æœ€è¿‘ï¼ŒCUDAç¼–ç¨‹æ¨¡åž‹æä¾›äº†ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œå¯ä»¥åˆ©ç”¨Cç¼–ç¨‹è¯­è¨€åˆ©ç”¨GPUçš„å¯æ‰©å±•é«˜æ€§èƒ½æµ®ç‚¹å’Œå­˜å‚¨å™¨å¸¦å®½ã€‚ Programming Parallel Computing ApplicationsCUDA, Brook, and CAL are programming interfaces for GPUs that are focused on data parallel computation rather than on graphics. CAL (Compute Abstraction Layer) is a low-level assembler language interface for AMD GPUs. Brook is a streaming language adapted for GPUs by Buck et al. [2004]. CUDA, developed by NVIDIA [2007], is an extension to the C and C++ languages for scalable parallel programming of manycore GPUs and multicore CPUs. The CUDA programming model is described below, adapted from an article by Nickolls et al.[2008].CUDAï¼ŒBrookå’ŒCALæ˜¯GPUçš„ç¼–ç¨‹æŽ¥å£ï¼Œä¸“æ³¨äºŽæ•°æ®å¹¶è¡Œè®¡ç®—è€Œéžå›¾å½¢ã€‚ CALï¼ˆCompute Abstraction Layerï¼‰æ˜¯AMD GPUçš„ä½Žçº§æ±‡ç¼–è¯­è¨€æŽ¥å£ã€‚ Brookæ˜¯ä¸€ç§é€‚ç”¨äºŽGPUç­‰GPUçš„æµåª’ä½“è¯­è¨€ã€‚[2004å¹´]ã€‚ ç”±NVIDIA [2007]å¼€å‘çš„CUDAæ˜¯Cå’ŒC ++è¯­è¨€çš„æ‰©å±•ï¼Œç”¨äºŽå¤šæ ¸GPUå’Œå¤šæ ¸CPUçš„å¯æ‰©å±•å¹¶è¡Œç¼–ç¨‹ã€‚ ä¸‹é¢æè¿°äº†CUDAç¼–ç¨‹æ¨¡åž‹ï¼Œæ”¹ç¼–è‡ªNickollsç­‰äºº[2008]çš„æ–‡ç« ã€‚ With the new model the GPU excels in data parallel and throughput computing, executing high performance computing applications as well as graphics applications.å‡­å€Ÿæ–°åž‹å·ï¼ŒGPUæ“…é•¿æ•°æ®å¹¶è¡Œå’Œåžåé‡è®¡ç®—ï¼Œæ‰§è¡Œé«˜æ€§èƒ½è®¡ç®—åº”ç”¨ç¨‹åºä»¥åŠå›¾å½¢åº”ç”¨ç¨‹åºã€‚ Data Parallel Problem Decomposition æ•°æ®å¹¶è¡Œé—®é¢˜åˆ†è§£To map large computing problems effectively to a highly parallel processing architecture, the programmer or compiler decomposes the problem into many small problems that can be solved in parallel. For example, the programmer partitions a large result data array into blocks and further partitions each block into elements, such that the result blocks can be computed independently in parallel, and the elements within each block are computed in parallel. Figure C.3.3 shows a decomposition of a result data array into a 3 x 2 grid of blocks, where each block is further decomposed into a 5 x 3 array of elements. Te two-level parallel decomposition maps naturally to the GPU architecture: parallel multiprocessors compute result blocks, and parallel threads compute result elements.ä¸ºäº†å°†å¤§åž‹è®¡ç®—é—®é¢˜æœ‰æ•ˆåœ°æ˜ å°„åˆ°é«˜åº¦å¹¶è¡Œçš„å¤„ç†æž¶æž„ï¼Œç¨‹åºå‘˜æˆ–ç¼–è¯‘å™¨å°†é—®é¢˜åˆ†è§£ä¸ºè®¸å¤šå¯ä»¥å¹¶è¡Œè§£å†³çš„å°é—®é¢˜ã€‚ ä¾‹å¦‚ï¼Œç¨‹åºå‘˜å°†å¤§ç»“æžœæ•°æ®é˜µåˆ—åˆ†æˆå—å¹¶è¿›ä¸€æ­¥å°†æ¯ä¸ªå—åˆ†æˆå…ƒç´ ï¼Œä½¿å¾—ç»“æžœå—å¯ä»¥ç‹¬ç«‹åœ°å¹¶è¡Œè®¡ç®—ï¼Œå¹¶ä¸”æ¯ä¸ªå—å†…çš„å…ƒç´ æ˜¯å¹¶è¡Œè®¡ç®—çš„ã€‚ å›¾C.3.3æ˜¾ç¤ºäº†å°†ç»“æžœæ•°æ®é˜µåˆ—åˆ†è§£ä¸º3Ã—2çš„å—ç½‘æ ¼ï¼Œå…¶ä¸­æ¯ä¸ªå—è¿›ä¸€æ­¥åˆ†è§£ä¸º5Ã—3çš„å…ƒç´ é˜µåˆ—ã€‚ ä¸¤çº§å¹¶è¡Œåˆ†è§£è‡ªç„¶åœ°æ˜ å°„åˆ°GPUæž¶æž„ï¼šå¹¶è¡Œå¤šå¤„ç†å™¨è®¡ç®—ç»“æžœå—ï¼Œå¹¶è¡Œçº¿ç¨‹è®¡ç®—ç»“æžœå…ƒç´ ã€‚ The programmer writes a program that computes a sequence of result data grids, partitioning each result grid into coarse-grained result blocks that can be computed independently in parallel. The program computes each result block withan array of fine-grained parallel threads, partitioning the work among threads so that each computes one or more result elements.ç¨‹åºå‘˜ç¼–å†™ä¸€ä¸ªç¨‹åºæ¥è®¡ç®—ç»“æžœæ•°æ®ç½‘æ ¼åºåˆ—ï¼Œå°†æ¯ä¸ªç»“æžœç½‘æ ¼åˆ’åˆ†ä¸ºå¯ä»¥å¹¶è¡Œç‹¬ç«‹è®¡ç®—çš„ç²—ç²’åº¦ç»“æžœå—ã€‚ ç¨‹åºä½¿ç”¨ç»†ç²’åº¦å¹¶è¡Œçº¿ç¨‹æ•°ç»„è®¡ç®—æ¯ä¸ªç»“æžœå—ï¼Œåœ¨çº¿ç¨‹ä¹‹é—´å¯¹å·¥ä½œè¿›è¡Œåˆ†åŒºï¼Œä»¥ä¾¿æ¯ä¸ªéƒ½è®¡ç®—ä¸€ä¸ªæˆ–å¤šä¸ªç»“æžœå…ƒç´ ã€‚ Scalable Parallel Programming with CUDA ä½¿ç”¨CUDAè¿›è¡Œå¯æ‰©å±•çš„å¹¶è¡Œç¼–ç¨‹The CUDA scalable parallel programming model extends the C and C++ languages to exploit large degrees of parallelism for general applications on highly parallel multiprocessors, particularly GPUs. Early experience with CUDA shows that many sophisticated programs can be readily expressed with a few easily understood abstractions. Since NVIDIA released CUDA in 2007, developers have rapidly developed scalable parallel programs for a wide range of applications, including seismic data processing, computational chemistry, linear algebra, sparse matrix solvers, sorting, searching, physics models, and visual computing. These applications scale transparently to hundreds of processor cores and thousands of concurrent threads. NVIDIA GPUs with the Tesla unifed graphics and computing architecture (described in Sections C.4 and C.7) run CUDA C programs, and are widely available in laptops, PCs, workstations, and servers. The CUDA model is also applicable to other shared memory parallel processing architectures, including multicore CPUs.CUDAå¯æ‰©å±•å¹¶è¡Œç¼–ç¨‹æ¨¡åž‹æ‰©å±•äº†Cå’ŒC ++è¯­è¨€ï¼Œä»¥ä¾¿åœ¨é«˜åº¦å¹¶è¡Œçš„å¤šå¤„ç†å™¨ï¼ˆå°¤å…¶æ˜¯GPUï¼‰ä¸Šä¸ºä¸€èˆ¬åº”ç”¨ç¨‹åºåˆ©ç”¨å¤§ç¨‹åº¦çš„å¹¶è¡Œæ€§ã€‚æ—©æœŸä½¿ç”¨CUDAçš„ç»éªŒè¡¨æ˜Žï¼Œè®¸å¤šå¤æ‚çš„ç¨‹åºå¯ä»¥é€šè¿‡ä¸€äº›æ˜“äºŽç†è§£çš„æŠ½è±¡æ¥è¡¨è¾¾ã€‚è‡ªNVIDIAäºŽ2007å¹´å‘å¸ƒCUDAä»¥æ¥ï¼Œå¼€å‘äººå‘˜å·²è¿…é€Ÿå¼€å‘å‡ºå¯æ‰©å±•çš„å¹¶è¡Œç¨‹åºï¼Œé€‚ç”¨äºŽå„ç§åº”ç”¨ï¼ŒåŒ…æ‹¬åœ°éœ‡æ•°æ®å¤„ç†ï¼Œè®¡ç®—åŒ–å­¦ï¼Œçº¿æ€§ä»£æ•°ï¼Œç¨€ç–çŸ©é˜µæ±‚è§£å™¨ï¼ŒæŽ’åºï¼Œæœç´¢ï¼Œç‰©ç†æ¨¡åž‹å’Œè§†è§‰è®¡ç®—ã€‚è¿™äº›åº”ç”¨ç¨‹åºé€æ˜Žåœ°æ‰©å±•åˆ°æ•°ç™¾ä¸ªå¤„ç†å™¨æ ¸å¿ƒå’Œæ•°åƒä¸ªå¹¶å‘çº¿ç¨‹ã€‚é‡‡ç”¨Teslaç»Ÿä¸€å›¾å½¢å’Œè®¡ç®—æž¶æž„çš„NVIDIA GPUï¼ˆåœ¨C.4å’ŒC.7èŠ‚ä¸­æè¿°ï¼‰è¿è¡ŒCUDA Cç¨‹åºï¼Œå¹¶å¹¿æ³›ç”¨äºŽç¬”è®°æœ¬ç”µè„‘ï¼ŒPCï¼Œå·¥ä½œç«™å’ŒæœåŠ¡å™¨ã€‚ CUDAæ¨¡åž‹ä¹Ÿé€‚ç”¨äºŽå…¶ä»–å…±äº«å†…å­˜å¹¶è¡Œå¤„ç†ä½“ç³»ç»“æž„ï¼ŒåŒ…æ‹¬å¤šæ ¸CPUã€‚CUDA provides three key abstractions-a hierarchy of thread groups, shared memories, and barrier synchronizationâ€”that provide a clear parallel structure to conventional C code for one thread of the hierarchy. Multiple levels of threads, memory, and synchronization provide fine-grained data parallelism and thread parallelism, nested within coarse-grained data parallelism and task parallelism. The abstractions guide the programmer to partition the problem into coarse subproblems that can be solved independently in parallel, and then into fner pieces that can be solved in parallel. The programming model scales transparently to large numbers of processor cores: a compiled CUDA program executes on any number of processors, and only the runtime system needs to know the physical processor count.CUDAæä¾›ä¸‰ä¸ªå…³é”®çš„æŠ½è±¡ - çº¿ç¨‹ç»„ï¼Œå…±äº«å­˜å‚¨å™¨å’Œå±éšœåŒæ­¥çš„å±‚æ¬¡ç»“æž„ - ä¸ºå±‚æ¬¡ç»“æž„çš„ä¸€ä¸ªçº¿ç¨‹æä¾›ä¸Žä¼ ç»ŸCä»£ç çš„æ¸…æ™°å¹¶è¡Œç»“æž„ã€‚ å¤šçº§çº¿ç¨‹ï¼Œå†…å­˜å’ŒåŒæ­¥æä¾›ç»†ç²’åº¦æ•°æ®å¹¶è¡Œå’Œçº¿ç¨‹å¹¶è¡Œï¼ŒåµŒå¥—åœ¨ç²—ç²’åº¦æ•°æ®å¹¶è¡Œå’Œä»»åŠ¡å¹¶è¡Œä¸­ã€‚ æŠ½è±¡æŒ‡å¯¼ç¨‹åºå‘˜å°†é—®é¢˜åˆ’åˆ†ä¸ºç²—ç•¥çš„å­é—®é¢˜ï¼Œè¿™äº›å­é—®é¢˜å¯ä»¥å¹¶è¡Œç‹¬ç«‹è§£å†³ï¼Œç„¶åŽåˆ†æˆå¯ä»¥å¹¶è¡Œæ±‚è§£çš„æ›´å¤šéƒ¨åˆ†ã€‚ ç¼–ç¨‹æ¨¡åž‹é€æ˜Žåœ°æ‰©å±•åˆ°å¤§é‡å¤„ç†å™¨å†…æ ¸ï¼šç¼–è¯‘çš„CUDAç¨‹åºåœ¨ä»»æ„æ•°é‡çš„å¤„ç†å™¨ä¸Šæ‰§è¡Œï¼Œåªæœ‰è¿è¡Œæ—¶ç³»ç»Ÿéœ€è¦çŸ¥é“ç‰©ç†å¤„ç†å™¨æ•°é‡ã€‚ The CUDA Paradigm CUDAèŒƒå¼CUDA is a minimal extension of the C and C++ programming languages. The programmer writes a serial program that calls parallel kernels, which may be simple functions or full programs. A kernel executes in parallel across a set of parallel threads. The programmer organizes these threads into a hierarchy of thread blocks and grids of thread blocks. A thread block is a set of concurrent threads that can cooperate among themselves through barrier synchronization and through shared access to a memory space private to the block. A grid is a set of thread blocks that may each be executed independently and thus may execute in parallel.CUDAæ˜¯Cå’ŒC ++ç¼–ç¨‹è¯­è¨€çš„æœ€å°æ‰©å±•ã€‚ ç¨‹åºå‘˜ç¼–å†™ä¸€ä¸ªè°ƒç”¨å¹¶è¡Œå†…æ ¸çš„ä¸²è¡Œç¨‹åºï¼Œå¯ä»¥æ˜¯ç®€å•çš„å‡½æ•°æˆ–å®Œæ•´çš„ç¨‹åºã€‚ å†…æ ¸è·¨ä¸€ç»„å¹¶è¡Œçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚ ç¨‹åºå‘˜å°†è¿™äº›çº¿ç¨‹ç»„ç»‡æˆçº¿ç¨‹å—å’Œçº¿ç¨‹å—ç½‘æ ¼çš„å±‚æ¬¡ç»“æž„ã€‚ çº¿ç¨‹å—æ˜¯ä¸€ç»„å¹¶å‘çº¿ç¨‹ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡å±éšœåŒæ­¥å’Œé€šè¿‡å¯¹å—ä¸“ç”¨çš„å†…å­˜ç©ºé—´çš„å…±äº«è®¿é—®æ¥ç›¸äº’åä½œã€‚ ç½‘æ ¼æ˜¯ä¸€ç»„çº¿ç¨‹å—ï¼Œæ¯ä¸ªçº¿ç¨‹å—å¯ä»¥ç‹¬ç«‹æ‰§è¡Œï¼Œå› æ­¤å¯ä»¥å¹¶è¡Œæ‰§è¡Œã€‚ kernel: A program or function for one thread, designed to be executed by many threads.ä¸€ä¸ªç¨‹åºæˆ–å‡½æ•°ï¼Œç”¨äºŽä¸€ä¸ªçº¿ç¨‹ï¼Œæ—¨åœ¨ç”±è®¸å¤šçº¿ç¨‹æ‰§è¡Œã€‚ thread block: A set of concurrent threads that execute the same thread program and may cooperate to compute a result.ä¸€ç»„å¹¶å‘çº¿ç¨‹ï¼Œå®ƒä»¬æ‰§è¡Œç›¸åŒçš„çº¿ç¨‹ç¨‹åºå¹¶å¯ä»¥åä½œè®¡ç®—ç»“æžœã€‚ grid: A set of thread blocks that execute the same kernel program ä¸€ç»„æ‰§è¡Œç›¸åŒå†…æ ¸ç¨‹åºçš„çº¿ç¨‹å— When invoking a kernel, the programmer specifes the number of threads per block and the number of blocks comprising the grid. Each thread is given a unique thread ID number threadIdx within its thread block, numbered 0, 1, 2, â€¦, blockDim-1, and each thread block is given a unique block ID number blockIdx within its grid. CUDA supports thread blocks containing up to 512 threads. For convenience, thread blocks and grids may have 1, 2, or 3 dimensions, accessed via .x, .y, and .z index fields.åœ¨è°ƒç”¨å†…æ ¸æ—¶ï¼Œç¨‹åºå‘˜æŒ‡å®šæ¯ä¸ªå—çš„çº¿ç¨‹æ•°å’Œæž„æˆç½‘æ ¼çš„å—æ•°ã€‚ æ¯ä¸ªçº¿ç¨‹åœ¨å…¶çº¿ç¨‹å—å†…è¢«èµ‹äºˆå”¯ä¸€çš„çº¿ç¨‹IDå·threadIdxï¼Œç¼–å·ä¸º0,1,2ï¼Œâ€¦ï¼ŒblockDim-1ï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹å—åœ¨å…¶ç½‘æ ¼å†…è¢«èµ‹äºˆå”¯ä¸€çš„å—IDå·blockIdxã€‚ CUDAæ”¯æŒåŒ…å«å¤šè¾¾512ä¸ªçº¿ç¨‹çš„çº¿ç¨‹å—ã€‚ ä¸ºæ–¹ä¾¿èµ·è§ï¼Œçº¿ç¨‹å—å’Œç½‘æ ¼å¯ä»¥æœ‰1,2æˆ–3ä¸ªç»´åº¦ï¼Œå¯é€šè¿‡.xï¼Œ.yå’Œ.zç´¢å¼•å­—æ®µè®¿é—®ã€‚ As a very simple example of parallel programming, suppose that we are given two vectors x and y of n ï¬‚oating-point numbers each and that we wish to compute the result of y = ax + y for some scalar value a. This is the so-called SAXPY kernel defined by the BLAS linear algebra library. Figure C.3.4 shows C code for performing this computation on both a serial processor and in parallel using CUDA.ä½œä¸ºå¹¶è¡Œç¼–ç¨‹çš„ä¸€ä¸ªéžå¸¸ç®€å•çš„ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬ç»™å‡ºäº†ä¸¤ä¸ªå‘é‡xå’Œyçš„nä¸ªæµ®ç‚¹æ•°ï¼Œå¹¶ä¸”æˆ‘ä»¬å¸Œæœ›è®¡ç®—æŸäº›æ ‡é‡å€¼açš„y = ax + yçš„ç»“æžœã€‚ è¿™æ˜¯ç”±BLASçº¿æ€§ä»£æ•°åº“å®šä¹‰çš„æ‰€è°“çš„SAXPYå†…æ ¸ã€‚ å›¾C.3.4æ˜¾ç¤ºäº†ä½¿ç”¨CUDAåœ¨ä¸²è¡Œå¤„ç†å™¨å’Œå¹¶è¡Œä¸Šæ‰§è¡Œæ­¤è®¡ç®—çš„Cä»£ç ã€‚ The __global__ declaration specifer indicates that the procedure is a kernelentry point. CUDA programs launch parallel kernels with the extended functioncall syntax:__global__å£°æ˜Žè¯´æ˜Žç¬¦è¡¨æ˜Žè¯¥è¿‡ç¨‹æ˜¯ä¸€ä¸ªå†…æ ¸å…¥å£ç‚¹ã€‚ CUDAç¨‹åºä½¿ç”¨æ‰©å±•åŠŸèƒ½å¯åŠ¨å¹¶è¡Œå†…æ ¸è°ƒç”¨è¯­æ³•ï¼š 1kernel&lt;&lt;&lt;dimGrid, dimBlock&gt;&gt;&gt;(... parameter list ...); where dimGrid and dimBlock are three-element vectors of type dim3 that specify the dimensions of the grid in blocks and the dimensions of the blocks in threads, respectively. Unspecifed dimensions default to one.å…¶ä¸­dimGridå’ŒdimBlockæ˜¯dim3ç±»åž‹çš„ä¸‰å…ƒç´ å‘é‡ï¼Œåˆ†åˆ«æŒ‡å®šå—ä¸­ç½‘æ ¼çš„å°ºå¯¸å’Œçº¿ç¨‹ä¸­å—çš„å°ºå¯¸ã€‚ æœªæŒ‡å®šçš„ç»´åº¦é»˜è®¤ä¸º1ã€‚ In Figure C.3.4, we launch a grid of n threads that assigns one thread to each element of the vectors and puts 256 threads in each block. Each individual thread computes an element index from its thread and block IDs and then performs the desired calculation on the corresponding vector elements. Comparing the serial and parallel versions of this code, we see that they are strikingly similar. This represents a fairly common pattern. Te serial code consists of a loop where each iteration is independent of all the others. Such loops can be mechanically transformed into parallel kernels: each loop iteration becomes an independent thread. By assigning a single thread to each output element, we avoid the need for any synchronization among threads when writing results to memory.åœ¨å›¾C.3.4ä¸­ï¼Œæˆ‘ä»¬å¯åŠ¨äº†ä¸€ä¸ªåŒ…å«nä¸ªçº¿ç¨‹çš„ç½‘æ ¼ï¼Œå®ƒä¸ºä¸€ä¸ªå‘é‡çš„æ¯ä¸ªå…ƒç´ åˆ†é…ä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶åœ¨æ¯ä¸ªå—ä¸­æ”¾å…¥256ä¸ªçº¿ç¨‹ã€‚æ¯ä¸ªå•ç‹¬çš„çº¿ç¨‹ä»Žå…¶çº¿ç¨‹å’Œå—IDè®¡ç®—å…ƒç´ ç´¢å¼•ï¼Œç„¶åŽå¯¹ç›¸åº”çš„å‘é‡å…ƒç´ æ‰§è¡Œæ‰€éœ€çš„è®¡ç®—ã€‚æ¯”è¾ƒæ­¤ä»£ç çš„ä¸²è¡Œå’Œå¹¶è¡Œç‰ˆæœ¬ï¼Œæˆ‘ä»¬å‘çŽ°å®ƒä»¬éžå¸¸ç›¸ä¼¼ã€‚è¿™ä»£è¡¨äº†ä¸€ç§ç›¸å½“æ™®éçš„æ¨¡å¼ã€‚ Teåºåˆ—ä»£ç ç”±ä¸€ä¸ªå¾ªçŽ¯ç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªè¿­ä»£ç‹¬ç«‹äºŽæ‰€æœ‰å…¶ä»–è¿­ä»£ã€‚è¿™æ ·çš„å¾ªçŽ¯å¯ä»¥æœºæ¢°åœ°è½¬æ¢ä¸ºå¹¶è¡Œå†…æ ¸ï¼šæ¯ä¸ªå¾ªçŽ¯è¿­ä»£æˆä¸ºä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ã€‚é€šè¿‡ä¸ºæ¯ä¸ªè¾“å‡ºå…ƒç´ åˆ†é…å•ä¸ªçº¿ç¨‹ï¼Œæˆ‘ä»¬é¿å…äº†åœ¨å°†ç»“æžœå†™å…¥å†…å­˜æ—¶çº¿ç¨‹ä¹‹é—´çš„ä»»ä½•åŒæ­¥ã€‚ The text of a CUDA kernel is simply a C function for one sequential thread. Thus, it is generally straightforward to write and is typically simpler than writing parallel code for vector operations. Parallelism is determined clearly and explicitly by specifying the dimensions of a grid and its thread blocks when launching a kernel. CUDAå†…æ ¸çš„æ–‡æœ¬åªæ˜¯ä¸€ä¸ªé¡ºåºçº¿ç¨‹çš„Cå‡½æ•°ã€‚å› æ­¤ï¼Œç¼–å†™é€šå¸¸å¾ˆç®€å•ï¼Œå¹¶ä¸”é€šå¸¸æ¯”ä¸ºå‘é‡æ“ä½œç¼–å†™å¹¶è¡Œä»£ç æ›´ç®€å•ã€‚é€šè¿‡åœ¨å¯åŠ¨å†…æ ¸æ—¶æŒ‡å®šç½‘æ ¼åŠå…¶çº¿ç¨‹å—çš„å°ºå¯¸ï¼Œå¯ä»¥æ¸…æ¥šæ˜Žç¡®åœ°ç¡®å®šå¹¶è¡Œæ€§ã€‚ Parallel execution and thread management is automatic. All thread creation, scheduling, and termination is handled for the programmer by the underlying system. Indeed, a Tesla architecture GPU performs all thread management directly in hardware. The threads of a block execute concurrently and may synchronize at a synchronization barrier by calling the __syncthreads() intrinsic. This guarantees that no thread in the block can proceed until all threads in the block have reached the barrier. Afer passing the barrier, these threads are also guaranteed to see all writes to memory performed by threads in the block before the barrier. Thus, threads in a block may communicate with each other by writing and reading per-block shared memory at a synchronization barrier.å¹¶è¡Œæ‰§è¡Œå’Œçº¿ç¨‹ç®¡ç†æ˜¯è‡ªåŠ¨çš„ã€‚ æ‰€æœ‰çº¿ç¨‹åˆ›å»ºï¼Œè°ƒåº¦å’Œç»ˆæ­¢éƒ½ç”±åº•å±‚ç³»ç»Ÿä¸ºç¨‹åºå‘˜å¤„ç†ã€‚ å®žé™…ä¸Šï¼ŒTeslaæž¶æž„GPUç›´æŽ¥åœ¨ç¡¬ä»¶ä¸­æ‰§è¡Œæ‰€æœ‰çº¿ç¨‹ç®¡ç†ã€‚ å—çš„çº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡è°ƒç”¨__syncthreadsï¼ˆï¼‰å†…åœ¨å‡½æ•°åœ¨åŒæ­¥å±éšœä¸ŠåŒæ­¥ã€‚ è¿™ä¿è¯äº†å—ä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾å±éšœä¹‹å‰å—ä¸­çš„ä»»ä½•çº¿ç¨‹éƒ½ä¸èƒ½ç»§ç»­ã€‚ åœ¨é€šè¿‡å±éšœåŽï¼Œè¿™äº›çº¿ç¨‹ä¹Ÿå¯ä»¥ä¿è¯åœ¨å±éšœä¹‹å‰çœ‹åˆ°å—ä¸­çº¿ç¨‹æ‰§è¡Œçš„æ‰€æœ‰å†…å­˜å†™å…¥ã€‚å› æ­¤ï¼Œå—ä¸­çš„çº¿ç¨‹å¯ä»¥é€šè¿‡åœ¨åŒæ­¥å±éšœå¤„å†™å…¥å’Œè¯»å–æ¯å—å…±äº«å­˜å‚¨å™¨æ¥å½¼æ­¤é€šä¿¡ã€‚ synchronization barrier: Threads wait at a synchronization barrier until all threads in the thread block arrive at the barrier. çº¿ç¨‹åœ¨åŒæ­¥éšœç¢å¤„ç­‰å¾…ï¼Œç›´åˆ°çº¿ç¨‹å—ä¸­çš„æ‰€æœ‰çº¿ç¨‹åˆ°è¾¾å±éšœã€‚ Since threads in a block may share memory and synchronize via barriers, they will reside together on the same physical processor or multiprocessor. The number of thread blocks can, however, greatly exceed the number of processors. The CUDA thread programming model virtualizes the processors and gives the programmer the ï¬‚exibility to parallelize at whatever granularity is most convenient. Virtualization into threads and thread blocks allows intuitive problem decompositions, as the number of blocks can be dictated by the size of the data being processed rather than by the number of processors in the system. It also allows the same CUDA program to scale to widely varying numbers of processor cores.ç”±äºŽå—ä¸­çš„çº¿ç¨‹å¯ä»¥å…±äº«å†…å­˜å¹¶é€šè¿‡éšœç¢è¿›è¡ŒåŒæ­¥ï¼Œå› æ­¤å®ƒä»¬å°†ä¸€èµ·é©»ç•™åœ¨åŒä¸€ç‰©ç†å¤„ç†å™¨æˆ–å¤šå¤„ç†å™¨ä¸Šã€‚ ä½†æ˜¯ï¼Œçº¿ç¨‹å—çš„æ•°é‡å¯ä»¥å¤§å¤§è¶…è¿‡å¤„ç†å™¨çš„æ•°é‡ã€‚ CUDAçº¿ç¨‹ç¼–ç¨‹æ¨¡åž‹è™šæ‹ŸåŒ–å¤„ç†å™¨ï¼Œå¹¶ä½¿ç¨‹åºå‘˜èƒ½å¤Ÿçµæ´»åœ°ä»¥æœ€æ–¹ä¾¿çš„ç²’åº¦è¿›è¡Œå¹¶è¡ŒåŒ–ã€‚ è™šæ‹ŸåŒ–åˆ°çº¿ç¨‹å’Œçº¿ç¨‹å—å…è®¸ç›´è§‚çš„é—®é¢˜åˆ†è§£ï¼Œå› ä¸ºå—çš„æ•°é‡å¯ä»¥ç”±æ­£åœ¨å¤„ç†çš„æ•°æ®çš„å¤§å°è€Œä¸æ˜¯ç”±ç³»ç»Ÿä¸­çš„å¤„ç†å™¨çš„æ•°é‡å†³å®šã€‚ å®ƒè¿˜å…è®¸ç›¸åŒçš„CUDAç¨‹åºæ‰©å±•åˆ°å„ç§æ•°é‡çš„å¤„ç†å™¨å†…æ ¸ã€‚ To manage this processing element virtualization and provide scalability, CUDA requires that thread blocks be able to execute independently. It must be possible to execute blocks in any order, in parallel or in series. Different blocks have no means of direct communication, although they may coordinate their activities using atomic memory operations on the global memory visible to all threadsâ€”by atomically incrementing queue pointers, for example. This independence requirement allows thread blocks to be scheduled in any order across any number of cores, making the CUDA model scalable across an arbitrary number of cores as well as across a variety of parallel architectures. It also helps to avoid the possibility of deadlock. An application may execute multiple grids either independently or dependently. Independent grids may execute concurrently, given sufcient hardware resources. Dependent grids execute sequentially, with an implicit interkernel barrier between them, thus guaranteeing that all blocks of the first grid complete before any block of the second, dependent grid begins.ä¸ºäº†ç®¡ç†æ­¤å¤„ç†å…ƒç´ è™šæ‹ŸåŒ–å¹¶æä¾›å¯ä¼¸ç¼©æ€§ï¼ŒCUDAè¦æ±‚çº¿ç¨‹å—èƒ½å¤Ÿç‹¬ç«‹æ‰§è¡Œã€‚å¿…é¡»èƒ½å¤Ÿä»¥ä»»ä½•é¡ºåºï¼Œå¹¶è¡Œæˆ–ä¸²è¡Œæ‰§è¡Œå—ã€‚ä¸åŒçš„å—æ²¡æœ‰ç›´æŽ¥é€šä¿¡çš„æ‰‹æ®µï¼Œå°½ç®¡å®ƒä»¬å¯ä»¥ä½¿ç”¨åŽŸå­å†…å­˜æ“ä½œåœ¨æ‰€æœ‰çº¿ç¨‹å¯è§çš„å…¨å±€å†…å­˜ä¸Šåè°ƒå®ƒä»¬çš„æ´»åŠ¨ - ä¾‹å¦‚é€šè¿‡åŽŸå­é€’å¢žçš„é˜Ÿåˆ—æŒ‡é’ˆã€‚è¿™ç§ç‹¬ç«‹æ€§è¦æ±‚å…è®¸åœ¨ä»»æ„æ•°é‡çš„å†…æ ¸ä¸Šä»¥ä»»ä½•é¡ºåºè°ƒåº¦çº¿ç¨‹å—ï¼Œä½¿CUDAæ¨¡åž‹å¯ä»¥è·¨ä»»æ„æ•°é‡çš„å†…æ ¸ä»¥åŠå„ç§å¹¶è¡Œä½“ç³»ç»“æž„è¿›è¡Œæ‰©å±•ã€‚å®ƒè¿˜æœ‰åŠ©äºŽé¿å…æ­»é”çš„å¯èƒ½æ€§ã€‚åº”ç”¨ç¨‹åºå¯ä»¥ç‹¬ç«‹åœ°æˆ–ä¾èµ–åœ°æ‰§è¡Œå¤šä¸ªç½‘æ ¼ã€‚åœ¨ç»™å®šè¶³å¤Ÿçš„ç¡¬ä»¶èµ„æºçš„æƒ…å†µä¸‹ï¼Œç‹¬ç«‹ç½‘æ ¼å¯ä»¥åŒæ—¶æ‰§è¡Œã€‚ä¾èµ–ç½‘æ ¼é¡ºåºæ‰§è¡Œï¼Œå®ƒä»¬ä¹‹é—´å…·æœ‰éšå¼å†…æ ¸å±éšœï¼Œä»Žè€Œä¿è¯ç¬¬ä¸€ç½‘æ ¼çš„æ‰€æœ‰å—åœ¨ç¬¬äºŒä¾èµ–ç½‘æ ¼çš„ä»»ä½•å—å¼€å§‹ä¹‹å‰å®Œæˆã€‚ atomic memory operation: A memory read, modify, write operation sequence that completes without any intervening access.å†…å­˜è¯»å–ï¼Œä¿®æ”¹ï¼Œå†™å…¥æ“ä½œåºåˆ—ï¼Œæ— éœ€ä»»ä½•ä¸­é—´è®¿é—®å³å¯å®Œæˆã€‚ Threads may access data from multiple memory spaces during their execution. Each thread has a private local memory. CUDA uses local memory for threadprivate variables that do not ft in the threadâ€™s registers, as well as for stack frames and register spilling. Each thread block has a shared memory, visible to all threads of the block, which has the same lifetime as the block. Finally, all threads have access to the same global memory. Programs declare variables in shared and global memory with the shared and device type qualifers. On a Tesla architecture GPU, these memory spaces correspond to physically separate memories: per-block shared memory is a low-latency on-chip RAM, while global memory resides in the fast DRAM on the graphics board.çº¿ç¨‹å¯ä»¥åœ¨æ‰§è¡ŒæœŸé—´ä»Žå¤šä¸ªå­˜å‚¨ç©ºé—´è®¿é—®æ•°æ®ã€‚ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰æœ¬åœ°å†…å­˜ã€‚ CUDAå°†æœ¬åœ°å†…å­˜ç”¨äºŽçº¿ç¨‹ç§æœ‰å˜é‡ï¼Œè¿™äº›å˜é‡ä¸åœ¨çº¿ç¨‹å¯„å­˜å™¨ä¸­ï¼Œä¹Ÿä¸ç”¨äºŽå †æ ˆå¸§å’Œå¯„å­˜å™¨æº¢å‡ºã€‚ æ¯ä¸ªçº¿ç¨‹å—éƒ½æœ‰ä¸€ä¸ªå…±äº«å†…å­˜ï¼Œå¯¹å—çš„æ‰€æœ‰çº¿ç¨‹éƒ½æ˜¯å¯è§çš„ï¼Œå®ƒä¸Žå—çš„ç”Ÿå‘½å‘¨æœŸç›¸åŒã€‚ æœ€åŽï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®ç›¸åŒçš„å…¨å±€å†…å­˜ã€‚ ç¨‹åºä½¿ç”¨sharedå’Œdeviceç±»åž‹çš„é™å®šç¬¦åœ¨å…±äº«å’Œå…¨å±€å†…å­˜ä¸­å£°æ˜Žå˜é‡ã€‚ åœ¨Teslaæž¶æž„GPUä¸Šï¼Œè¿™äº›å­˜å‚¨ç©ºé—´å¯¹åº”äºŽç‰©ç†ä¸Šç‹¬ç«‹çš„å­˜å‚¨å™¨ï¼šæ¯å—å…±äº«å­˜å‚¨å™¨æ˜¯ä½Žå»¶è¿Ÿç‰‡ä¸ŠRAMï¼Œè€Œå…¨å±€å­˜å‚¨å™¨é©»ç•™åœ¨å›¾å½¢æ¿ä¸Šçš„å¿«é€ŸDRAMä¸­ã€‚ local memory: Per-thread local memory private to the thread. æ¯çº¿ç¨‹æœ¬åœ°å†…å­˜å¯¹çº¿ç¨‹æ˜¯ç§æœ‰çš„ã€‚shared memory: Per-block memory shared by all threads of the block. å—çš„æ‰€æœ‰çº¿ç¨‹å…±äº«çš„æ¯å—å†…å­˜ã€‚global memory: Per-application memory shared by all threads. æ‰€æœ‰çº¿ç¨‹å…±äº«çš„æ¯ä¸ªåº”ç”¨ç¨‹åºå†…å­˜ã€‚ Shared memory is expected to be a low-latency memory near each processor, much like an L1 cache. It can therefore provide high-performance communication and data sharing among the threads of a thread block. Since it has the same lifetime as its corresponding thread block, kernel code will typically initialize data in shared variables, compute using shared variables, and copy shared memory results to global memory. Thread blocks of sequentially dependent grids communicate via global memory, using it to read input and write results.å…±äº«å†…å­˜é¢„è®¡æ˜¯æ¯ä¸ªå¤„ç†å™¨é™„è¿‘çš„ä½Žå»¶è¿Ÿå†…å­˜ï¼Œå¾ˆåƒL1ç¼“å­˜ã€‚ å› æ­¤ï¼Œå®ƒå¯ä»¥åœ¨çº¿ç¨‹å—çš„çº¿ç¨‹ä¹‹é—´æä¾›é«˜æ€§èƒ½é€šä¿¡å’Œæ•°æ®å…±äº«ã€‚ ç”±äºŽå®ƒä¸Žç›¸åº”çš„çº¿ç¨‹å—å…·æœ‰ç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸï¼Œå› æ­¤å†…æ ¸ä»£ç é€šå¸¸ä¼šåˆå§‹åŒ–å…±äº«å˜é‡ä¸­çš„æ•°æ®ï¼Œä½¿ç”¨å…±äº«å˜é‡è¿›è¡Œè®¡ç®—ï¼Œå¹¶å°†å…±äº«å†…å­˜ç»“æžœå¤åˆ¶åˆ°å…¨å±€å†…å­˜ä¸­ã€‚ é¡ºåºç›¸å…³ç½‘æ ¼çš„çº¿ç¨‹å—é€šè¿‡å…¨å±€å­˜å‚¨å™¨è¿›è¡Œé€šä¿¡ï¼Œä½¿ç”¨å®ƒæ¥è¯»å–è¾“å…¥å’Œå†™å…¥ç»“æžœã€‚Figure C.3.5 shows diagrams of the nested levels of threads, thread blocks, and grids of thread blocks. It further shows the corresponding levels of memory sharing: local, shared, and global memories for per-thread, per-thread-block, and per-application data sharing.å›¾C.3.5æ˜¾ç¤ºäº†çº¿ç¨‹å—çš„çº¿ç¨‹ï¼Œçº¿ç¨‹å—å’Œç½‘æ ¼çš„åµŒå¥—çº§åˆ«çš„å›¾è¡¨ã€‚ å®ƒè¿›ä¸€æ­¥æ˜¾ç¤ºäº†ç›¸åº”çš„å†…å­˜å…±äº«çº§åˆ«ï¼šæ¯ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹å—å’Œæ¯ä¸ªåº”ç”¨ç¨‹åºæ•°æ®å…±äº«çš„æœ¬åœ°ï¼Œå…±äº«å’Œå…¨å±€å†…å­˜ã€‚ A program manages the global memory space visible to kernels through calls to the CUDA runtime, such as cudaMalloc() and cudaFree(). Kernels may execute on a physically separate device, as is the case when running kernels on the GPU. Consequently, the application must use cudaMemcpy() to copy data between the allocated space and the host system memory.ç¨‹åºé€šè¿‡è°ƒç”¨CUDAè¿è¡Œæ—¶ï¼ˆä¾‹å¦‚cudaMallocï¼ˆï¼‰å’ŒcudaFreeï¼ˆï¼‰ï¼‰æ¥ç®¡ç†å†…æ ¸å¯è§çš„å…¨å±€å†…å­˜ç©ºé—´ã€‚ å†…æ ¸å¯ä»¥åœ¨ç‰©ç†ä¸Šç‹¬ç«‹çš„è®¾å¤‡ä¸Šæ‰§è¡Œï¼Œå°±åƒåœ¨GPUä¸Šè¿è¡Œå†…æ ¸ä¸€æ ·ã€‚ å› æ­¤ï¼Œåº”ç”¨ç¨‹åºå¿…é¡»ä½¿ç”¨cudaMemcpyï¼ˆï¼‰åœ¨åˆ†é…çš„ç©ºé—´å’Œä¸»æœºç³»ç»Ÿå†…å­˜ä¹‹é—´å¤åˆ¶æ•°æ®ã€‚ The CUDA programming model is similar in style to the familiar singleprogram multiple data (SPMD) modelâ€”it expresses parallelism explicitly, and each kernel executes on a fxed number of threads. However, CUDA is more ï¬‚exible than most realizations of SPMD, because each kernel call dynamically creates a new grid with the right number of thread blocks and threads for that application step. The programmer can use a convenient degree of parallelism for each kernel, rather than having to design all phases of the computation to use the same numberof threads. Figure C.3.6 shows an example of an SPMD-like CUDA code sequence. It first instantiates kernelF on a 2D grid of 3 x 2 blocks where each 2D thread block consists of 5 x 3 threads. It then instantiates kernelG on a 1D grid of four 1D thread blocks with six threads each. Because kernelG depends on the results of kernelF, they are separated by an interkernel synchronization barrier.CUDAç¼–ç¨‹æ¨¡åž‹çš„é£Žæ ¼ç±»ä¼¼äºŽç†Ÿæ‚‰çš„å•ç¨‹åºå¤šæ•°æ®ï¼ˆSPMDï¼‰æ¨¡åž‹ - å®ƒæ˜Žç¡®åœ°è¡¨è¾¾å¹¶è¡Œæ€§ï¼Œå¹¶ä¸”æ¯ä¸ªå†…æ ¸åœ¨å›ºå®šæ•°é‡çš„çº¿ç¨‹ä¸Šæ‰§è¡Œã€‚ ä½†æ˜¯ï¼ŒCUDAæ¯”SPMDçš„å¤§å¤šæ•°å®žçŽ°æ›´çµæ´»ï¼Œå› ä¸ºæ¯ä¸ªå†…æ ¸è°ƒç”¨åŠ¨æ€åœ°ä¸ºè¯¥åº”ç”¨ç¨‹åºæ­¥éª¤åˆ›å»ºå…·æœ‰æ­£ç¡®æ•°é‡çš„çº¿ç¨‹å—å’Œçº¿ç¨‹çš„æ–°ç½‘æ ¼ã€‚ ç¨‹åºå‘˜å¯ä»¥ä¸ºæ¯ä¸ªå†…æ ¸ä½¿ç”¨æ–¹ä¾¿çš„å¹¶è¡Œåº¦ï¼Œè€Œä¸å¿…è®¾è®¡è®¡ç®—çš„æ‰€æœ‰é˜¶æ®µä»¥ä½¿ç”¨ç›¸åŒæ•°é‡çš„çº¿ç¨‹ã€‚ å›¾C.3.6æ˜¾ç¤ºäº†ç±»ä¼¼SPMDçš„CUDAä»£ç åºåˆ—çš„ç¤ºä¾‹ã€‚ å®ƒé¦–å…ˆåœ¨3 x 2å—çš„2Dç½‘æ ¼ä¸Šå®žä¾‹åŒ–kernelFï¼Œå…¶ä¸­æ¯ä¸ª2Dçº¿ç¨‹å—ç”±5 x 3ä¸ªçº¿ç¨‹ç»„æˆã€‚ ç„¶åŽï¼Œå®ƒåœ¨å››ä¸ª1Dçº¿ç¨‹å—çš„1Dç½‘æ ¼ä¸Šå®žä¾‹åŒ–kernelGï¼Œæ¯ä¸ªçº¿ç¨‹å—æœ‰6ä¸ªçº¿ç¨‹ã€‚ å› ä¸ºkernelGä¾èµ–äºŽkernelFçš„ç»“æžœï¼Œæ‰€ä»¥å®ƒä»¬è¢«å†…æ ¸åŒæ­¥éšœç¢éš”å¼€ã€‚ single-program multiple data (SPMD): A style of parallel programming model in which all threads execute the same program. SPMD threads typically coordinate with barrier synchronization.ä¸€ç§å¹¶è¡Œç¼–ç¨‹æ¨¡åž‹ï¼Œå…¶ä¸­æ‰€æœ‰çº¿ç¨‹éƒ½æ‰§è¡Œç›¸åŒçš„ç¨‹åºã€‚ SPMDçº¿ç¨‹é€šå¸¸ä¸Žå±éšœåŒæ­¥åè°ƒã€‚ The concurrent threads of a thread block express fne-grained data parallelism and thread parallelism. The independent thread blocks of a grid express coarse-grained data parallelism. Independent grids express coarse-grained task parallelism. A kernel is simply C code for one thread of the hierarchy.çº¿ç¨‹å—çš„å¹¶å‘çº¿ç¨‹è¡¨ç¤ºç»†ç²’åº¦æ•°æ®å¹¶è¡Œæ€§å’Œçº¿ç¨‹å¹¶è¡Œæ€§ã€‚ ç½‘æ ¼çš„ç‹¬ç«‹çº¿ç¨‹å—è¡¨ç¤ºç²—ç²’åº¦æ•°æ®å¹¶è¡Œæ€§ã€‚ ç‹¬ç«‹ç½‘æ ¼è¡¨ç¤ºç²—ç²’åº¦çš„ä»»åŠ¡å¹¶è¡Œæ€§ã€‚ å†…æ ¸åªæ˜¯å±‚æ¬¡ç»“æž„ä¸­ä¸€ä¸ªçº¿ç¨‹çš„Cä»£ç  RestrictionsFor efficiency, and to simplify its implementation, the CUDA programming model has some restrictions. Threads and thread blocks may only be created by invoking a parallel kernel, not from within a parallel kernel. Together with the required independence of thread blocks, this makes it possible to execute CUDA programs with a simple scheduler that introduces minimal runtime overhead. In fact, the Tesla GPU architecture implements hardware management and scheduling of threads and thread blocks.ä¸ºäº†æé«˜æ•ˆçŽ‡å¹¶ç®€åŒ–å…¶å®žçŽ°ï¼ŒCUDAç¼–ç¨‹æ¨¡åž‹æœ‰ä¸€äº›é™åˆ¶ã€‚çº¿ç¨‹å’Œçº¿ç¨‹å—åªèƒ½é€šè¿‡è°ƒç”¨å¹¶è¡Œå†…æ ¸æ¥åˆ›å»ºï¼Œè€Œä¸èƒ½é€šè¿‡å¹¶è¡Œå†…æ ¸æ¥åˆ›å»ºã€‚ä¸Žçº¿ç¨‹å—æ‰€éœ€çš„ç‹¬ç«‹æ€§ä¸€èµ·ï¼Œè¿™ä½¿å¾—ä½¿ç”¨ç®€å•çš„è°ƒåº¦ç¨‹åºæ‰§è¡ŒCUDAç¨‹åºæˆä¸ºå¯èƒ½ï¼Œè¯¥è°ƒåº¦ç¨‹åºå¼•å…¥äº†æœ€å°çš„è¿è¡Œæ—¶å¼€é”€ã€‚å®žé™…ä¸Šï¼ŒTesla GPUæž¶æž„å®žçŽ°äº†çº¿ç¨‹å’Œçº¿ç¨‹å—çš„ç¡¬ä»¶ç®¡ç†å’Œè°ƒåº¦ã€‚ Task parallelism can be expressed at the thread block level but is difficult to express within a thread block because thread synchronization barriers operate on all the threads of the block. To enable CUDA programs to run on any number of processors, dependencies among thread blocks within the same kernel grid are not allowedâ€”blocks must execute independently. Since CUDA requires that thread blocks be independent and allows blocks to be executed in any order, combining results generated by multiple blocks must in general be done by launching a second kernel on a new grid of thread blocks (although thread blocks may coordinate their activities using atomic memory operations on the global memory visible to all threadsâ€”by atomically incrementing queue pointers, for example).ä»»åŠ¡å¹¶è¡Œæ€§å¯ä»¥åœ¨çº¿ç¨‹å—çº§åˆ«è¡¨ç¤ºï¼Œä½†éš¾ä»¥åœ¨çº¿ç¨‹å—å†…è¡¨è¾¾ï¼Œå› ä¸ºçº¿ç¨‹åŒæ­¥éšœç¢åœ¨å—çš„æ‰€æœ‰çº¿ç¨‹ä¸Šè¿è¡Œã€‚è¦ä½¿CUDAç¨‹åºèƒ½å¤Ÿåœ¨ä»»æ„æ•°é‡çš„å¤„ç†å™¨ä¸Šè¿è¡Œï¼Œä¸å…è®¸åŒä¸€å†…æ ¸ç½‘æ ¼ä¸­çš„çº¿ç¨‹å—ä¹‹é—´çš„ä¾èµ–å…³ç³» - å—å¿…é¡»ç‹¬ç«‹æ‰§è¡Œã€‚ç”±äºŽCUDAè¦æ±‚çº¿ç¨‹å—æ˜¯ç‹¬ç«‹çš„å¹¶ä¸”å…è®¸ä»¥ä»»ä½•é¡ºåºæ‰§è¡Œå—ï¼Œå› æ­¤é€šå¸¸å¿…é¡»é€šè¿‡åœ¨æ–°çš„çº¿ç¨‹å—ç½‘æ ¼ä¸Šå¯åŠ¨ç¬¬äºŒä¸ªå†…æ ¸æ¥ç»„åˆç”±å¤šä¸ªå—ç”Ÿæˆçš„ç»“æžœï¼ˆå°½ç®¡çº¿ç¨‹å—å¯ä»¥ä½¿ç”¨å®ƒæ¥åè°ƒå®ƒä»¬çš„æ´»åŠ¨ï¼‰æ‰€æœ‰çº¿ç¨‹éƒ½å¯è§çš„å…¨å±€å†…å­˜ä¸Šçš„åŽŸå­å†…å­˜æ“ä½œ - ä¾‹å¦‚ï¼Œé€šè¿‡åŽŸå­é€’å¢žé˜Ÿåˆ—æŒ‡é’ˆï¼‰ã€‚ Recursive function calls are not currently allowed in CUDA kernels. Recursion is unattractive in a massively parallel kernel, because providing stack space for the tens of thousands of threads that may be active would require substantial amounts of memory. Serial algorithms that are normally expressed using recursion, such asquicksort, are typically best implemented using nested data parallelism rather than explicit recursion.CUDAå†…æ ¸å½“å‰ä¸å…è®¸é€’å½’å‡½æ•°è°ƒç”¨ã€‚ é€’å½’åœ¨å¤§è§„æ¨¡å¹¶è¡Œå†…æ ¸ä¸­æ²¡æœ‰å¸å¼•åŠ›ï¼Œå› ä¸ºä¸ºå¯èƒ½æ´»è·ƒçš„æ•°ä¸‡ä¸ªçº¿ç¨‹æä¾›å †æ ˆç©ºé—´å°†éœ€è¦å¤§é‡çš„å†…å­˜ã€‚ é€šå¸¸ä½¿ç”¨é€’å½’è¡¨ç¤ºçš„ä¸²è¡Œç®—æ³•ï¼ˆä¾‹å¦‚å¿«é€ŸæŽ’åºï¼‰é€šå¸¸æœ€å¥½ä½¿ç”¨åµŒå¥—æ•°æ®å¹¶è¡Œè€Œä¸æ˜¯æ˜¾å¼é€’å½’æ¥å®žçŽ°ã€‚ To support a heterogeneous system architecture combining a CPU and a GPU, each with its own memory system, CUDA programs must copy data and results between host memory and device memory. The overhead of CPUâ€“GPU interaction and data transfers is minimized by using DMA block transfer engines and fast interconnects. Compute-intensive problems large enough to need a GPU performance boost amortize the overhead better than small problems.ä¸ºäº†æ”¯æŒç»„åˆCPUå’ŒGPUçš„å¼‚æž„ç³»ç»Ÿæž¶æž„ï¼Œæ¯ä¸ªæž¶æž„éƒ½æœ‰è‡ªå·±çš„å†…å­˜ç³»ç»Ÿï¼ŒCUDAç¨‹åºå¿…é¡»åœ¨ä¸»æœºå†…å­˜å’Œè®¾å¤‡å†…å­˜ä¹‹é—´å¤åˆ¶æ•°æ®å’Œç»“æžœã€‚ é€šè¿‡ä½¿ç”¨DMAå—ä¼ è¾“å¼•æ“Žå’Œå¿«é€Ÿäº’è¿žï¼Œå¯ä»¥æœ€å¤§é™åº¦åœ°å‡å°‘CPU-GPUäº¤äº’å’Œæ•°æ®ä¼ è¾“çš„å¼€é”€ã€‚ å¤§åˆ°è¶³ä»¥éœ€è¦GPUæ€§èƒ½æå‡çš„è®¡ç®—å¯†é›†åž‹é—®é¢˜å¯ä»¥æ¯”å°é—®é¢˜æ›´å¥½åœ°åˆ†æ‘Šå¼€é”€ã€‚ Implications for Architecture å¯¹å»ºç­‘çš„å¯ç¤ºThe parallel programming models for graphics and computing have driven GPU architecture to be different than CPU architecture. The key aspects of GPU programs driving GPU processor architecture are:ç”¨äºŽå›¾å½¢å’Œè®¡ç®—çš„å¹¶è¡Œç¼–ç¨‹æ¨¡åž‹é©±åŠ¨GPUæž¶æž„ä¸ŽCPUæž¶æž„ä¸åŒã€‚ GPUç¨‹åºé©±åŠ¨GPUå¤„ç†å™¨æž¶æž„çš„å…³é”®æ–¹é¢æ˜¯ï¼š Extensive use of fne-grained data parallelism: Shader programs describe how to process a single pixel or vertex, and CUDA programs describe how to compute an individual result.å¹¿æ³›ä½¿ç”¨ç»†ç²’åº¦æ•°æ®å¹¶è¡Œï¼šç€è‰²å™¨ç¨‹åºæè¿°å¦‚ä½•å¤„ç†å•ä¸ªåƒç´ æˆ–é¡¶ç‚¹ï¼Œè€ŒCUDAç¨‹åºæè¿°å¦‚ä½•è®¡ç®—å•ä¸ªç»“æžœã€‚ Highly threaded programming model: A shader thread program processes a single pixel or vertex, and a CUDA thread program may generate a single result. A GPU must create and execute millions of such thread programs per frame, at 60 frames per second. é«˜çº¿ç¨‹ç¼–ç¨‹æ¨¡åž‹ï¼šç€è‰²å™¨çº¿ç¨‹ç¨‹åºå¤„ç†å•ä¸ªåƒç´ æˆ–é¡¶ç‚¹ï¼ŒCUDAçº¿ç¨‹ç¨‹åºå¯ä»¥ç”Ÿæˆå•ä¸ªç»“æžœã€‚ GPUå¿…é¡»æ¯å¸§åˆ›å»ºå¹¶æ‰§è¡Œæ•°ç™¾ä¸‡ä¸ªè¿™æ ·çš„çº¿ç¨‹ç¨‹åºï¼Œæ¯ç§’60å¸§ã€‚ Scalability: A program must automatically increase its performance when provided with additional processors, without recompiling. ç¨‹åºå¿…é¡»åœ¨æä¾›é¢å¤–çš„å¤„ç†å™¨æ—¶è‡ªåŠ¨æé«˜å…¶æ€§èƒ½ï¼Œè€Œæ— éœ€é‡æ–°ç¼–è¯‘ã€‚ Intensive ï¬‚oating-point (or integer) computation.å¼ºåŒ–æµ®ç‚¹ï¼ˆæˆ–æ•´æ•°ï¼‰è®¡ç®—ã€‚ Support of high throughput computations.æ”¯æŒé«˜åžåé‡è®¡ç®—ã€‚]]></content>
      <categories>
        <category>GPUç›¸å…³</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2_GPU_System_Architectures]]></title>
    <url>%2F2019%2F01%2F23%2FGPU_System_Architectures%2F</url>
    <content type="text"><![CDATA[In this section, we survey GPU system architectures in common use today. We discuss system configurations, GPU functions and services, standard programming interfaces, and a basic GPU internal architecture.åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è°ƒæŸ¥ç›®å‰å¸¸ç”¨çš„GPUç³»ç»Ÿæž¶æž„ã€‚ æˆ‘ä»¬å°†è®¨è®ºç³»ç»Ÿé…ç½®ï¼ŒGPUåŠŸèƒ½å’ŒæœåŠ¡ï¼Œæ ‡å‡†ç¼–ç¨‹æŽ¥å£ä»¥åŠåŸºæœ¬çš„GPUå†…éƒ¨æž¶æž„ã€‚ Heterogeneous CPUâ€“GPU System Architecture å¼‚æž„CPU-GPUç³»ç»Ÿæž¶æž„A heterogeneous computer system architecture using a GPU and a CPU can be described at a high level by two primary characteristics: first, how many functional subsystems and/or chips are used and what are their interconnection technologies and topology; and second, what memory subsystems are available to these functional subsystems. See Chapter 6 for background on the PC I/O systems and chip sets.ä½¿ç”¨GPUå’ŒCPUçš„å¼‚æž„è®¡ç®—æœºç³»ç»Ÿæž¶æž„å¯ä»¥é€šè¿‡ä¸¤ä¸ªä¸»è¦ç‰¹å¾åœ¨é«˜çº§åˆ«æè¿°ï¼šç¬¬ä¸€ï¼Œä½¿ç”¨å¤šå°‘åŠŸèƒ½å­ç³»ç»Ÿå’Œ/æˆ–èŠ¯ç‰‡ä»¥åŠå®ƒä»¬çš„äº’è¿žæŠ€æœ¯å’Œæ‹“æ‰‘æ˜¯ä»€ä¹ˆ; ç¬¬äºŒï¼Œè¿™äº›åŠŸèƒ½å­ç³»ç»Ÿå¯ä»¥ä½¿ç”¨å“ªäº›å†…å­˜å­ç³»ç»Ÿã€‚ æœ‰å…³PC I / Oç³»ç»Ÿå’ŒèŠ¯ç‰‡ç»„çš„èƒŒæ™¯ä¿¡æ¯ï¼Œè¯·å‚è§ç¬¬6ç« ã€‚ The Historical PC(circa 1990) åŽ†å²PCï¼ˆå¤§çº¦1990å¹´ï¼‰Figure C.2.1 shows a high-level block diagram of a legacy PC, circa 1990. The north bridge (see Chapter 6) contains high-bandwidth interfaces, connecting the CPU, memory, and PCI bus. The south bridge contains legacy interfaces and devices: ISA bus (audio, LAN), interrupt controller; DMA controller; time/counter. In this system, the display was driven by a simple framebuffer subsystem known as a VGA (video graphics array) which was attached to the PCI bus. Graphics subsystems with built-in processing elements (GPUs) did not exist in the PC landscape of 1990.å›¾C.2.1æ˜¾ç¤ºäº†å¤§çº¦æ˜¯1990å¹´ã€çš„ä¼ ç»ŸPCçš„é«˜çº§æ¡†å›¾ã€‚åŒ—æ¡¥ï¼ˆè§ç¬¬6ç« ï¼‰åŒ…å«é«˜å¸¦å®½æŽ¥å£ï¼Œè¿žæŽ¥CPUï¼Œå†…å­˜å’ŒPCIæ€»çº¿ã€‚ å—æ¡¥åŒ…å«ä¼ ç»ŸæŽ¥å£å’Œè®¾å¤‡ï¼šISAæ€»çº¿ï¼ˆéŸ³é¢‘ï¼ŒLANï¼‰ï¼Œä¸­æ–­æŽ§åˆ¶å™¨; DMAæŽ§åˆ¶å™¨;å®šæ—¶/è®¡æ•°å™¨ã€‚ åœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œæ˜¾ç¤ºå™¨ç”±ç§°ä¸ºVGAï¼ˆè§†é¢‘å›¾å½¢é˜µåˆ—ï¼‰çš„ç®€å•å¸§ç¼“å†²å­ç³»ç»Ÿé©±åŠ¨ï¼Œè¯¥å­ç³»ç»Ÿè¿žæŽ¥åˆ°PCIæ€»çº¿ã€‚ 1990å¹´çš„PCçŽ¯å¢ƒä¸­ä¸å­˜åœ¨å…·æœ‰å†…ç½®å¤„ç†å…ƒä»¶ï¼ˆGPUï¼‰çš„å›¾å½¢å­ç³»ç»Ÿã€‚ Figure C.2.2 illustrates two configurations in common use today. These are characterized by a separate GPU (discrete GPU) and CPU with respective memory subsystems. In Figure C.2.2a, with an Intel CPU, we see the GPU attached via a 16-lane PCI-Express 2.0 link to provide a peak 16 GB/s transfer rate, (peak of 8 GB/s in each direction). Similarly, in Figure C.2.2b, with an AMD CPU, the GPU is attached to the chipset, also via PCI-Express with the same available bandwidth. In both cases, the GPUs and CPUs may access each otherâ€™s memory, albeit with less available bandwidth than their access to the more directly attached memories. In the case of the AMD system, the north bridge or memory controller is integrated into the same die as the CPU.å›¾C.2.2è¯´æ˜Žäº†ç›®å‰å¸¸ç”¨çš„ä¸¤ç§é…ç½®ã€‚ å®ƒä»¬çš„ç‰¹å¾åœ¨äºŽå•ç‹¬çš„GPUï¼ˆç¦»æ•£GPUï¼‰å’Œå…·æœ‰ç›¸åº”å­˜å‚¨å™¨å­ç³»ç»Ÿçš„CPUã€‚ åœ¨å›¾C.2.2aä¸­ï¼Œä½¿ç”¨Intel CPUï¼Œæˆ‘ä»¬çœ‹åˆ°GPUé€šè¿‡16é€šé“PCI-Express 2.0é“¾è·¯è¿žæŽ¥ï¼Œä»¥æä¾›16 GB / sçš„å³°å€¼ä¼ è¾“é€ŸçŽ‡ï¼ˆæ¯ä¸ªæ–¹å‘çš„å³°å€¼ä¸º8 GB / sï¼‰ã€‚åŒæ ·ï¼Œåœ¨å›¾C.2.2bä¸­ï¼Œä½¿ç”¨AMD CPUï¼ŒGPUä¹Ÿé€šè¿‡å…·æœ‰ç›¸åŒå¯ç”¨å¸¦å®½çš„PCI-Expressè¿žæŽ¥åˆ°èŠ¯ç‰‡ç»„ã€‚ åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼ŒGPUå’ŒCPUå¯ä»¥è®¿é—®å½¼æ­¤çš„å†…å­˜ï¼Œå°½ç®¡å¯ç”¨å¸¦å®½å°‘äºŽè®¿é—®æ›´ç›´æŽ¥è¿žæŽ¥çš„å†…å­˜ã€‚ åœ¨AMDç³»ç»Ÿçš„æƒ…å†µä¸‹ï¼ŒåŒ—æ¡¥æˆ–å­˜å‚¨å™¨æŽ§åˆ¶å™¨é›†æˆåˆ°ä¸ŽCPUç›¸åŒçš„ç®¡èŠ¯ä¸­ã€‚ A low-cost variation on these systems, a unifed memory architecture (UMA) system, uses only CPU system memory, omitting GPU memory from the system. These systems have relatively low performance GPUs, since their achieved performance is limited by the available system memory bandwidth and increased latency of memory access, whereas dedicated GPU memory provides high bandwidth and low latency.è¿™äº›ç³»ç»Ÿçš„ä½Žæˆæœ¬å˜åŒ–ï¼Œç»Ÿä¸€å†…å­˜æž¶æž„ï¼ˆUMAï¼‰ç³»ç»Ÿï¼Œä»…ä½¿ç”¨CPUç³»ç»Ÿå†…å­˜ï¼Œä»Žç³»ç»Ÿä¸­çœç•¥GPUå†…å­˜ã€‚ è¿™äº›ç³»ç»Ÿå…·æœ‰ç›¸å¯¹ä½Žæ€§èƒ½çš„GPUï¼Œå› ä¸ºå®ƒä»¬å®žçŽ°çš„æ€§èƒ½å—å¯ç”¨ç³»ç»Ÿå­˜å‚¨å™¨å¸¦å®½å’Œå­˜å‚¨å™¨è®¿é—®å»¶è¿Ÿçš„é™åˆ¶ï¼Œè€Œä¸“ç”¨GPUå­˜å‚¨å™¨æä¾›é«˜å¸¦å®½å’Œä½Žå»¶è¿Ÿã€‚A high performance system variation uses multiple attached GPUs, typically two to four working in parallel, with their displays daisy-chained. An example is the NVIDIA SLI (scalable link interconnect) multi-GPU system, designed for high performance gaming and workstations.é«˜æ€§èƒ½ç³»ç»Ÿå˜ä½“ä½¿ç”¨å¤šä¸ªè¿žæŽ¥çš„GPUï¼Œé€šå¸¸ä¸¤åˆ°å››ä¸ªå¹¶è¡Œå·¥ä½œï¼Œå…¶æ˜¾ç¤ºå™¨é‡‡ç”¨èŠèŠ±é“¾å¼è¿žæŽ¥ã€‚ä¸€ä¸ªä¾‹å­æ˜¯NVIDIA SLIï¼ˆå¯æ‰©å±•é“¾è·¯äº’è¿žï¼‰å¤šGPUç³»ç»Ÿï¼Œä¸“ä¸ºé«˜æ€§èƒ½æ¸¸æˆå’Œå·¥ä½œç«™è€Œè®¾è®¡ã€‚The next system category integrates the GPU with the north bridge (Intel) or chipset (AMD) with and without dedicated graphics memory.ä¸‹ä¸€ä¸ªç³»ç»Ÿç±»åˆ«å°†GPUä¸ŽåŒ—æ¡¥ï¼ˆIntelï¼‰æˆ–èŠ¯ç‰‡ç»„ï¼ˆAMDï¼‰é›†æˆï¼Œæœ‰æˆ–æ²¡æœ‰ä¸“ç”¨çš„å›¾å½¢å†…å­˜Chapter 5 explains how caches maintain coherence in a shared address space. With CPUs and GPUs, there are multiple address spaces. GPUs can access their own physical local memory and the CPU systemâ€™s physical memory using virtual addresses that are translated by an MMU on the GPU. The operating system kernel manages the GPUâ€™s page tables. A system physical page can be accessed using either coherent or noncoherent PCI-Express transactions, determined by an attribute in the GPUâ€™s page table. The CPU can access GPUâ€™s local memory through an address range (also called aperture) in the PCI-Express address space.ç¬¬5ç« è§£é‡Šäº†ç¼“å­˜å¦‚ä½•åœ¨å…±äº«åœ°å€ç©ºé—´ä¸­ä¿æŒä¸€è‡´æ€§ã€‚å¯¹äºŽCPUå’ŒGPUï¼Œæœ‰å¤šä¸ªåœ°å€ç©ºé—´ã€‚ GPUå¯ä»¥ä½¿ç”¨ç”±GPUä¸Šçš„MMUè½¬æ¢çš„è™šæ‹Ÿåœ°å€è®¿é—®è‡ªå·±çš„ç‰©ç†æœ¬åœ°å†…å­˜å’ŒCPUç³»ç»Ÿçš„ç‰©ç†å†…å­˜ã€‚æ“ä½œç³»ç»Ÿå†…æ ¸ç®¡ç†GPUçš„é¡µè¡¨ã€‚å¯ä»¥ä½¿ç”¨ç”±GPUé¡µé¢è¡¨ä¸­çš„å±žæ€§ç¡®å®šçš„ç›¸å¹²æˆ–éžç›¸å¹²PCI-Expressäº‹åŠ¡æ¥è®¿é—®ç³»ç»Ÿç‰©ç†é¡µé¢ã€‚ CPUå¯ä»¥é€šè¿‡PCI-Expressåœ°å€ç©ºé—´ä¸­çš„åœ°å€èŒƒå›´ï¼ˆä¹Ÿç§°ä¸ºå­”å¾„ï¼‰è®¿é—®GPUçš„æœ¬åœ°å­˜å‚¨å™¨ã€‚ Game Consoles æ¸¸æˆä¸»æœºConsole systems such as the Sony PlayStation 3 and the Microsof Xbox 360 resemble the PC system architectures previously described. Console systems are designed to be shipped with identical performance and functionality over a lifespan that can last five years or more. During this time, a system may be reimplemented many times to exploit more advanced silicon manufacturing processes and thereby to provide constant capability at ever lower costs. Console systems do not need to have their subsystems expanded and upgraded the way PC systems do, so themajor internal system buses tend to be customized rather than standardized.è¯¸å¦‚Sony PlayStation 3å’ŒMicrosof Xbox 360ä¹‹ç±»çš„æŽ§åˆ¶å°ç³»ç»Ÿç±»ä¼¼äºŽå…ˆå‰æè¿°çš„PCç³»ç»Ÿæž¶æž„ã€‚ æŽ§åˆ¶å°ç³»ç»Ÿè®¾è®¡ä¸ºåœ¨ç›¸åŒçš„ä½¿ç”¨å¯¿å‘½æœŸå†…å…·æœ‰ç›¸åŒçš„æ€§èƒ½å’ŒåŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨äº”å¹´æˆ–æ›´é•¿æ—¶é—´ã€‚ åœ¨æ­¤æœŸé—´ï¼Œç³»ç»Ÿå¯ä»¥å¤šæ¬¡é‡æ–°å®žçŽ°ä»¥åˆ©ç”¨æ›´å…ˆè¿›çš„ç¡…åˆ¶é€ å·¥è‰ºï¼Œä»Žè€Œä»¥æ›´ä½Žçš„æˆæœ¬æä¾›æ’å®šçš„èƒ½åŠ›ã€‚ æŽ§åˆ¶å°ç³»ç»Ÿä¸éœ€è¦åƒPCç³»ç»Ÿé‚£æ ·æ‰©å±•å’Œå‡çº§å­ç³»ç»Ÿï¼Œæ‰€ä»¥ä¸»è¦çš„å†…éƒ¨ç³»ç»Ÿæ€»çº¿å¾€å¾€æ˜¯å®šåˆ¶çš„è€Œä¸æ˜¯æ ‡å‡†åŒ–çš„ã€‚ GPU Interfaces and DriversIn a PC today, GPUs are attached to a CPU via PCI-Express. Earlier generations used AGP. Graphics applications call OpenGL [Segal and Akeley, 2006] or Direct3D [Microsof DirectX Specifcation] API functions that use the GPU as a coprocessor. The APIs send commands, programs, and data to the GPU via a graphics device driver optimized for the particular GPU.åœ¨ä»Šå¤©çš„PCä¸­ï¼ŒGPUé€šè¿‡PCI-Expressè¿žæŽ¥åˆ°CPUã€‚ æ—©æœŸçš„å‡ ä»£äººä½¿ç”¨AGPã€‚ å›¾å½¢åº”ç”¨ç¨‹åºè°ƒç”¨OpenGL [Segalå’ŒAkeleyï¼Œ2006]æˆ–Direct3D [Microsof DirectXè§„èŒƒ] APIå‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä½¿ç”¨GPUä½œä¸ºåå¤„ç†å™¨ã€‚ APIé€šè¿‡é’ˆå¯¹ç‰¹å®šGPUä¼˜åŒ–çš„å›¾å½¢è®¾å¤‡é©±åŠ¨ç¨‹åºå°†å‘½ä»¤ï¼Œç¨‹åºå’Œæ•°æ®å‘é€åˆ°GPUã€‚ APG :An extended version of the original PCI I/O bus, which provided up to eight times the bandwidth of the original PCI bus to a single card slot. Its primary purpose was to connect graphics subsystems into PC systems.APG: åŽŸå§‹PCI I / Oæ€»çº¿çš„æ‰©å±•ç‰ˆæœ¬ï¼Œå…¶æä¾›çš„å¸¦å®½æ˜¯åŽŸå§‹PCIæ€»çº¿çš„å…«å€ï¼Œè¾¾åˆ°å•ä¸ªå¡æ’æ§½ã€‚ å…¶ä¸»è¦ç›®çš„æ˜¯å°†å›¾å½¢å­ç³»ç»Ÿè¿žæŽ¥åˆ°PCç³»ç»Ÿã€‚ Graphics Logical PipelineThe graphics logical pipeline is described in Section C.3. Figure C.2.3 illustrates the major processing stages, and highlights the important programmable stages (vertex, geometry, and pixel shader stages).å›¾å½¢é€»è¾‘æµæ°´çº¿åœ¨C.3èŠ‚ä¸­æè¿°ã€‚ å›¾C.2.3è¯´æ˜Žäº†ä¸»è¦çš„å¤„ç†é˜¶æ®µï¼Œå¹¶é‡ç‚¹ä»‹ç»äº†é‡è¦çš„å¯ç¼–ç¨‹é˜¶æ®µï¼ˆé¡¶ç‚¹ï¼Œå‡ ä½•å’Œåƒç´ ç€è‰²å™¨é˜¶æ®µï¼‰ã€‚ Mapping Graphics Pipeline to Unified GPU ProcessorsFigure C.2.4 shows how the logical pipeline comprising separate independent programmable stages is mapped onto a physical distributed array of processors. Basic Unifed GPU ArchitectureUnifed GPU architectures are based on a parallel array of many programmable processors. They unify vertex, geometry, and pixel shader processing and parallel computing on the same processors, unlike earlier GPUs which had separate processors dedicated to each processing type. The programmable processor array is tightly integrated with fixed function processors for texture filtering, rasterization, raster operations, anti-aliasing, compression, decompression, display, video decoding, and high-defnition video processing. Although the fixed-function processors signifcantly outperform more general programmable processors in terms of absolute performance constrained by an area, cost, or power budget, we will focus on the programmable processors here.ç»Ÿä¸€çš„GPUæž¶æž„åŸºäºŽè®¸å¤šå¯ç¼–ç¨‹å¤„ç†å™¨çš„å¹¶è¡Œé˜µåˆ—ã€‚ å®ƒä»¬åœ¨ç›¸åŒçš„å¤„ç†å™¨ä¸Šç»Ÿä¸€é¡¶ç‚¹ï¼Œå‡ ä½•å’Œåƒç´ ç€è‰²å™¨å¤„ç†ä»¥åŠå¹¶è¡Œè®¡ç®—ï¼Œè¿™ä¸Žæ—©æœŸçš„GPUä¸åŒï¼ŒåŽè€…å…·æœ‰ä¸“ç”¨äºŽæ¯ç§å¤„ç†ç±»åž‹çš„ç‹¬ç«‹å¤„ç†å™¨ã€‚ å¯ç¼–ç¨‹å¤„ç†å™¨é˜µåˆ—ä¸Žå›ºå®šåŠŸèƒ½å¤„ç†å™¨ç´§å¯†é›†æˆï¼Œç”¨äºŽçº¹ç†è¿‡æ»¤ï¼Œå…‰æ …åŒ–ï¼Œå…‰æ …æ“ä½œï¼ŒæŠ—é”¯é½¿ï¼ŒåŽ‹ç¼©ï¼Œè§£åŽ‹ç¼©ï¼Œæ˜¾ç¤ºï¼Œè§†é¢‘è§£ç å’Œé«˜æ¸…æ™°åº¦è§†é¢‘å¤„ç†ã€‚ è™½ç„¶å›ºå®šåŠŸèƒ½å¤„ç†å™¨åœ¨é¢ç§¯ï¼Œæˆæœ¬æˆ–åŠŸçŽ‡é¢„ç®—é™åˆ¶çš„ç»å¯¹æ€§èƒ½æ–¹é¢æ˜Žæ˜¾ä¼˜äºŽæ›´å¤šé€šç”¨å¯ç¼–ç¨‹å¤„ç†å™¨ï¼Œä½†æˆ‘ä»¬å°†ä¸“æ³¨äºŽæ­¤å¤„çš„å¯ç¼–ç¨‹å¤„ç†å™¨ã€‚ Compared with multicore CPUs, manycore GPUs have a different architectural design point, one focused on executing many parallel threads effciently on many processor cores. By using many simpler cores and optimizing for data-parallel behavior among groups of threads, more of the per-chip transistor budget is devoted to computation, and less to on-chip caches and overhead.ä¸Žå¤šæ ¸CPUç›¸æ¯”ï¼Œå¤šæ ¸GPUå…·æœ‰ä¸åŒçš„æž¶æž„è®¾è®¡ç‚¹ï¼Œä¸€ä¸ªä¾§é‡äºŽåœ¨è®¸å¤šå¤„ç†å™¨å†…æ ¸ä¸Šæœ‰æ•ˆåœ°æ‰§è¡Œè®¸å¤šå¹¶è¡Œçº¿ç¨‹ã€‚ é€šè¿‡ä½¿ç”¨è®¸å¤šæ›´ç®€å•çš„å†…æ ¸å¹¶ä¼˜åŒ–çº¿ç¨‹ç»„ä¹‹é—´çš„æ•°æ®å¹¶è¡Œè¡Œä¸ºï¼Œæ›´å¤šçš„æ¯èŠ¯ç‰‡æ™¶ä½“ç®¡é¢„ç®—ç”¨äºŽè®¡ç®—ï¼Œè€Œæ›´å°‘ç”¨äºŽç‰‡ä¸Šé«˜é€Ÿç¼“å­˜å’Œå¼€é”€ã€‚ Processor ArrayA unifed GPU processor array contains many processor cores, typically organized into multithreaded multiprocessors. Figure C.2.5 shows a GPU with an array of 112 streaming processor (SP) cores, organized as 14 multithreaded streaming multiprocessors (SMs). Each SP core is highly multithreaded, managing 96 concurrent threads and their state in hardware. The processors connect with four 64-bit-wide DRAM partitions via an interconnection network. Each SM has eight SP cores, two special function units (SFUs), instruction and constant caches, a multithreaded instruction unit, and a shared memory. This is the basic Tesla architecture implemented by the NVIDIA GeForce 8800. It has a unifed architecture in which the traditional graphics programs for vertex, geometry, and pixel shading run on the unifed SMs and their SP cores, and computing programs run on the same processors.ç»Ÿä¸€GPUå¤„ç†å™¨é˜µåˆ—åŒ…å«è®¸å¤šå¤„ç†å™¨å†…æ ¸ï¼Œé€šå¸¸ç»„ç»‡æˆå¤šçº¿ç¨‹å¤šå¤„ç†å™¨ã€‚ å›¾C.2.5æ˜¾ç¤ºäº†ä¸€ä¸ªå…·æœ‰112ä¸ªæµå¤„ç†å™¨ï¼ˆSPï¼‰å†…æ ¸é˜µåˆ—çš„GPUï¼Œç»„ç»‡ä¸º14ä¸ªå¤šçº¿ç¨‹æµå¤šå¤„ç†å™¨ï¼ˆSMï¼‰ã€‚ æ¯ä¸ªSPæ ¸å¿ƒéƒ½æ˜¯é«˜åº¦å¤šçº¿ç¨‹çš„ï¼Œç®¡ç†96ä¸ªå¹¶å‘çº¿ç¨‹åŠå…¶ç¡¬ä»¶çŠ¶æ€ã€‚ å¤„ç†å™¨é€šè¿‡äº’è¿žç½‘ç»œè¿žæŽ¥å››ä¸ª64ä½å®½çš„DRAMåˆ†åŒºã€‚ æ¯ä¸ªSMæœ‰8ä¸ªSPå†…æ ¸ï¼Œ2ä¸ªç‰¹æ®ŠåŠŸèƒ½å•å…ƒï¼ˆSFUï¼‰ï¼ŒæŒ‡ä»¤å’Œå¸¸é‡é«˜é€Ÿç¼“å­˜ï¼Œå¤šçº¿ç¨‹æŒ‡ä»¤å•å…ƒå’Œå…±äº«å­˜å‚¨å™¨ã€‚ è¿™æ˜¯ç”±NVIDIA GeForce 8800å®žçŽ°çš„åŸºæœ¬Teslaæž¶æž„ã€‚å®ƒé‡‡ç”¨ç»Ÿä¸€æž¶æž„ï¼Œå…¶ä¸­é¡¶ç‚¹ï¼Œå‡ ä½•å’Œåƒç´ ç€è‰²çš„ä¼ ç»Ÿå›¾å½¢ç¨‹åºåœ¨ç»Ÿä¸€çš„SMåŠå…¶SPå†…æ ¸ä¸Šè¿è¡Œï¼Œè®¡ç®—ç¨‹åºåœ¨ç›¸åŒçš„å¤„ç†å™¨ä¸Šè¿è¡Œã€‚The processor array architecture is scalable to smaller and larger GPU confgurations by scaling the number of multiprocessors and the number of memory partitions. Figure C.2.5 shows seven clusters of two SMs sharing a texture unit and a texture L1 cache. The texture unit delivers filtered results to the SM given a set of coordinates into a texture map. Because filter regions of support often overlap for successive texture requests, a small streaming L1 texture cache is effective to reduce the number of requests to the memory system. The processor array connects with raster operation processors (ROPs), L2 texture caches, external DRAM memories, and system memory via a GPU-wide interconnection network. The number of processors and number of memories can scale to design balanced GPU systems for different performance and market segments.é€šè¿‡æ‰©å±•å¤šå¤„ç†å™¨çš„æ•°é‡å’Œå†…å­˜åˆ†åŒºçš„æ•°é‡ï¼Œå¤„ç†å™¨é˜µåˆ—æž¶æž„å¯æ‰©å±•åˆ°è¶Šæ¥è¶Šå°çš„GPUé…ç½®ã€‚ å›¾C.2.5æ˜¾ç¤ºäº†å…±äº«çº¹ç†å•å…ƒå’Œçº¹ç†L1ç¼“å­˜çš„ä¸¤ä¸ªSMçš„ä¸ƒä¸ªç°‡ã€‚ çº¹ç†å•å…ƒå°†è¿‡æ»¤ç»“æžœä¼ é€’ç»™SMï¼Œç»™å®šä¸€ç»„åæ ‡åˆ°çº¹ç†è´´å›¾ä¸­ã€‚ å› ä¸ºæ”¯æŒçš„è¿‡æ»¤å™¨åŒºåŸŸç»å¸¸ä¸Žè¿žç»­çš„çº¹ç†è¯·æ±‚é‡å ï¼Œæ‰€ä»¥å°çš„æµå¼L1çº¹ç†é«˜é€Ÿç¼“å­˜å¯¹äºŽå‡å°‘å¯¹å­˜å‚¨å™¨ç³»ç»Ÿçš„è¯·æ±‚çš„æ•°é‡æ˜¯æœ‰æ•ˆçš„ã€‚ å¤„ç†å™¨é˜µåˆ—é€šè¿‡GPUèŒƒå›´çš„äº’è¿žç½‘ç»œä¸Žå…‰æ …æ“ä½œå¤„ç†å™¨ï¼ˆROPï¼‰ï¼ŒL2çº¹ç†é«˜é€Ÿç¼“å­˜ï¼Œå¤–éƒ¨DRAMå­˜å‚¨å™¨å’Œç³»ç»Ÿå­˜å‚¨å™¨è¿žæŽ¥ã€‚ å¤„ç†å™¨çš„æ•°é‡å’Œå­˜å‚¨å™¨çš„æ•°é‡å¯ä»¥æ‰©å±•ï¼Œä»¥è®¾è®¡ç”¨äºŽä¸åŒæ€§èƒ½å’Œç»†åˆ†å¸‚åœºçš„å¹³è¡¡GPUç³»ç»Ÿã€‚]]></content>
      <categories>
        <category>GPUç›¸å…³</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1_å›¾å½¢å’Œè®¡ç®—GPU]]></title>
    <url>%2F2019%2F01%2F11%2FGraphics_and_Computing_GPUs%2F</url>
    <content type="text"><![CDATA[This appendix focuses on the GPUâ€”the ubiquitous graphics processing unit in every PC, laptop, desktop computer, and workstation. In its most basic form, the GPU generates 2D and 3D graphics, images, and video that enable windowbased operating systems, graphical user interfaces, video games, visual imaging applications, and video. The modern GPU that we describe here is a highly parallel, highly multithreaded multiprocessor optimized for visual computing. To provide real-time visual interaction with computed objects via graphics, images, and video, the GPU has a unifed graphics and computing architecture that serves as both a programmable graphics processor and a scalable parallel computing platform. PCs and game consoles combine a GPU with a CPU to form heterogeneous systems. æœ¬é™„å½•é‡ç‚¹ä»‹ç»GPUâ€”â€”æ¯å°PCï¼Œç¬”è®°æœ¬ç”µè„‘ï¼Œå°å¼æœºå’Œå·¥ä½œç«™ä¸­æ— å¤„ä¸åœ¨çš„å›¾å½¢å¤„ç†å•å…ƒã€‚ GPUæœ€åŸºæœ¬çš„åŠŸèƒ½æ˜¯ç”Ÿæˆ2Då’Œ3Då›¾å½¢ï¼Œå›¾åƒå’Œè§†é¢‘ï¼Œä»¥åŠæ”¯æŒåŸºäºŽçª—å£çš„æ“ä½œç³»ç»Ÿï¼Œå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œè§†é¢‘æ¸¸æˆï¼Œè§†è§‰æˆåƒåº”ç”¨ç¨‹åºå’Œè§†é¢‘ã€‚ æˆ‘ä»¬åœ¨è¿™é‡Œæè¿°çš„çŽ°ä»£GPUæ˜¯ä¸€ä¸ªé«˜åº¦å¹¶è¡Œï¼Œé«˜åº¦å¤šçº¿ç¨‹çš„å¤šå¤„ç†å™¨ï¼Œé’ˆå¯¹è§†è§‰è®¡ç®—è¿›è¡Œäº†ä¼˜åŒ–ã€‚ ä¸ºäº†é€šè¿‡å›¾å½¢ï¼Œå›¾åƒå’Œè§†é¢‘æä¾›ä¸Žè®¡ç®—å¯¹è±¡çš„å®žæ—¶å¯è§†äº¤äº’ï¼ŒGPUå…·æœ‰ç»Ÿä¸€çš„å›¾å½¢å’Œè®¡ç®—æž¶æž„ï¼Œå¯ç”¨ä½œå¯ç¼–ç¨‹å›¾å½¢å¤„ç†å™¨å’Œå¯æ‰©å±•çš„å¹¶è¡Œè®¡ç®—å¹³å°ã€‚ PCå’Œæ¸¸æˆä¸»æœºï¼ˆgame consoleï¼‰å°†GPUä¸ŽCPUç›¸ç»“åˆï¼Œå½¢æˆå¼‚æž„ç³»ç»Ÿã€‚ graphics processing unit (gpu) ï¼š a processor optimized for 2d and 3d graphics, video, visual computing, and display ä¸€ç§é’ˆå¯¹2Då’Œ3Då›¾å½¢ï¼Œè§†é¢‘ï¼Œè§†è§‰è®¡ç®—å’Œæ˜¾ç¤ºè¿›è¡Œäº†ä¼˜åŒ–çš„å¤„ç†å™¨ visual computingè§†è§‰è®¡ç®— ï¼ša mix of graphics processing and computing that lets you visually interact with computed objects via graphics, images, and video ä¸€ç§å›¾å½¢å¤„ç†å’Œè®¡ç®—çš„æ··åˆï¼Œä½¿ä½ å¯ä»¥é€šè¿‡å›¾å½¢ã€å›¾åƒå’Œè§†é¢‘ä¸Žè®¡ç®—å¯¹è±¡è¿›è¡Œå¯è§†åŒ–äº¤äº’ã€‚ heterogeneous system: A system combining different processor types. A PC is a heterogeneous CPUâ€“GPU system. ä¸€ç§ç»„åˆäº†ä¸åŒå¤„ç†å™¨ç±»åž‹çš„ç³»ç»Ÿã€‚ PCå°±æ˜¯ä¸€ç§å¼‚æž„CPU-GPUç³»ç»Ÿã€‚ A Brief History of GPU Evolution GPUå‘å±•ç®€å²fifteen years ago, there was no such thing as a gpu. graphics on a pc were performed by a video graphics array (vga) controller. a vga controller was simply a memory controller and display generator connected to some DRAM. in the 1990s, semiconductor technology advanced sufciently that more functions could be added to the vga controller. by 1997, vga controllers were beginning to incorporate some three-dimensional (3d) acceleration functions, including hardware for triangle setup and rasterization (dicing triangles into individual pixels) and texture mapping and shading (applying â€œdecalsâ€ or patterns to pixels and blending colors).åäº”å¹´å‰ï¼Œè¿˜æ²¡æœ‰åƒGPUè¿™æ ·çš„ä¸œè¥¿ã€‚ PCä¸Šçš„å›¾å½¢ç”±è§†é¢‘å›¾å½¢é˜µåˆ—ï¼ˆvideo graphics array ,VGAï¼‰æŽ§åˆ¶å™¨å±•çŽ°ã€‚ VGAæŽ§åˆ¶å™¨åªæ˜¯ä¸€ä¸ªè¿žæŽ¥åˆ°æŸäº›DRAMçš„å­˜å‚¨å™¨æŽ§åˆ¶å™¨å’Œæ˜¾ç¤ºå‘ç”Ÿå™¨ã€‚ åœ¨20ä¸–çºª90å¹´ä»£ï¼ŒåŠå¯¼ä½“æŠ€æœ¯å……åˆ†å‘å±•ï¼Œå¯ä»¥åœ¨VGAæŽ§åˆ¶å™¨ä¸­æ·»åŠ æ›´å¤šåŠŸèƒ½ã€‚ åˆ°1997å¹´ï¼ŒVGAæŽ§åˆ¶å™¨å¼€å§‹é‡‡ç”¨ä¸€äº›ä¸‰ç»´ï¼ˆ3dï¼‰åŠ é€ŸåŠŸèƒ½ï¼ŒåŒ…æ‹¬ç”¨äºŽä¸‰è§’å½¢è®¾ç½®ï¼ˆTriangle Setupï¼‰å’Œå…‰æ …åŒ–(Rasterization)çš„ç¡¬ä»¶ï¼ˆå°†ä¸‰è§’å½¢åˆ‡å‰²æˆå•ä¸ªåƒç´ ï¼‰å’Œçº¹ç†æ˜ å°„å’Œç€è‰²ï¼ˆå°†â€œè´´èŠ±â€æˆ–å›¾æ¡ˆåº”ç”¨äºŽåƒç´ å’Œæ··åˆé¢œè‰²ï¼‰ã€‚ In 2000, the single chip graphics processor incorporated almost every detail of the traditional high-end workstation graphics pipeline and, therefore, deserved a new name beyond vga controller. the term gpu was coined to denote that the graphics device had become a processor.2000å¹´ï¼Œå•èŠ¯ç‰‡å›¾å½¢å¤„ç†å™¨å‡ ä¹Žæ•´åˆäº†ä¼ ç»Ÿé«˜ç«¯å·¥ä½œç«™å›¾å½¢ç®¡é“çš„æ¯ä¸ªç»†èŠ‚ï¼Œå› æ­¤ï¼Œå®ƒåº”å½“æœ‰ä¸€ä¸ªé™¤VGAå¤–çš„å…¨æ–°çš„åç§°ã€‚ æœ¯è¯­GPUè¢«ç”¨æ¥è¡¨ç¤ºè¿™ä¸ªå›¾å½¢è®¾å¤‡ï¼ˆgraphics deviceï¼‰å·²æˆä¸ºä¸€ç§å¤„ç†å™¨ã€‚ Over time, GPUs became more programmable, as programmable processors replaced fixed function dedicated logic while maintaining the basic 3D graphics pipeline organization. In addition, computations became more precise over time, progressing from indexed arithmetic, to integer and fixed point, to single precision ï¬‚oating-point, and recently to double precision ï¬‚oating-point. GPUs have become massively parallel programmable processors with hundreds of cores and thousands of threads. éšç€æ—¶é—´çš„æŽ¨ç§»ï¼ŒGPUå˜å¾—æ›´åŠ å¯ç¼–ç¨‹ï¼Œå› ä¸ºå¯ç¼–ç¨‹å¤„ç†å™¨å–ä»£äº†å›ºå®šåŠŸèƒ½ä¸“ç”¨é€»è¾‘ï¼ŒåŒæ—¶ä¿æŒäº†åŸºæœ¬çš„3Då›¾å½¢ç®¡é“ç»„ç»‡ã€‚æ­¤å¤–ï¼Œè®¡ç®—éšç€æ—¶é—´çš„æŽ¨ç§»å˜å¾—æ›´åŠ ç²¾ç¡®ï¼Œä»Žç´¢å¼•ç®—æœ¯(indexed arithmetic)ï¼Œæ•´æ•°å’Œå›ºå®šç‚¹ï¼Œåˆ°å•ç²¾åº¦æµ®ç‚¹ï¼Œæœ€è¿‘åˆåˆ°åŒç²¾åº¦æµ®ç‚¹ã€‚ GPUå·²æˆä¸ºå…·æœ‰æ•°ç™¾ä¸ªå†…æ ¸å’Œæ•°åƒä¸ªçº¿ç¨‹çš„å¤§è§„æ¨¡å¹¶è¡Œå¯ç¼–ç¨‹å¤„ç†å™¨ã€‚ Recently, processor instructions and memory hardware were added to support general purpose programming languages, and a programming environment was created to allow GPUs to be programmed using familiar languages, including C and C++. This innovation makes a GPU a fully general-purpose, programmable, manycore processor, albeit still with some special benefits and limitations.æœ€è¿‘ï¼Œæ·»åŠ äº†å¤„ç†å™¨æŒ‡ä»¤å’Œå­˜å‚¨å™¨ç¡¬ä»¶ä»¥æ”¯æŒé€šç”¨ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶ä¸”åˆ›å»ºäº†ç¼–ç¨‹çŽ¯å¢ƒä»¥å…è®¸ä½¿ç”¨ç†Ÿæ‚‰çš„è¯­è¨€ï¼ˆåŒ…æ‹¬Cå’ŒC ++ï¼‰å¯¹GPUè¿›è¡Œç¼–ç¨‹ã€‚ è¿™é¡¹åˆ›æ–°ä½¿GPUæˆä¸ºä¸€ä¸ªå®Œå…¨é€šç”¨çš„å¯ç¼–ç¨‹å¤šæ ¸å¤„ç†å™¨ï¼Œå°½ç®¡ä»æœ‰ä¸€äº›ç‰¹æ®Šçš„å¥½å¤„å’Œå±€é™ã€‚ GPU Graphics Trends GPUå›¾å½¢çš„å‘å±•è¶‹åŠ¿GPUs and their associated drivers implement the OpenGL and DirectX models of graphics processing. OpenGL is an open standard for 3D graphics programming available for most computers. DirectX is a series of Microsof multimedia programming interfaces, including Direct3D for 3D graphics. Since these application programming interfaces (APIs) have well-defned behavior, it is possible to build effective hardware acceleration of the graphics processing functions defned by the APIs. This is one of the reasons (in addition to increasing device density) why new GPUs are being developed every 12 to 18 months that double the performance of the previous generation on existing applications.GPUåŠå…¶ç›¸å…³é©±åŠ¨ç¨‹åºå®žçŽ°äº†å›¾å½¢å¤„ç†çš„OpenGLå’ŒDirectXæ¨¡åž‹ã€‚ OpenGLæ˜¯å¤§å¤šæ•°è®¡ç®—æœºå¯ç”¨çš„3Då›¾å½¢ç¼–ç¨‹çš„å¼€æ”¾æ ‡å‡†ã€‚ DirectXæ˜¯ä¸€ç³»åˆ—Microsofå¤šåª’ä½“ç¼–ç¨‹æŽ¥å£ï¼ŒåŒ…æ‹¬ç”¨äºŽ3Då›¾å½¢çš„Direct3Dã€‚ ç”±äºŽè¿™äº›åº”ç”¨ç¨‹åºç¼–ç¨‹æŽ¥å£ï¼ˆAPIï¼‰å…·æœ‰è‰¯å¥½çš„è¡Œä¸ºï¼Œå› æ­¤å¯ä»¥æž„å»ºç”±APIå®šä¹‰çš„å›¾å½¢å¤„ç†åŠŸèƒ½çš„æœ‰æ•ˆç¡¬ä»¶åŠ é€Ÿã€‚ è¿™æ˜¯ä¸ºä»€ä¹ˆï¼ˆé™¤äº†å¢žåŠ è®¾å¤‡å¯†åº¦ä¹‹å¤–ï¼‰æ¯12åˆ°18ä¸ªæœˆå¼€å‘æ–°GPUä»¥ä½¿çŽ°æœ‰åº”ç”¨çš„å‰ä¸€ä»£æ€§èƒ½ç¿»å€çš„åŽŸå› ä¹‹ä¸€ã€‚ application programming interface (API) : A set of function and data structure definitions providing aninterface to a library of functions. ä¸€ç»„å‡½æ•°å’Œæ•°æ®ç»“æž„å®šä¹‰ï¼Œæä¾›äº†å‡½æ•°åº“çš„æŽ¥å£ã€‚ Frequent doubling of GPU performance enables new applications that were not previously possible. The intersection of graphics processing and parallel computing invites a new paradigm for graphics, known as visual computing. It replaces large sections of the traditional sequential hardware graphics pipeline model with programmable elements for geometry, vertex, and pixel programs.Visual computing in a modern GPU combines graphics processing and parallel computing in novel ways that permit new graphics algorithms to be implemented, and opens the door to entirely new parallel processing applications on pervasive high-performance GPUs.GPUæ€§èƒ½çš„é¢‘ç¹åŠ å€å¯å®žçŽ°ä»¥å‰æ— æ³•å®žçŽ°çš„æ–°åº”ç”¨ç¨‹åºã€‚ å›¾å½¢å¤„ç†å’Œå¹¶è¡Œè®¡ç®—çš„äº¤é›†å¼•å‘äº†ä¸€ç§æ–°çš„å›¾å½¢èŒƒä¾‹ï¼Œç§°ä¸ºè§†è§‰è®¡ç®—ã€‚ å®ƒå°†ä¼ ç»Ÿé¡ºåºç¡¬ä»¶å›¾å½¢ç®¡é“æ¨¡åž‹çš„å¤§éƒ¨åˆ†æ›¿æ¢ä¸ºå‡ ä½•ï¼Œé¡¶ç‚¹å’Œåƒç´ ç¨‹åºçš„å¯ç¼–ç¨‹å…ƒç´ ã€‚çŽ°ä»£GPUä¸­çš„å¯è§†è®¡ç®—ä»¥æ–°é¢–çš„æ–¹å¼å°†å›¾å½¢å¤„ç†å’Œå¹¶è¡Œè®¡ç®—ç›¸ç»“åˆï¼Œå…è®¸å®žçŽ°æ–°çš„å›¾å½¢ç®—æ³•ï¼Œå¹¶æ‰“å¼€ åœ¨æ™®åŠçš„é«˜æ€§èƒ½GPUä¸Šå®žçŽ°å…¨æ–°å¹¶è¡Œå¤„ç†åº”ç”¨çš„å¤§é—¨ã€‚ Heterogeneous System å¼‚æž„ç³»ç»ŸAlthough the GPU is arguably the most parallel and most powerful processor in a typical PC, it is certainly not the only processor. The CPU, now multicore and soon to be manycore, is a complementary, primarily serial processor companion to the massively parallel manycore GPU. Together, these two types of processors comprise a heterogeneous multiprocessor system.è™½ç„¶GPUå¯ä»¥è¯´æ˜¯å…¸åž‹PCä¸­æœ€å¹¶è¡Œï¼Œæœ€å¼ºå¤§çš„å¤„ç†å™¨ï¼Œä½†å®ƒè‚¯å®šä¸æ˜¯å”¯ä¸€çš„å¤„ç†å™¨ã€‚ CPUï¼ŒçŽ°åœ¨æ˜¯å¤šæ ¸(multicore)çš„ï¼Œå¾ˆå¿«å°±ä¼šæˆä¸ºä¼—æ ¸ï¼ˆmanycoreï¼‰ï¼Œæ˜¯å¤§è§„æ¨¡å¹¶è¡Œå¤šæ ¸GPUäº’è¡¥çš„ï¼Œé‡è¦çš„ä¸²è¡Œå¤„ç†å™¨ä¼™ä¼´ï¼ˆå¥½æ‹—å£ï¼‰ã€‚ è¿™ä¸¤ç§ç±»åž‹çš„å¤„ç†å™¨ä¸€èµ·æž„æˆäº†å¼‚æž„å¤šå¤„ç†å™¨ç³»ç»Ÿã€‚ The best performance for many applications comes from using both the CPU and the GPU. Tis appendix will help you understand how and when to best split the work between these two increasingly parallel processors.è®¸å¤šåº”ç”¨ç¨‹åºçš„æœ€ä½³æ€§èƒ½æ¥è‡ªäºŽä½¿ç”¨CPUå’ŒGPUã€‚ é™„å½•å°†å¸®åŠ©æ‚¨äº†è§£å¦‚ä½•ä»¥åŠä½•æ—¶æœ€å¥½åœ°åˆ†å‰²è¿™ä¸¤ä¸ªæ—¥ç›Šå¹¶è¡Œçš„å¤„ç†å™¨ä¹‹é—´çš„å·¥ä½œã€‚ GPU Evolves into Scalable Parallel Processor GPUå‘å±•æˆå¯æ‰©å±•çš„å¹¶è¡Œå¤„ç†å™¨GPUs have evolved functionally from hardwired, limited capability VGA controllers to programmable parallel processors. This evolution has proceeded by changing the logical (API-based) graphics pipeline to incorporate programmable elements and also by making the underlying hardware pipeline stages less specialized and more programmable. Eventually, it made sense to merge disparate programmable pipeline elements into one unifed array of many programmable processors.GPUå·²ç»ä»Žç¡¬è¿žçº¿ï¼Œæœ‰é™åŠŸèƒ½çš„VGAæŽ§åˆ¶å™¨å‘å±•åˆ°å¯ç¼–ç¨‹å¹¶è¡Œå¤„ç†å™¨ã€‚ é€šè¿‡æ”¹å˜é€»è¾‘ï¼ˆåŸºäºŽAPIï¼‰çš„å›¾å½¢æµæ°´çº¿ä»¥ç»“åˆå¯ç¼–ç¨‹å…ƒä»¶ä»¥åŠé€šè¿‡ä½¿åº•å±‚ç¡¬ä»¶æµæ°´çº¿é˜¶æ®µä¸é‚£ä¹ˆä¸“ä¸šåŒ–å’Œæ›´å¯ç¼–ç¨‹æ¥è¿›è¡Œè¿™ç§æ¼”å˜ã€‚ æœ€ç»ˆï¼Œå°†ä¸åŒçš„å¯ç¼–ç¨‹æµæ°´çº¿å…ƒä»¶åˆå¹¶åˆ°ä¸€ä¸ªç”±å¤šä¸ªå¯ç¼–ç¨‹å¤„ç†å™¨ç»„æˆçš„ç»Ÿä¸€é˜µåˆ—ä¸­æ˜¯æœ‰æ„ä¹‰çš„ã€‚In the GeForce 8-series generation of GPUs, the geometry, vertex, and pixel processing all run on the same type of processor. This unification allows for dramatic scalability. More programmable processor cores increase the total system throughput. Unifying the processors also delivers very eï¬€ective load balancing, since any processing function can use the whole processor array. At the other end of the spectrum, a processor array can now be built with very few processors, since all of the functions can be run on the same processors.åœ¨GeForce 8ç³»åˆ—GPUä¸­ï¼Œå‡ ä½•ï¼Œé¡¶ç‚¹å’Œåƒç´ å¤„ç†éƒ½åœ¨åŒä¸€ç±»åž‹çš„å¤„ç†å™¨ä¸Šè¿è¡Œã€‚ è¿™ç§ç»Ÿä¸€å…è®¸æ˜¾ç€çš„å¯æ‰©å±•æ€§ã€‚ æ›´å¤šå¯ç¼–ç¨‹å¤„ç†å™¨å†…æ ¸å¯æé«˜ç³»ç»Ÿæ€»åžåé‡ã€‚ ç»Ÿä¸€å¤„ç†å™¨è¿˜å¯ä»¥æä¾›éžå¸¸æœ‰æ•ˆçš„è´Ÿè½½å¹³è¡¡ï¼Œå› ä¸ºä»»ä½•å¤„ç†åŠŸèƒ½éƒ½å¯ä»¥ä½¿ç”¨æ•´ä¸ªå¤„ç†å™¨é˜µåˆ—ã€‚ å¦ä¸€æ–¹é¢ï¼Œå¤„ç†å™¨é˜µåˆ—çŽ°åœ¨å¯ä»¥ç”¨å¾ˆå°‘çš„å¤„ç†å™¨æž„å»ºï¼Œå› ä¸ºæ‰€æœ‰åŠŸèƒ½éƒ½å¯ä»¥åœ¨ç›¸åŒçš„å¤„ç†å™¨ä¸Šè¿è¡Œã€‚ Why CUDA and GPU Computing? ä¸ºä»€ä¹ˆé€‰æ‹©CUDAå’ŒGPUè®¡ç®—ï¼ŸThis uniform and scalable array of processors invites a new model of programming for the GPU. The large amount of ï¬‚oating-point processing power in the GPU processor array is very attractive for solving nongraphics problems. Given the large degree of parallelism and the range of scalability of the processor array for graphics applications, the programming model for more general computing must express the massive parallelism directly, but allow for scalable execution.è¿™ç§ç»Ÿä¸€ä¸”å¯æ‰©å±•çš„å¤„ç†å™¨é˜µåˆ—ä¸ºGPUæä¾›äº†ä¸€ç§æ–°çš„ç¼–ç¨‹æ¨¡åž‹ã€‚ GPUå¤„ç†å™¨é˜µåˆ—ä¸­çš„å¤§é‡æµ®ç‚¹å¤„ç†èƒ½åŠ›å¯¹äºŽè§£å†³éžå›¾å½¢é—®é¢˜éžå¸¸æœ‰å¸å¼•åŠ›ã€‚ é‰´äºŽç”¨äºŽå›¾å½¢åº”ç”¨ç¨‹åºçš„å¤„ç†å™¨é˜µåˆ—çš„é«˜åº¦å¹¶è¡Œæ€§å’Œå¯æ‰©å±•æ€§èŒƒå›´ï¼Œç”¨äºŽæ›´ä¸€èˆ¬è®¡ç®—çš„ç¼–ç¨‹æ¨¡åž‹å¿…é¡»ç›´æŽ¥è¡¨è¾¾å¤§è§„æ¨¡å¹¶è¡Œæ€§ï¼Œä½†å…è®¸å¯ä¼¸ç¼©æ‰§è¡Œã€‚ GPU computing is the term coined for using the GPU for computing via a parallel programming language and API, without using the traditional graphics API and graphics pipeline model. This is in contrast to the earlier General Purpose computation on GPU (GPGPU) approach, which involves programming the GPU using a graphics API and graphics pipeline to perform nongraphics tasks.GPUè®¡ç®—æ˜¯é€šè¿‡å¹¶è¡Œç¼–ç¨‹è¯­è¨€å’ŒAPIä½¿ç”¨GPUè¿›è¡Œè®¡ç®—è€Œåˆ›é€ çš„æœ¯è¯­ï¼Œè€Œä¸ä½¿ç”¨ä¼ ç»Ÿçš„å›¾å½¢APIå’Œå›¾å½¢ç®¡é“æ¨¡åž‹ã€‚ è¿™ä¸Žæ—©æœŸçš„GPUä¸Šé€šç”¨è®¡ç®—ï¼ˆGPGPUï¼‰æ–¹æ³•å½¢æˆå¯¹æ¯”ï¼ŒåŽè€…æ¶‰åŠä½¿ç”¨å›¾å½¢APIå’Œå›¾å½¢ç®¡é“å¯¹GPUè¿›è¡Œç¼–ç¨‹ä»¥æ‰§è¡Œéžå›¾å½¢ä»»åŠ¡ã€‚ GPU computing : Using a GPU for computing via a parallel programming language and API. ä½¿ç”¨GPUé€šè¿‡å¹¶è¡Œç¼–ç¨‹è¯­è¨€å’ŒAPIè¿›è¡Œè®¡ç®—ã€‚GPGPU : Using a GPU for general-purpose computation via a traditional graphics API and graphics pipeline.é€šè¿‡ä¼ ç»Ÿçš„å›¾å½¢APIå’Œå›¾å½¢ç®¡é“å°†GPUç”¨äºŽé€šç”¨è®¡ç®—ã€‚ Compute Unifed Device Architecture (CUDA) is a scalable parallel programming model and sofware platform for the GPU and other parallel processors that allows the programmer to bypass the graphics API and graphics interfaces of the GPU and simply program in C or C++. The CUDA programming model has an SPMD (single-program multiple data) software style, in which a programmer writes a program for one thread that is instanced and executed by many threads in parallel on the multiple processors of the GPU. In fact, CUDA also provides a facility for programming multiple CPU cores as well, so CUDA is an environment for writing parallel programs for the entire heterogeneous computer system.è®¡ç®—ç»Ÿä¸€è®¾å¤‡æž¶æž„ï¼ˆCUDAï¼‰æ˜¯GPUå’Œå…¶ä»–å¹¶è¡Œå¤„ç†å™¨çš„å¯æ‰©å±•å¹¶è¡Œç¼–ç¨‹æ¨¡åž‹å’Œè½¯ä»¶å¹³å°ï¼Œå…è®¸ç¨‹åºå‘˜ç»•è¿‡GPUçš„å›¾å½¢APIå’Œå›¾å½¢æŽ¥å£ï¼Œåªéœ€ç”¨Cæˆ–C ++ç¼–ç¨‹ã€‚ CUDAç¼–ç¨‹æ¨¡åž‹å…·æœ‰SPMDï¼ˆå•ç¨‹åºå¤šæ•°æ®ï¼‰çš„è½¯ä»¶é£Žæ ¼ï¼Œå…¶ä¸­ç¨‹åºå‘˜ä¸ºä¸€ä¸ªçº¿ç¨‹ç¼–å†™ç¨‹åºï¼Œè¯¥ç¨‹åºç”±å¤šä¸ªçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œå¹¶ç”±GPUçš„å¤šä¸ªå¤„ç†å™¨æ‰§è¡Œã€‚ å®žé™…ä¸Šï¼ŒCUDAä¹Ÿæä¾›äº†ç¼–ç¨‹å¤šä¸ªCPUå†…æ ¸çš„å·¥å…·ï¼Œå› æ­¤CUDAæ˜¯ä¸€ä¸ªä¸ºæ•´ä¸ªå¼‚æž„è®¡ç®—æœºç³»ç»Ÿç¼–å†™å¹¶è¡Œç¨‹åºçš„çŽ¯å¢ƒã€‚ CUDA: A scalable parallel programming model and language based on C/C++. It is a parallel programming platform for GPUs and multicore CPUs ä¸€ç§å¯æ‰©å±•çš„å¹¶è¡Œç¼–ç¨‹æ¨¡åž‹å’ŒåŸºäºŽC / C ++çš„è¯­è¨€ã€‚ å®ƒæ˜¯GPUå’Œå¤šæ ¸CPUçš„å¹¶è¡Œç¼–ç¨‹å¹³å° GPU Unifes Graphics and Computing GPUç»Ÿä¸€äº†å›¾å½¢å’Œè®¡ç®—With the addition of CUDA and GPU computing to the capabilities of the GPU, it is now possible to use the GPU as both a graphics processor and a computing processor at the same time, and to combine these uses in visual computing applications. The underlying processor architecture of the GPU is exposed in two ways: first, as implementing the programmable graphics APIs, and second, as a massively parallel processor array programmable in C/C++ with CUDA.é€šè¿‡å°†CUDAå’ŒGPUè®¡ç®—æ·»åŠ åˆ°GPUçš„åŠŸèƒ½ï¼ŒçŽ°åœ¨å¯ä»¥åŒæ—¶å°†GPUç”¨ä½œå›¾å½¢å¤„ç†å™¨å’Œè®¡ç®—å¤„ç†å™¨ï¼Œå¹¶å°†è¿™äº›ç”¨é€”ç»“åˆåœ¨è§†è§‰è®¡ç®—åº”ç”¨ä¸­ã€‚ GPUçš„åº•å±‚å¤„ç†å™¨æž¶æž„ä»¥ä¸¤ç§æ–¹å¼æš´éœ²ï¼šç¬¬ä¸€ï¼Œä½œä¸ºå®žçŽ°å¯ç¼–ç¨‹å›¾å½¢APIï¼Œç¬¬äºŒï¼Œä½œä¸ºä½¿ç”¨CUDAåœ¨C / C ++ä¸­ç¼–ç¨‹çš„å¤§è§„æ¨¡å¹¶è¡Œå¤„ç†å™¨é˜µåˆ—ã€‚Although the underlying processors of the GPU are unified, it is not necessary that all of the SPMD thread programs are the same. The GPU can run graphics shader programs for the graphics aspect of the GPU, processing geometry, vertices, and pixels, and also run thread programs in CUDA.è™½ç„¶GPUçš„åº•å±‚å¤„ç†å™¨æ˜¯ç»Ÿä¸€çš„ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„SPMDçº¿ç¨‹ç¨‹åºéƒ½æ˜¯ç›¸åŒçš„ã€‚ GPUå¯ä»¥ä¸ºGPUçš„å›¾å½¢æ–¹é¢è¿è¡Œå›¾å½¢ç€è‰²å™¨ç¨‹åºï¼Œå¤„ç†å‡ ä½•ï¼Œé¡¶ç‚¹å’Œåƒç´ ï¼Œè¿˜å¯ä»¥åœ¨CUDAä¸­è¿è¡Œçº¿ç¨‹ç¨‹åºã€‚The GPU is truly a versatile multiprocessor architecture, supporting a variety of processing tasks. GPUs are excellent at graphics and visual computing as they were specifcally designed for these applications. GPUs are also excellent at many generalpurpose throughput applications that are â€œfirst cousinsâ€ of graphics, in that they perform a lot of parallel work, as well as having a lot of regular problem structure. In general, they are a good match to data-parallel problems (see Chapter 6), particularly large problems, but less so for less regular, smaller problems.GPUæ˜¯çœŸæ­£çš„å¤šåŠŸèƒ½å¤šå¤„ç†å™¨æž¶æž„ï¼Œæ”¯æŒå„ç§å¤„ç†ä»»åŠ¡ã€‚ GPUåœ¨å›¾å½¢å’Œè§†è§‰è®¡ç®—æ–¹é¢éžå¸¸å‡ºè‰²ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸“é—¨ä¸ºè¿™äº›åº”ç”¨ç¨‹åºè®¾è®¡çš„ã€‚ GPUåœ¨è®¸å¤šé€šç”¨åžåé‡åº”ç”¨ç¨‹åºä¸­ä¹Ÿéžå¸¸å‡ºè‰²ï¼Œè¿™äº›åº”ç”¨ç¨‹åºæ˜¯å›¾å½¢çš„â€œç¬¬ä¸€ä»£è¡¨çŽ°å½¢å¼â€ï¼Œå› ä¸ºå®ƒä»¬æ‰§è¡Œå¤§é‡å¹¶è¡Œå·¥ä½œï¼Œå¹¶ä¸”å…·æœ‰è®¸å¤šå¸¸è§„é—®é¢˜ç»“æž„ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå®ƒä»¬ä¸Žæ•°æ®å¹¶è¡Œé—®é¢˜ï¼ˆè§ç¬¬6ç« ï¼‰éžå¸¸åŒ¹é…ï¼Œç‰¹åˆ«æ˜¯å¤§é—®é¢˜ï¼Œä½†å¯¹äºŽä¸é‚£ä¹ˆè§„å¾‹ï¼Œè¾ƒå°çš„é—®é¢˜åˆ™ä¸é‚£ä¹ˆé‡è¦ã€‚ GPU Visual Computing Applications GPUè§†è§‰è®¡ç®—åº”ç”¨ç¨‹åºVisual computing includes the traditional types of graphics applications plus many new applications. The original purview of a GPU was â€œanything with pixels,â€ but it now includes many problems without pixels but with regular computation and/or data structure. GPUs are effective at 2D and 3D graphics, since that is the purpose for which they are designed. Failure to deliver this application performance would be fatal. 2D and 3D graphics use the GPU in its â€œgraphics modeâ€, accessing the processing power of the GPU through the graphics APIs, OpenGLâ„¢, and DirectXâ„¢. Games are built on the 3D graphics processing capability.è§†è§‰è®¡ç®—åŒ…æ‹¬ä¼ ç»Ÿç±»åž‹çš„å›¾å½¢åº”ç”¨ç¨‹åºä»¥åŠè®¸å¤šæ–°åº”ç”¨ç¨‹åºã€‚ GPUçš„åŽŸå§‹èŒƒå›´æ˜¯â€œä»»ä½•å¸¦æœ‰åƒç´ çš„ä¸œè¥¿â€ï¼Œä½†å®ƒçŽ°åœ¨åŒ…æ‹¬è®¸å¤šæ²¡æœ‰åƒç´ ä½†å…·æœ‰å¸¸è§„è®¡ç®—å’Œ/æˆ–æ•°æ®ç»“æž„çš„é—®é¢˜ã€‚ GPUåœ¨2Då’Œ3Då›¾å½¢ä¸Šæ˜¯æœ‰æ•ˆçš„ï¼Œå› ä¸ºè¿™æ˜¯å®ƒä»¬çš„è®¾è®¡ç›®çš„ã€‚ æœªèƒ½æä¾›æ­¤åº”ç”¨æ€§èƒ½(application performance)å°†æ˜¯è‡´å‘½çš„ã€‚ 2Då’Œ3Då›¾å½¢åœ¨å…¶â€œå›¾å½¢æ¨¡å¼â€ä¸­ä½¿ç”¨GPUï¼Œé€šè¿‡å›¾å½¢APIï¼ŒOpenGLâ„¢å’ŒDirectXâ„¢æ¥èŽ·å–GPUçš„å¤„ç†èƒ½åŠ›ã€‚ æ¸¸æˆæ˜¯åŸºäºŽ3Då›¾å½¢å¤„ç†åŠŸèƒ½çš„ã€‚ Application performance, è¿™æ˜¯ä»€ä¹ˆï¼Ÿæ„Ÿè§‰åƒæ˜¯åœ¨æŒ‡â€œåŠŸèƒ½â€ï¼Œæ¯”å¦‚æ²¡æœ‰æä¾›è¿™ä¸ªåŠŸèƒ½å°†æ˜¯è‡´å‘½çš„ Beyond 2D and 3D graphics, image processing and video are important applications for GPUs. These can be implemented using the graphics APIs or as computational programs, using CUDA to program the GPU in computing mode. Using CUDA, image processing is simply another data-parallel array program. To the extent that the data access is regular and there is good locality, the program will be efficient. In practice, image processing is a very good application for GPUs. Video processing, especially encode and decode (compression and decompression according to some standard algorithms), is quite efficient.é™¤äº†2Då’Œ3Då›¾å½¢ï¼Œå›¾åƒå¤„ç†å’Œè§†é¢‘æ˜¯GPUçš„é‡è¦åº”ç”¨ã€‚ è¿™äº›å¯ä»¥ä½¿ç”¨å›¾å½¢APIæˆ–è®¡ç®—ç¨‹åºæ¥å®žçŽ°ï¼Œä½¿ç”¨CUDAåœ¨è®¡ç®—æ¨¡å¼ä¸‹å¯¹GPUè¿›è¡Œç¼–ç¨‹ã€‚ ä½¿ç”¨CUDAï¼Œå›¾åƒå¤„ç†åªæ˜¯å¦ä¸€ç§æ•°æ®å¹¶è¡Œé˜µåˆ—ç¨‹åºã€‚ å¦‚æžœæ•°æ®è®¿é—®æ˜¯è§„åˆ™çš„å¹¶ä¸”å…·æœ‰è‰¯å¥½çš„ä½ç½®ï¼Œåˆ™è¯¥ç¨‹åºå°†æ˜¯æœ‰æ•ˆçš„ã€‚ å®žé™…ä¸Šï¼Œå›¾åƒå¤„ç†æ˜¯GPUçš„ä¸€ä¸ªéžå¸¸å¥½çš„åº”ç”¨ç¨‹åºã€‚ è§†é¢‘å¤„ç†ï¼Œå°¤å…¶æ˜¯ç¼–ç å’Œè§£ç ï¼ˆæ ¹æ®ä¸€äº›æ ‡å‡†ç®—æ³•è¿›è¡ŒåŽ‹ç¼©å’Œè§£åŽ‹ç¼©ï¼‰éžå¸¸æœ‰æ•ˆã€‚ The greatest opportunity for visual computing applications on GPUs is to â€œbreak the graphics pipeline.â€ Early GPUs implemented only specific graphics APIs, albeit at very high performance. This was wonderful if the API supported the operations that you wanted to do. If not, the GPU could not accelerate your task, because early GPU functionality was immutable. Now, with the advent of GPU computing and CUDA, these GPUs can be programmed to implement a different virtual pipeline by simply writing a CUDA program to describe the computation and data ï¬‚ow that is desired. So, all applications are now possible, which will stimulate new visual computing approaches.GPUä¸Šå¯è§†åŒ–è®¡ç®—åº”ç”¨ç¨‹åºçš„æœ€å¤§çš„æœºé‡æ˜¯â€œæ‰“ç ´å›¾å½¢ç®¡é“ã€‚â€ æ—©æœŸçš„GPUåªå®žçŽ°äº†ç‰¹å®šçš„å›¾å½¢APIï¼Œå°½ç®¡æ€§èƒ½éžå¸¸é«˜ã€‚ å¦‚æžœAPIæ”¯æŒä½ æƒ³è¦æ‰§è¡Œçš„æ“ä½œï¼Œé‚£å°±å¤ªæ£’äº†ã€‚ å¦‚æžœæ²¡æœ‰ï¼ŒGPUå°±æ— æ³•åŠ é€Ÿæ‚¨çš„ä»»åŠ¡ï¼Œå› ä¸ºæ—©æœŸçš„GPUåŠŸèƒ½æ˜¯ä¸å¯å˜çš„ã€‚ çŽ°åœ¨ï¼Œéšç€GPUè®¡ç®—å’ŒCUDAçš„å‡ºçŽ°ï¼Œè¿™äº›GPUå¯ä»¥é€šè¿‡ç¼–å†™CUDAç¨‹åºæ¥ç¼–ç¨‹å®žçŽ°ä¸åŒçš„è™šæ‹Ÿç®¡é“ï¼Œä»¥æè¿°æ‰€éœ€çš„è®¡ç®—å’Œæ•°æ®æµã€‚ å› æ­¤ï¼ŒçŽ°åœ¨æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½å¯ä»¥å®žçŽ°ï¼Œè¿™å°†åˆºæ¿€æ–°çš„è§†è§‰è®¡ç®—æ–¹æ³•ã€‚]]></content>
      <categories>
        <category>GPUç›¸å…³</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Telloç‰¹æ´›æ— äººæœºç¼–ç¨‹å°ç»“]]></title>
    <url>%2F2019%2F01%2F05%2FTello%2F</url>
    <content type="text"><![CDATA[ç ”ç©¶äº†ä¸€ä¸‹Telloæ— äººæœºçš„ç¼–ç¨‹ï¼Œç»“æžœå‘çŽ°è¿™çŽ©å…·çš„ç¼–ç¨‹è¿˜çœŸçš„æ˜¯ç®€å•ã€‚å®˜æ–¹ç»™äº†ä¸€ä¸ªæ•™ç¨‹æ˜¯ä½¿ç”¨scratchå¹³å°è¿›è¡Œç¼–ç¨‹ï¼Œç„¶è€Œå±€é™æ€§æœ‰ç‚¹å¤§ï¼Œç§¯æœ¨å°±é‚£å‡ ä¸ªè€ŒSDKä¸­çš„APIè¦æ›´å¤šä¸€äº›ã€‚å¯¹äºŽæœ‰ç‚¹ç¼–ç¨‹åŸºç¡€çš„äººæ¥è¯´ï¼Œæä¾›äº†APIå°±æ„å‘³ç€ä¸å¿…å±€é™äºŽä»»ä½•å¹³å°äº†ã€‚ æž¶æž„å»ºç«‹ç‰¹æ´› Tello å’Œ PCã€Mac æˆ–ç§»åŠ¨è®¾å¤‡ä¹‹é—´çš„ Wi-Fi é€šä¿¡ å‘é€å‘½ä»¤å’ŒæŽ¥æ”¶å“åº”Tello IPï¼š192.168.10.1 UDP PORTï¼š8889 &lt;&lt; - - &gt;&gt; PC / Mac / Mobile å¤‡æ³¨1ï¼šåœ¨PCï¼ŒMacæˆ–ç§»åŠ¨è®¾å¤‡ä¸Šè®¾ç½®UDPå®¢æˆ·ç«¯ï¼Œå‘ç‰¹æ´› Tello UDP ç«¯å£ 8889 å‘é€å‘½ä»¤å’ŒæŽ¥æ”¶å“åº”ã€‚ å¤‡æ³¨2ï¼šåœ¨å‘é€æ‰€æœ‰å…¶ä»–å‘½ä»¤ä¹‹å‰ï¼Œå‘ç‰¹æ´› Tello UDP ç«¯å£ 8889 å‘é€â€œcommandâ€ å‘½ä»¤ä»¥å¯åŠ¨ç‰¹æ´› Tello çš„ SDK æ¨¡å¼ã€‚ æŽ¥æ”¶ç‰¹æ´› Tello çŠ¶æ€Tello IPï¼š192.168.10.1 - &gt;&gt; PC / Mac / Mobile UDP Serverï¼š0.0.0.0 UDP PORTï¼š8890 å¤‡æ³¨3ï¼šåœ¨ PCï¼ŒMac æˆ–ç§»åŠ¨è®¾å¤‡ä¸Šå»ºç«‹ UDP æœåŠ¡å™¨ï¼Œé€šè¿‡ UDP ç«¯å£ 8890 ä»Ž IP 0.0.0.0æ”¶å¬æ¶ˆæ¯ã€‚å¦‚æžœæœªè¿›è¡Œå¤‡æ³¨1å’Œ2çš„æ“ä½œï¼Œè¯·å…ˆå®Œæˆã€‚ æŽ¥æ”¶ç‰¹æ´› Tello è§†é¢‘æµTello IPï¼š192.168.10.1 - &gt;&gt; PC / Mac / Mobile UDP Serverï¼š0.0.0.0 UDP PORTï¼š11111 å¤‡æ³¨4ï¼šåœ¨ PCï¼ŒMac æˆ–ç§»åŠ¨è®¾å¤‡ä¸Šè®¾ç½® UDP æœåŠ¡å™¨ï¼Œé€šè¿‡æœåŠ¡å™¨ UDP ç«¯å£ 11111 ä»ŽIP 0.0.0.0 æ”¶å¬æ¶ˆæ¯ã€‚ å¤‡æ³¨5ï¼šå…ˆè¿›è¡Œå¤‡æ³¨1å’Œ2çš„æ“ä½œã€‚ç„¶åŽå‘ç‰¹æ´› Tello UDP ç«¯å£ 8889 å‘é€ â€œstreamonâ€ å‘½ä»¤ï¼Œå¼€å§‹æŽ¥å—ç‰¹æ´› Tello è§†é¢‘æµã€‚ è®¾ç½®å‘½ä»¤æŽ§åˆ¶å‘½ä»¤è¯»å–å‘½ä»¤TelloçŠ¶æ€ å‘½ä»¤ æè¿° å¯èƒ½çš„å“åº” speed xx è®¾ç½®å½“å‰é€Ÿåº¦ä¸ºxx(1-100) okerror rc a b c d è®¾ç½®é¥æŽ§å™¨çš„4ä¸ªé€šé“æ†é‡ï¼Œa:æ¨ªæ»šï¼ˆ-100~100ï¼‰b:ä¿¯ä»°ï¼ˆ-100~100ï¼‰c:æ²¹é—¨ï¼ˆ~100-100ï¼‰d:æ—‹è½¬ï¼ˆ-100~100ï¼‰ okerror wifi ssid pass è®¾ç½® WiFi SSID å¯†ç  okerror å‘½ä»¤ æè¿° å¯èƒ½çš„å“åº” command è¿›å…¥SDKå‘½ä»¤æ¨¡å¼ okerror takeoff è‡ªåŠ¨èµ·é£ž okerror land è‡ªåŠ¨é™è½ okerror streamon æ‰“å¼€è§†é¢‘æµ okerror streamoff å…³é—­è§†é¢‘æµ okerror emergency åœæ­¢ç”µæœºè½¬åŠ¨ okerror up x å‘ä¸Šé£ž x åŽ˜ç±³x = 20-500 okerror down x å‘ä¸‹é£ž x åŽ˜ç±³x = 20-500 okerror left x å‘å·¦é£ž x åŽ˜ç±³x = 20-500 okerror right x å‘å³é£žx åŽ˜ç±³x = 20-500 okerror forward xx å‘å‰é£ž x åŽ˜ç±³x = 20-500 okerror back xx å‘åŽé£ž x åŽ˜ç±³x = 20-500 okerror cw xx é¡ºæ—¶é’ˆæ—‹è½¬xÂ°x = 1-3600 okerror ccw é€†æ—¶é’ˆæ—‹è½¬ xÂ°x = 1-3600 okerror flip x æœ x æ–¹å‘ç¿»æ»šl = (left)r =(right)f = (forwardb = (back) okerror go x y z speed ä»¥è®¾ç½®é€Ÿåº¦ï¼ˆcm/sï¼‰é£žå¾€åæ ‡ï¼ˆx,y,zï¼‰x: 20-500y: 20-500z: 20-500speed: 10-100 okerror curve x1 y1 z1 x2 y2 z2 speed ä»¥è®¾ç½®é€Ÿåº¦ï¼ˆ cm/s ï¼‰é£žå¼§çº¿ï¼Œç»è¿‡ï¼ˆx1,y1,z1ï¼‰åˆ°ï¼ˆx2,y2,z2ï¼‰å¦‚æžœå¼§çº¿åŠå¾„ä¸åœ¨ 0.5-10 ç±³èŒƒå›´å†…ï¼Œåˆ™è¿”å›žç›¸åº”æé†’ã€‚x1, x2: -500 - 500y1, y2: -500 - 500z1, z2: -500 - 500speed: 10-60xã€yã€z ä¸èƒ½åŒæ—¶åœ¨-20 ~ 20 ä¹‹é—´ okerror speed? èŽ·å–å½“å‰é€Ÿåº¦ xx battery? èŽ·å–ç”µé‡ä¿¡æ¯ xx(0~100) å‘½ä»¤ æè¿° å¯èƒ½çš„å“åº” speed? èŽ·å–å½“å‰è®¾ç½®é€Ÿåº¦ï¼ˆcm/sï¼‰ xx = (10-100) battery? èŽ·å–å½“å‰ç”µæ± å‰©ä½™ç”µé‡çš„ç™¾åˆ†æ¯”å€¼ xx = (0-100) time? èŽ·å–ç”µæœºè¿è½¬æ—¶é—´æ—¶é—´ï¼ˆsï¼‰ x height? èŽ·å–ç›¸å¯¹é«˜åº¦ (cm) x: 10-3000 temp? èŽ·å–ä¸»æ¿æœ€é«˜å’Œæœ€ä½Žæ¸©åº¦(â„ƒ) x: 0-90 attitude? èŽ·å– IMU ä¸‰è½´å§¿æ€æ•°æ® pitch roll yawpitch=ï¼ˆ-89Â°- 89Â°ï¼‰roll=ï¼ˆ-179Â°- 179Â°ï¼‰yaw=ï¼ˆ-179Â°- 179Â°ï¼‰ baro? èŽ·å–æ°”åŽ‹è®¡é«˜åº¦(m) x acceleration? èŽ·å– IMU ä¸‰è½´åŠ é€Ÿåº¦æ•°æ®(0.001g) x y z tof? èŽ·å– ToF çš„é«˜åº¦å€¼(cm) x: 10-400 &amp; 6553è¿”å›ž 6553 æ„å‘³ç€æµ‹é‡å€¼è¶…è¿‡ToF é‡ç¨‹ã€‚ wifi? èŽ·å¾— Wi-Fi ä¿¡å™ªæ¯” snr æ•°æ®ç±»åž‹ï¼šå­—ç¬¦ä¸² ä¾‹å¦‚â€œpitch:%d;roll:%d;yaw:%d;vgx:%d;vgy%d;vgz:%d;templ:%d;temph:%d;tof:%d;h:%d;bat:%d;baro:%f;\r \nâ€è¯´æ˜Žï¼š pitchï¼šä¿¯ä»°è§’åº¦ï¼Œåº¦æ•° rollï¼šæ¨ªæ»šè§’åº¦ï¼Œåº¦æ•° yawï¼šåèˆªåèˆªï¼Œåº¦æ•° vgxï¼šx è½´é€Ÿåº¦ï¼Œ vgyï¼šy è½´é€Ÿåº¦ï¼Œ vgzï¼šz è½´é€Ÿåº¦ï¼Œ templï¼šä¸»æ¿æœ€ä½Žæ¸©åº¦ï¼Œæ‘„æ°åº¦ temphï¼šä¸»æ¿æœ€é«˜æ¸©åº¦ï¼Œæ‘„æ°åº¦ tofï¼šToF è·ç¦»ï¼ŒåŽ˜ç±³ hï¼šç›¸å¯¹èµ·é£žç‚¹é«˜åº¦ï¼ŒåŽ˜ç±³ batï¼šå½“å‰ç”µé‡ç™¾åˆ†æ¯”ï¼Œï¼… baroï¼šæ°”åŽ‹è®¡æµ‹é‡é«˜åº¦ï¼Œç±³ time: ç”µæœºè¿è½¬æ—¶é—´ï¼Œç§’ agx: x è½´åŠ é€Ÿåº¦ agy: y è½´åŠ é€Ÿåº¦ agz: z è½´åŠ é€Ÿåº¦,]]></content>
      <categories>
        <category>IoT</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Nextä¸»é¢˜ä¸ªæ€§åŒ–]]></title>
    <url>%2F2019%2F01%2F02%2FNext%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%2F</url>
    <content type="text"><![CDATA[è¿™ç¯‡åšå®¢æ˜¯å¯¹è¿‡åŽ»å‡ å¤©æ¥æŠ˜è…¾Nextä¸»é¢˜ç»éªŒçš„ä¸€æ¬¡å¤§æ€»ç»“ã€‚æœ¬æ¥ç”¨çš„æ˜¯ yiliaä¸»é¢˜ï¼Œå¯æ˜¯ä¸çŸ¥é“æ€Žä¹ˆç€è„‘æŠ½äº†æƒ³æ¢ä¸€ä¸ªä¸»é¢˜çŽ©çŽ©ï¼Œè¿™ä¸‹å¥½äº†ï¼Œä¸€æŠ˜è…¾æŠ˜è…¾äº†å¥½å‡ å¤©Â·Â·Â·Â·åšå®¢å˜›ï¼Œå½“ç„¶æ˜¯å†…å®¹æœ€é‡è¦Â·Â·Â·ä¸è¿‡é«˜é¢œå€¼æ›´èƒ½è®©æˆ‘æœ‰åŠ¨åŠ›å“ˆå“ˆå“ˆðŸ˜‚æ²¡åŠžæ³•æˆ‘å°±å–œæ¬¢è¿™äº›èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ ä¸»é¢˜ç¾ŽåŒ–ä»¥ä¸‹æ˜¯æˆ‘ç”¨åˆ°çš„Nextä¸»é¢˜çš„ä¸ªæ€§åŒ–å‚è€ƒé“¾æŽ¥ã€‚è¿™ä¸¤ä¸ªå·²ç»å¾ˆå…¨é¢å•¦ï¼Œæ›´å¤šçš„ç¾ŽåŒ–æ–¹æ¡ˆå°±çœ‹è¿™ä¸¤ä¸ªå§ã€‚ æ‰“é€ ä¸ªæ€§è¶…èµžåšå®¢Hexo+NexT+GitHubPagesçš„è¶…æ·±åº¦ä¼˜åŒ– hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹ï¼šæ‰“é€ ç‚«é…·ç½‘ç«™ å¢žåŠ çœ‹æ¿å¨˜çŸ¥é“çœ‹æ¿å¨˜æ˜¯ä»€ä¹ˆæ„æ€çš„ä¼°è®¡å·®ä¸å¤šéƒ½å¾ˆå®…å§ã€‚å½“ç„¶çœ‹æ¿å¨˜ä¸ä¸€å®šéžå¾—æ˜¯äººï¼Œæˆ‘çš„å°±æ˜¯ä¸€ç›´å°é»‘çŒ«å“ˆå“ˆå“ˆè¯¦æƒ…è¯·çœ‹ä¸‹é¢çš„é“¾æŽ¥ç”¨Live2Dè®©çœ‹æ¿å–µå…¥ä½ä½ çš„Hexoåšå®¢å§(^o^)/~ å¢žåŠ é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆæµ®çŽ°å½©è‰²æ¡ƒå¿ƒä»¥ä¸‹æ˜¯æ‰€éœ€jsä»£ç ï¼šæœªåŽ‹ç¼©123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051! function(e, t, a) &#123; function n() &#123; c( ".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"), o(), r() &#125; function r() &#123; for (var e = 0; e &lt; d.length; e++) d[e].alpha &lt;= 0 ? (t.body.removeChild(d[e].el), d.splice(e, 1)) : (d[e].y--, d[e].scale += .004, d[e].alpha -= .013, d[e].el.style.cssText = "left:" + d[e].x + "px;top:" + d[e].y + "px;opacity:" + d[e].alpha + ";transform:scale(" + d[e].scale + "," + d[e].scale + ") rotate(45deg);background:" + d[e].color + ";z-index:99999"); requestAnimationFrame(r) &#125; function o() &#123; var t = "function" == typeof e.onclick &amp;&amp; e.onclick; e.onclick = function(e) &#123; t &amp;&amp; t(), i(e) &#125; &#125; function i(e) &#123; var a = t.createElement("div"); a.className = "heart", d.push(&#123; el: a, x: e.clientX - 5, y: e.clientY - 5, scale: 1, alpha: 1, color: s() &#125;), t.body.appendChild(a) &#125; function c(e) &#123; var a = t.createElement("style"); a.type = "text/css"; try &#123; a.appendChild(t.createTextNode(e)) &#125; catch (t) &#123; a.styleSheet.cssText = e &#125; t.getElementsByTagName("head")[0].appendChild(a) &#125; function s() &#123; return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")" &#125; var d = []; e.requestAnimationFrame = function() &#123; return e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function(e) &#123; setTimeout(e, 1e3 / 60) &#125; &#125;(), n()&#125;(window, document); åŽ‹ç¼©åŽï¼š1!function(e,t,a)&#123;function n()&#123;c(".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"),o(),r()&#125;function r()&#123;for(var e=0;e&lt;d.length;e++)d[e].alpha&lt;=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText="left:"+d[e].x+"px;top:"+d[e].y+"px;opacity:"+d[e].alpha+";transform:scale("+d[e].scale+","+d[e].scale+") rotate(45deg);background:"+d[e].color+";z-index:99999");requestAnimationFrame(r)&#125;function o()&#123;var t="function"==typeof e.onclick&amp;&amp;e.onclick;e.onclick=function(e)&#123;t&amp;&amp;t(),i(e)&#125;&#125;function i(e)&#123;var a=t.createElement("div");a.className="heart",d.push(&#123;el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()&#125;),t.body.appendChild(a)&#125;function c(e)&#123;var a=t.createElement("style");a.type="text/css";try&#123;a.appendChild(t.createTextNode(e))&#125;catch(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName("head")[0].appendChild(a)&#125;function s()&#123;return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"&#125;var d=[];e.requestAnimationFrame=function()&#123;return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e)&#123;setTimeout(e,1e3/60)&#125;&#125;(),n()&#125;(window,document); æ–°å»ºlove.jsæ–‡ä»¶å¹¶ä¸”å°†ä¸Šé¢çš„ä»£ç å¤åˆ¶è¿›åŽ»ã€‚ç„¶åŽå°†love.jsæ–‡ä»¶æ”¾åˆ°è·¯å¾„ /themes/next/source/js/src ä¸‹ï¼Œç„¶åŽæ‰“å¼€\themes\next\layout\_layout.swigæ–‡ä»¶,åœ¨æœ«å°¾æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š12&lt;!-- é¼ æ ‡æ¡ƒå¿ƒåŠ¨ç”» --&gt;&lt;script type="text/javascript" src="/js/src/love.js"&gt;&lt;/script&gt; æµ®çŽ°Emojiå’Œå…¶ä»–æ–‡å­—åŽŸä½œè€…åšå®¢ ä»¥ä¸‹æ˜¯æˆ‘ç¨å¾®æ”¹äº†ä¸‹è‡ªå·±ç”¨çš„ç‰ˆæœ¬ðŸ˜³ï¼Œå¦‚æžœä½ æˆåŠŸåŠ å…¥äº†ä¸Šé¢çš„æ¡ƒå¿ƒç‰¹æ•ˆï¼Œé‚£ä¹ˆè¿™ä¸ªå°±æ˜¯æ¢ä¸‹ä»£ç è€Œå·²ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071onload = function() &#123; var click_cnt = 0; var $html = document.getElementsByTagName("html")[0]; var $body = document.getElementsByTagName("body")[0]; $html.onclick = function(e) &#123; var $elem = document.createElement("b"); $elem.style.color = "#E94F06"; $elem.style.zIndex = 9999; $elem.style.position = "absolute"; $elem.style.select = "none"; var x = e.pageX; var y = e.pageY; $elem.style.left = (x - 10) + "px"; $elem.style.top = (y - 20) + "px"; clearInterval(anim); switch (++click_cnt) &#123; case 10: $elem.innerText = "ðŸ¤©"; break; case 20: $elem.innerText = "ðŸ˜Ž"; break; case 30: $elem.innerText = "ðŸ˜"; break; case 40: $elem.innerText = "ðŸ˜"; break; case 50: $elem.innerText = "ðŸ˜‘"; break; case 60: $elem.innerText = "ðŸ˜’"; break; case 70: $elem.innerText = "à«®( áµ’ÌŒçš¿áµ’ÌŒ )áƒ"; break; case 80: $elem.innerText = "(â•¯Â°å£Â°)â•¯(â”´â€”â”´"; break; case 90: $elem.innerText = "åˆ«ç‚¹å•¦"; break; case 100: case 101: case 102: case 103: case 104: case 105: $elem.innerText = "ä¼‘æ¯ä¼šå„¿"; break; default: $elem.innerText = "ðŸŽˆ"; break; &#125; $elem.style.fontSize = Math.random() * 10 + 8 + "px"; var increase = 0; var anim; setTimeout(function() &#123; anim = setInterval(function() &#123; if (++increase == 150) &#123; clearInterval(anim); $body.removeChild($elem); &#125; $elem.style.top = y - 20 - increase + "px"; $elem.style.opacity = (150 - increase) / 120; &#125;, 8); &#125;, 70); $body.appendChild($elem); &#125;;&#125;; åŽ‹ç¼©åŽ 1onload=function()&#123;var click_cnt=0;var $html=document.getElementsByTagName("html")[0];var $body=document.getElementsByTagName("body")[0];$html.onclick=function(e)&#123;var $elem=document.createElement("b");$elem.style.color="#E94F06";$elem.style.zIndex=9999;$elem.style.position="absolute";$elem.style.select="none";var x=e.pageX;var y=e.pageY;$elem.style.left=(x-10)+"px";$elem.style.top=(y-20)+"px";clearInterval(anim);switch(++click_cnt)&#123;case 10:$elem.innerText="ðŸ¤©";break;case 20:$elem.innerText="ðŸ˜Ž";break;case 30:$elem.innerText="ðŸ˜";break;case 40:$elem.innerText="ðŸ˜";break;case 50:$elem.innerText="ðŸ˜‘";break;case 60:$elem.innerText="ðŸ˜’";break;case 70:$elem.innerText="à«®( áµ’ÌŒçš¿áµ’ÌŒ )áƒ";break;case 80:$elem.innerText="(â•¯Â°å£Â°)â•¯(â”´â€”â”´";break;case 90:$elem.innerText="åˆ«ç‚¹å•¦";break;case 100:case 101:case 102:case 103:case 104:case 105:$elem.innerText="ä¼‘æ¯ä¼šå„¿";break;default:$elem.innerText="ðŸŽˆ";break&#125;$elem.style.fontSize=Math.random()*10+8+"px";var increase=0;var anim;setTimeout(function()&#123;anim=setInterval(function()&#123;if(++increase==150)&#123;clearInterval(anim);$body.removeChild($elem)&#125;$elem.style.top=y-20-increase+"px";$elem.style.opacity=(150-increase)/120&#125;,8)&#125;,70);$body.appendChild($elem)&#125;&#125;; åŠ¨æ€æ ‡ç­¾æ Hexo NexTä¸»é¢˜ä¸­æ·»åŠ ç½‘é¡µæ ‡é¢˜å´©æºƒæ¬ºéª—æžæ€ªç‰¹æ•ˆ ç®—æ˜¯ä¸€ä¸ªå°ç»†èŠ‚çš„ç¾ŽåŒ–å§ï¼Œå®ƒå¯ä»¥åœ¨ä½ åˆ‡æ¢é¡µé¢çš„æ—¶å€™æ›´æ”¹æ ‡ç­¾æ çš„æ–‡å­— 12345678910111213141516var OriginTitle = document.title;var titleTime;document.addEventListener('visibilitychange', function () &#123; if (document.hidden) &#123; // $('[rel="icon"]').attr('href', "/images/TEP.ico"); //å¦‚æžœéœ€è¦å›¾æ ‡ä¸€èµ·å˜ï¼Œé‚£ä¹ˆå°±å°†è¿™è¡Œå–æ¶ˆæ³¨é‡Šå¹¶é€‰æ‹©æ­£ç¡®çš„å›¾ç‰‡è·¯å¾„ document.title = ' ðŸ˜‰ä¸çœ‹äº†å°±å…³æŽ‰ ~';//è¦æ˜¾ç¤ºçš„ä¿¡æ¯ clearTimeout(titleTime); &#125; else &#123; //$('[rel="icon"]').attr('href', "/favicon.ico"); åŒä¸Š document.title = 'ðŸ˜æ¬¢è¿Žå›žæ¥~' + OriginTitle; titleTime = setTimeout(function () &#123; document.title = OriginTitle; &#125;, 2000); &#125;&#125;); æ–°å»ºcrash_cheat.jsæ–‡ä»¶å¹¶ä¸”å°†ä¸Šé¢çš„ä»£ç å¤åˆ¶è¿›åŽ»ã€‚ç„¶åŽå°†love.jsæ–‡ä»¶æ”¾åˆ°è·¯å¾„ /themes/next/source/js/src ä¸‹ï¼Œç„¶åŽæ‰“å¼€\themes\next\layout\_layout.swigæ–‡ä»¶,åœ¨æœ«å°¾æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š12&lt;!--å´©æºƒæ¬ºéª—--&gt;&lt;script type="text/javascript" src="/js/src/crash_cheat.js"&gt;&lt;/script&gt; æŽ’ç‰ˆç›¸å…³tabsçš„ä½¿ç”¨tabsçš„è¯¦ç»†ç”¨æ³• æˆ‘è®¤ä¸ºtabå¯ä»¥èµ·åˆ°èŠ‚çœé¡µé¢ç©ºé—´çš„ä½œç”¨ï¼ŒæŠŠä¸€äº›æ–‡å­—åˆ†é¡µæ”¾ç½®æ›´åŠ ç¾Žè§‚tabæ ‡é¢˜æµ‹è¯• 1tabæ ‡é¢˜æµ‹è¯• 2tabæ ‡é¢˜æµ‹è¯• 3è¿™æ˜¯ç¬¬ä¸€é¡µç¬¬2é¡µç¬¬3é¡µ è¿™ä¸ªtabæ ‡ç­¾åœ¨æ”¾jsä»£ç å—çš„æ—¶å€™æœ‰bugï¼šé¦–å…ˆå®ƒä¸èƒ½ä½¿ç”¨ â€œ ``` ä»£ç å— ``` â€ è¿™æ ·çš„æ ‡ç­¾. ä¸ç„¶å®ƒå°±ä¼šæ˜¾ç¤º undefinedã€‚è¿™æ—¶å€™è¦ä½¿ç”¨codeæ ‡ç­¾ã€‚å¦å¤–å®ƒåªèƒ½åœ¨ç¬¬ä¸€é¡µæ’å…¥ä»£ç å—ï¼Œæ’å…¥ä¹‹åŽç¬¬äºŒé¡µå°±ç¿»ä¸å‡ºæ¥ï¼Œæ€»ä¹‹æ’å…¥ä»£ç çš„æ—¶å€™BUGä¸€å †æ ¹æœ¬ä¸èƒ½ç”¨ðŸ˜­ labelçš„ä½¿ç”¨labelæµ‹è¯•labelä½¿ç”¨è¯¦æƒ… Demo:æ‰€è°“çš„labelä»Žæ•ˆæžœä¸Šçœ‹ç¥žä¼¼è§å…‰ç¬” åæ­£æˆ‘å°±æ˜¯å½“è§å…‰ç¬”æ¥åˆ’é‡ç‚¹å§ è¿™æ˜¯Default è¿™æ˜¯Primary è¿™æ˜¯Success è¿™æ˜¯Info è¿™æ˜¯Warning è¿™æ˜¯Danger è¿™æ˜¯æœ‰åˆ é™¤çº¿çš„Danger Code:1234567è¿™æ˜¯&#123;% label default@Default%&#125;è¿™æ˜¯&#123;% label primary@Primary%&#125;è¿™æ˜¯&#123;% label success@Success%&#125;è¿™æ˜¯&#123;% label info@Info%&#125;è¿™æ˜¯&#123;% label warning@Warning%&#125;è¿™æ˜¯&#123;% label danger@Danger%&#125;è¿™æ˜¯æœ‰åˆ é™¤çº¿çš„~~&#123;% label danger@Danger%&#125;~~ Buttonçš„ä½¿ç”¨buttonçš„è¯¦ç»†ç”¨æ³•Demo:æŒ‰é’®æˆ‘ä¹Ÿä¸ç»å¸¸ç”¨ï¼Œä½†æ˜¯å¦‚æžœåƒè¿™æ ·åˆ†äº«ä¸‹è½½é“¾æŽ¥çš„æ—¶å€™å¯èƒ½ä¼šæœ‰ç‚¹ç”¨å§ ç‚¹å‡»ä¼šä¸‹è½½è€å©†ï¼æ…Žç‚¹ðŸ˜œç‚¹å‡»ä¸‹è½½ å¥½å¤šbugå•ŠÂ·Â·Â·Â·å¦‚æžœè¿™é‡ŒåŠ ä¸€ä¸ªnoteæ ‡ç­¾ä¸‹é¢çš„codeå’Œæ ‡é¢˜å°±ä¸ä¼šæ¸²æŸ“äº†ï¼ŒðŸ˜¶ Code: 1&#123;% btn https://cooguyan-1252810309.cos.ap-chengdu.myqcloud.com/beaupic/gakki/5267d628b0f0b81855f15b80494d36c2.jpg, ç‚¹å‡»ä¸‹è½½, download fa-lg fa-fw %&#125; noteçš„ä½¿ç”¨noteæ ‡ç­¾è¯¦ç»†ç”¨æ³• Demo: é»˜è®¤ ç”¨æ¥æ›¿ä»£å¼•ç”¨æ ‡ç­¾è¿˜è¡Œ é»˜è®¤ æœ‰å›¾æ ‡çš„å¼•ç”¨æ ‡ç­¾å§ å¯ä»¥è¡¥å……ä¸€äº›ä¿¡æ¯ Primaryï¼Œä¸çŸ¥é“æ€Žä¹ˆç”¨ Warningï¼Œå†™ä¸€äº›è­¦å‘Šä¿¡æ¯ Danger,å°±æ˜¯è¿™æ ·å¾ˆå±é™©å§ Successï¼ŒæˆåŠŸæ˜¯ä»€ä¹ˆé¬¼å•Š æ²¡æœ‰å›¾æ ‡çš„æ ·å­ Code:12345678&#123;% note %&#125;é»˜è®¤ ç”¨æ¥æ›¿ä»£å¼•ç”¨æ ‡ç­¾è¿˜è¡Œ&#123;%endnote%&#125;&#123;% note default %&#125; é»˜è®¤ æœ‰å›¾æ ‡çš„å¼•ç”¨æ ‡ç­¾å§&#123;%endnote%&#125;&#123;% note info %&#125;å¯ä»¥è¡¥å……ä¸€äº›ä¿¡æ¯&#123;%endnote%&#125;&#123;% note primary%&#125;Primaryï¼Œä¸çŸ¥é“æ€Žä¹ˆç”¨&#123;%endnote%&#125;&#123;% note warning%&#125;Warningï¼Œå†™ä¸€äº›è­¦å‘Šä¿¡æ¯&#123;%endnote%&#125;&#123;% note danger %&#125;Danger,å°±æ˜¯è¿™æ ·å¾ˆå±é™©å§&#123;% endnote%&#125;&#123;% note success%&#125;Successï¼ŒæˆåŠŸæ˜¯ä»€ä¹ˆé¬¼å•Š&#123;%endnote%&#125;&#123;% note success no-icon%&#125;æ²¡æœ‰å›¾æ ‡çš„æ ·å­&#123;%endnote%&#125; å¼•ç”¨æ–‡æœ¬å±…ä¸­æ˜¾ç¤ºè¯¦ç»†ç”¨æ³• Demo: æˆ‘ä»¬èƒ½ä½“éªŒçš„æœ€ç¾Žå¥½çš„ä¸œè¥¿æ˜¯ç¥žç§˜çš„äº‹ç‰©ã€‚ä»–æ˜¯æ‰€æœ‰çœŸæ­£è‰ºæœ¯å’Œç§‘å­¦çš„æ¥æºã€‚â€”â€”é˜¿å°”ä¼¯ç‰¹Â·çˆ±å› æ–¯å¦ ã€Šæˆ‘çš„ä¸–ç•Œè§‚ã€‹ï¼Œ1930 å¢žå¤šæˆ‘ä»¬ä¸åŠ æ€ç´¢å°±èƒ½å®Œæˆçš„é‡è¦å·¥ä½œçš„æ•°é‡ï¼Œæ–‡æ˜Žä¾¿æ˜¯å¦‚æ­¤è¿›æ­¥çš„ã€‚â€”â€”Alfred North Whiteheadï¼ŒAn Introduction to Mathematicsï¼Œ1911 æˆ‘å¯¹ä¸Šå¸è¯´è¥¿ç­ç‰™è¯­ï¼Œå¯¹å¥³äººè¯´æ„å¤§åˆ©è¯­ï¼Œå¯¹ç”·äººè¯´æ³•è¯­ï¼Œå¯¹æˆ‘çš„é©¬è¯´å¾·è¯­ã€‚â€”â€”æŸ¥ç†äº”ä¸–ï¼Œæ³•å›½å›½çŽ‹ï¼ˆ1337~1380ï¼‰ Code:123456789101112&lt;!-- HTMLæ–¹å¼: ç›´æŽ¥åœ¨ Markdown æ–‡ä»¶ä¸­ç¼–å†™ HTML æ¥è°ƒç”¨ --&gt;&lt;!-- å…¶ä¸­ class="blockquote-center" æ˜¯å¿…é¡»çš„ --&gt;&lt;blockquote class="blockquote-center"&gt;æˆ‘ä»¬èƒ½ä½“éªŒçš„æœ€ç¾Žå¥½çš„ä¸œè¥¿æ˜¯ç¥žç§˜çš„äº‹ç‰©ã€‚ä»–æ˜¯æ‰€æœ‰çœŸæ­£è‰ºæœ¯å’Œç§‘å­¦çš„æ¥æºã€‚â€”â€”é˜¿å°”ä¼¯ç‰¹Â·çˆ±å› æ–¯å¦ ã€Šæˆ‘çš„ä¸–ç•Œè§‚ã€‹ï¼Œ1930&lt;/blockquote&gt;&lt;!-- æ ‡ç­¾ æ–¹å¼ï¼Œè¦æ±‚ç‰ˆæœ¬åœ¨0.4.5æˆ–ä»¥ä¸Š --&gt;&#123;% centerquote %&#125;å¢žå¤šæˆ‘ä»¬ä¸åŠ æ€ç´¢å°±èƒ½å®Œæˆçš„é‡è¦å·¥ä½œçš„æ•°é‡ï¼Œæ–‡æ˜Žä¾¿æ˜¯å¦‚æ­¤è¿›æ­¥çš„ã€‚â€”â€”Alfred North Whiteheadï¼ŒAn Introduction to Mathematicsï¼Œ1911&#123;% endcenterquote %&#125;&lt;!-- æ ‡ç­¾åˆ«å --&gt;&#123;% cq %&#125;æˆ‘å¯¹ä¸Šå¸è¯´è¥¿ç­ç‰™è¯­ï¼Œå¯¹å¥³äººè¯´æ„å¤§åˆ©è¯­ï¼Œå¯¹ç”·äººè¯´æ³•è¯­ï¼Œå¯¹æˆ‘çš„é©¬è¯´å¾·è¯­ã€‚â€”â€”æŸ¥ç†äº”ä¸–ï¼Œæ³•å›½å›½çŽ‹ï¼ˆ1337~1380ï¼‰ &#123;% endcq %&#125;]]></content>
      <categories>
        <category>Hexoç›¸å…³</category>
      </categories>
      <tags>
        <tag>Next</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RAID(Reduntant Arrays of Inexpensive Disks)]]></title>
    <url>%2F2018%2F12%2F30%2FRAID%E7%9A%84%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[ä»¥ä¸‹æ˜¯ã€Šè®¡ç®—æœºç»„æˆä¸Žè®¾è®¡ã€‹ç¬¬å››ç‰ˆåŽŸæ–‡,æˆ‘æ‘˜å½•äº†å…¶ä¸­äº†å…³äºŽRAIDçš„éƒ¨åˆ† æ— å†—ä½™ (RAID 0) ä»…ä»…æŠŠæ•°æ®åˆ†åšåˆ°å¤šä¸ªç£ç›˜ï¼Œç§°ä¸ºæ¡å¸¦åŒ–ï¼Œè‡ªåŠ¨æŠŠè®¿é—®å¼ºåˆ¶åˆ†å¸ƒåˆ°å‡ ä¸ªç£ç›˜ä¸Šã€‚åœ¨ä¸€ç»„ç£ç›˜ä¸Šè¿›è¡Œæ¡å¸¦åŒ–ä½¿å¾—è¿™ä¸€ç»„ç£ç›˜å¯¹äºŽè½¯ä»¶æ¥è¯´æ˜¯ä¸€ä¸ªå¤§ç£ç›˜ï¼Œä»Žé¢ç®€åŒ–äº†å­˜å‚¨ç®¡ç†ã€‚è€Œä¸”å¯¹å¤šä¸ªåŒæ—¶çš„è®¿é—®æ¥è¯´æœ‰åˆ©äºŽæ”¹è¿›æ€§èƒ½ï¼Œå› ä¸ºå¤šä¸ªç£ç›˜å¯ä»¥åŒæ—¶æ“ä½œã€‚ä¾‹å¦‚ï¼Œè§†é¢‘ç¼–è¾‘ç³»ç»Ÿç»å¸¸å¯¹å®ƒä»¬çš„æ•°æ®è¿›è¡Œæ¡å¸¦åŒ–ï¼Œä¸éœ€è¦åƒæ•°æ®åº“é‚£æ ·å…³å¿ƒå¯é æ€§é—®é¢˜ã€‚ RAID 0çš„ç§°è°“æœ‰äº›ä¸å¦¥ï¼Œå› ä¸ºå®ƒæ ¹æœ¬æ²¡æœ‰å†—ä½™ã€‚ç„¶è€Œï¼ŒRAIDçš„çº§åˆ«é€šå¸¸ç”±æ“ä½œå‘˜åœ¨åˆ›å»ºç³»ç»Ÿæ—¶è®¾ç½®ï¼Œè€ŒRAIDOç»å¸¸è¢«åˆ—ä¸ºå…¶ä¸­ä¸€ä¸ªé€‰é¡¹ã€‚å› æ­¤ï¼ŒRAID 0çš„è¯´æ³•å°±è¢«å¹¿æ³›ä½¿ç”¨äº†ã€‚ é•œåƒ(RAID 1) è¿™ç§ä¼ ç»Ÿçš„å®¹å¿ç£ç›˜å¤±æ•ˆçš„æ–¹æ³•ï¼Œè¢«ç§°ä¸ºé•œåƒâ€æˆ–è€…å½±åƒ(shadowing), ä½¿ç”¨æ¯”RAID O å¤šä¸€å€çš„ç£ç›˜æ•°ã€‚æ•°æ®å†™äººæŸä¸ªç›˜æ—¶ï¼ŒåŒæ ·çš„æ•°æ®ä¼šå†™äººå…¶å†—ä½™ç›˜ï¼Œå› æ­¤å§‹ç»ˆå­˜åœ¨ä¿¡æ¯çš„ä¸¤ä»½å‰¯æœ¬ã€‚å¦‚æžœä¸€ä¸ªç£ç›˜å‡ºçŽ°æ•…éšœï¼Œç³»ç»Ÿå°±è½¬å‘å…¶â€œé•œåƒâ€è¯»å–å†…å®¹ä»¥èŽ·å¾—æ‰€éœ€ä¿¡æ¯ã€‚é•œåƒæ˜¯æœ€æ˜‚è´µçš„RAIDæ–¹æ¡ˆï¼Œå› ä¸ºå®ƒéœ€è¦æœ€å¤šçš„ç£ç›˜ã€‚ é”™è¯¯æ£€æµ‹å’Œçº é”™ç  (RAID 2) RAID 2å€Ÿç”¨äº†ä¸»å­˜å¸¸ç”¨çš„é”™è¯¯æ ¡éªŒå’Œæ¢å¤æŠ€æœ¯(å‚è§å…‰ç›˜ä¸­çš„é™„å½•C)ã€‚RAID 2å·²ç»ä¸å†ä½¿ç”¨äº†ï¼Œå› æ­¤æˆ‘ä»¬è¿™é‡Œä¸åšä»‹ç»ã€‚ ä½äº¤å‰å¥‡å¶æ ¡éªŒ (RAID 3) å¢žåŠ å¯ç”¨æ€§çš„å¼€é”€å¯ä»¥å‡è‡³I/n,è¿™é‡Œnä¸ºä¿æŠ¤ç»„â€œå†…ç£ç›˜çš„æ•°ç›®ã€‚æˆ‘ä»¬ä¸å†ä¸ºæ¯ä¸ªç£ç›˜åšä¸€ä¸ªåŽŸå§‹æ•°æ®çš„å®Œå…¨å¤‡ä»½ï¼Œé¢åªéœ€è¦åŠ å…¥è¶³å¤Ÿçš„å†—ä½™ä¿¡æ¯ä»¥ä¾¿åœ¨å‡ºé”™çš„æ—¶å€™æ¢å¤ä¸¢å¤±çš„ä¿¡æ¯ã€‚è¯»å†™æ“ä½œåœ¨ç»„å†…æ‰€æœ‰ç£ç›˜ä¸Šè¿›è¡Œï¼Œä¸€ä¸ªé¢å¤–çš„ç£ç›˜å­˜æœ‰æ ¡éªŒä¿¡æ¯ä»¥é˜²é”™è¯¯çš„å‘ç”Ÿã€‚RAID 3åœ¨ä½¿ç”¨å¤§æ•°æ®é›†çš„åº”ç”¨( å¦‚å¤šåª’ä½“å’Œç§‘å­¦è®¡ç®—)ä¸­æŠ¥æµè¡Œã€‚ å¥‡å¶æ ¡éªŒ(parity) å°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªç­–ç•¥ã€‚ä¸ç†Ÿæ‚‰å¥‡å¶æ ¡éªŒçš„è¯»è€…å¯ä»¥æŠŠå†—ä½™ç£ç›˜æƒ³è±¡æˆä¿å­˜æœ‰å…¶ä»–ç£ç›˜æ‰€æœ‰æ•°æ®çš„å’Œã€‚å½“.ä¸ªç£ç›˜å‡ºé”™æ—¶ï¼Œç”¨å¥‡å¶æ ¡éªŒç›˜å‡åŽ»æ­£å¸¸ç ´ç›˜çš„æ•°æ®çš„å’Œ;ä½™æ•°å°±æ˜¯ä¸¢å¤±çš„ä¿¡æ¯ã€‚å¥‡å¶æ ¡éªŒå°±æ˜¯æ¨¡2ä¸‹çš„æ±‚å’Œã€‚ ä¸ŽRAID 1ä¸åŒï¼ŒRAID3 å¿…é¡»è¯»å¾ˆå¤šç£ç›˜æ‰èƒ½ç¡®å®šä¸Ÿå¤±çš„æ•°æ®ã€‚è¯¥æŠ€æœ¯èƒŒåŽçš„å‡è®¾å°±æ˜¯ç”¨æ›´é•¿çš„æ—¶é—´æ¥æ¢å¤é”™è¯¯è€Œç”¨æ›´å°‘çš„å†—ä½™å­˜å‚¨å¾—åˆ°ä¸ªå¥½çš„å¹³è¡¡ã€‚ å—äº¤å‰å¥‡å¶æ ¡éªŒ (RAID 4) RAID 4ä½¿ç”¨åŒRAID3æ•°ç›®æ¯”çŽ‡- -æ ·å¤§çš„æ•°æ®ç£ç›˜å’Œæ ¡éªŒç›˜,ä½†æ˜¯è®¿é—®æ•°æ®çš„æ–¹å¼ä¸åŒã€‚å¥‡å¶æ ¡éªŒç ä»¥å—ä¸ºå•ä½å­˜å‚¨ï¼Œå’Œ-ç»„æ•°æ®å—ç›¸å…³ã€‚ åœ¨RAID 3ä¸­ï¼Œæ¯æ¬¡è®¿å‘éƒ½ç”¨åˆ°æ‰€æœ‰ç£ç›˜ã€‚ç„¶é¢ï¼ŒæŸäº›åº”ç”¨åé‡äºŽè¾ƒå°çš„æ•°æ®è®¿é—®ï¼Œå…è®¸å¹¶è¡Œåœ°å‘ç”Ÿå¤šä¸ªç‹¬ç«‹è®¿é—®ã€‚è¿™å°±æ˜¯å‘æ˜ŽRAID4 - RAID 6çš„ç›®çš„ã€‚ç”±äºŽè¯»æ“ä½œéœ€è¦æ ¡éªŒæ¯ä¸ªæ‰‡åŒºçš„é”™è¯¯æ£€æµ‹ä¿¡æ¯æ¥åˆ¤æ–­æ•°æ®æ­£ç¡®ä¸Žå¦ï¼Œåªè¦å°‘é‡çš„è®¿é—®æ•°æ®ä»ä¸ºåŒä¸€ä¸ªæ‰‡åŒºï¼Œå„ç£ç›˜ä¸Šè¿™äº›â€œå°)æ•°æ®é‡çš„è¯»æ“ä½œâ€å°±å¯ä»¥ç‹¬ç«‹åœ°è¿›è¡Œã€‚åœ¨RAIDçŽ¯å¢ƒä¸­ï¼Œå°æ•°æ®è®¿å‘åœ¨ä¿æŠ¤ç»„ä¸­çš„ä¸€ä¸ªç£ç›˜å‘ç”Ÿï¼Œè€Œå¤§æ•°æ®é‡è®¿é—®éœ€è¦ç”¨åˆ°ä¿æŠ¤ç»„ä¸­çš„æ‰€æœ‰ç£ç›˜ã€‚ å†™æ“ä½œæ˜¯å¦å¤–ä¸ªé—®é¢˜ã€‚çœ‹ä¸ŠåŽ»ä¼¼ä¹Žæ¯-æ¬¡å°æ•°æ®é‡çš„å†™æ“ä½œéƒ½éœ€è¦è®¿é—®å…¶ä»–ç£ç›˜ä¿¡æ¯ï¼Œä½¿ç”¨è¿™äº›ä¿¡æ¯è®¡ç®—æ–°çš„å¥‡å¶æ ¡éªŒå€¼ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚ä¸€æ¬¡â€œå°æ•°æ®é‡çš„å†™æ“ä½œâ€éœ€è¦è¯»å–æ—§æ•°æ®å’Œæ—§å¥‡å¶æ ¡éªŒï¼Œæ·»åŠ æ–°ä¿¡æ¯ï¼ŒæŽ¥ç€æŠŠæ–°çš„å¥‡å¶æ ¡éªŒå†™å…¥æ ¡éªŒç›˜ï¼ŒæŠŠæ–°çš„æ•°æ®å†™å…¥æ•°æ®ç›˜ã€‚ å°æ•°æ®é‡å†™æ›´æ–°åœ¨RAID 3 å’Œ RAID 4 ä¸Šçš„æ¯”è¾ƒ å¯¹å°æ•°æ®é‡å†™æ“ä½œçš„ä¼˜åŒ–å‡å°‘äº†ç£ç›˜è®¿é—®çš„æ•°é‡ï¼Œä¹Ÿå‡å°‘äº†å ç”¨ç£ç›˜ç©ºé—´çš„æ•°é‡ã€‚æœ¬å›¾å‡è®¾æœ‰4å—æ•°æ®å’Œ1å—æ ¡éªŒç ã€‚å›¾å·¦ä¾§çš„RAID 3æ ¡éªŒè®¡ç®—åœ¨åŠ äººå—D0â€™ä¹‹å‰è¦è¯»æ•°æ®å—D1ã€D2å’ŒD3æ‰èƒ½è®¡ç®—æ–°æ ¡éªŒç Pâ€™ã€‚(éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ–°æ•°æ®D0â€™ç›´æŽ¥æ¥è‡ªCPU,æ‰€ä»¥ä¸éœ€è¦è¯»ç£ç›˜æ¥èŽ·å–ã€‚)å›¾å³ä¾§çš„RAID 4ä¼˜åŒ–æ–¹æ³•æ˜¯è¯»å–æ—§å€¼DOå¹¶ä¸Žæ–°å€¼DOâ€™æ¯”è¾ƒçœ‹æ˜¯å¦æ”¹å˜ã€‚ç„¶åŽè¯»å–æ—§æ ¡éªŒç P,ä¿®æ”¹å¯¹åº”çš„ä½,å½¢æˆæ–°æ ¡éªŒç Pâ€™ã€‚ä½¿ç”¨æˆ–é€»è¾‘æ“ä½œå³å¯å®žçŽ°ã€‚å›¾ä¸­æŠŠä¸‰æ¬¡è¯»ç£ç›˜(D1ã€ D2ã€D3)å’Œä¸¤æ¬¡å†™ç£ç›˜(D0â€™, Pâ€™) æ›¿æ¢ä¸ºä¸¤æ¬¡è¯»ç£ç›˜(DO, P)å’Œä¸¤æ¬¡å†™ç£ç›˜(D0â€™, Pâ€™),å‰è€…è®¿é—®äº†æ‰€æœ‰ç£ç›˜ï¼Œè€ŒåŽè€…ä»…è®¿é—®å…¶ä¸­çš„ä¸¤ä¸ªç£ç›˜ã€‚éšç€æ ¡éªŒç»„å¤§å°çš„å¢žåŠ å°†ä½¿å¾—ä¼˜åŒ–çš„æ•ˆæžœæ›´åŠ æ˜Žæ˜¾ã€‚RAID 5äº¦ä½¿ç”¨åŒæ ·çš„æ–¹å¼ã€‚ å‡å°å¼€é”€çš„å…³é”®åœ¨äºŽæ ¡éªŒç ä¸è¿‡æ˜¯ä¿¡æ¯çš„-ä¸€ä¸ªæ€»å’Œ;é€šè¿‡è§‚å¯Ÿå†™äººæ–°ä¿¡æ¯åŽå“ªäº›ä½å‘ç”Ÿäº†å˜åŒ–ï¼Œæˆ‘ä»¬åªéœ€æ”¹å˜æ ¡éªŒç›˜ä¸Šçš„å¯¹åº”ä½çš„ä¿¡æ¯å³å¯ã€‚å›¾6-13çš„å³å›¾è¯´æ˜Žäº†è¯¥æ–¹æ³•ã€‚æˆ‘ä»¬å¿…é¡»ä»Žè¦å†™çš„ç£ç›˜è¯»å–æ—§æ•°æ®,ç”¨æ—§æ•°æ®å’Œæ–°æ•°æ®æ¯”è¾ƒ,çœ‹å“ªäº›ä½å‘ç”Ÿäº†å˜åŒ–ã€‚è¯»æ—§å¥‡å¶æ ¡éªŒå’Œ,æ”¹å˜å¯¹åº”çš„ä½ï¼Œç„¶åŽå†™äººæ–°æ•°æ®ä»¥åŠæ–°çš„æ ¡éªŒå’Œã€‚è¿™æ ·ï¼Œä¸€æ¬¡å°æ•°æ®é‡çš„å†™æ“ä½œåŒ…å«å¯¹ä¸¤ä¸ªç£ç›˜çš„4æ¬¡è®¿é—®ï¼Œè€Œä¸æ˜¯è®¿é—®æ‰€æœ‰çš„ç£ç›˜ã€‚è¿™ç§ç»„ç»‡ç»“æž„å°±æ˜¯RAID 4 åˆ†å¸ƒå¼å—äº¤å‰å¥‡å¶æ ¡éªŒï¼ˆRAID 5ï¼‰RAID 4 æœ‰æ•ˆçš„æ”¯æŒäº†å¤§æ•°æ®é‡è¯»ã€å¤§æ•°æ®é‡å†™å’Œå°æ•°æ®é‡è¯»ã€å°æ•°æ®é‡å†™çš„æ··åˆæ“ä½œã€‚å®ƒçš„ç¼ºç‚¹æ˜¯æ¯æ¬¡å†™æ“ä½œéƒ½è¦æ›´æ–°æ ¡éªŒç›˜ã€ä»Žè€Œæ ¡éªŒç›˜æˆä¸ºè¿žç»­å†™çš„ç“¶é¢ˆã€‚ä¸ºäº†è§£å†³æ ¡éªŒ-å†™ç“¶é¢ˆï¼Œæ ¡éªŒä¿¡æ¯å¯ç”±åˆ†å¸ƒåˆ°æ‰€æœ‰ç›˜ä¸Šï¼Œæ˜¯çš„å†™æ“ä½œä¸å­˜åœ¨å•ä¸€çš„ç“¶é¢ˆã€‚è¿™ç§åˆ†å¸ƒå¼çš„å¥‡å¶æ ¡éªŒç»„ç»‡æ–¹å¼å°±æ˜¯RAID 5ã€‚ä¸‹å›¾å±•ç¤ºäº†æ•°æ®åœ¨RAID 4 å’Œ RAID 5 ä¸Šæ˜¯å¦‚ä½•åˆ†å¸ƒçš„ã€‚å³å›¾å±•ç¤ºçš„æ˜¯RAID 5 ç»„ç»‡æ–¹å¼ã€‚å…¶ä¸­æ•°æ®å—æ¯è¡Œçš„æ ¡éªŒä¿¡æ¯ä¸å†é™å®šåœ¨å•ä¸ªç£ç›˜ã€‚åªè¦æ ¡éªŒå—ä¸åœ¨ç›¸åŒçš„ç£ç›˜ä¸Šï¼Œè¿™ç§ç»„ç»‡æ–¹å¼å°±ä½¿å¾—å¤š ä¸ªå†™æ“ä½œå¯ä»¥åŒæ—¶å‘ç”Ÿã€‚ä¾‹å¦‚ï¼Œå³ä¾§ç¬¬1å†™æ“ä½œæ˜¯å‘ç¬¬8å—å†™æ•°æ®ï¼Œéœ€å§”åŒæ—¶è®¿å‘P2ä¸­çš„å¥‡å¶å€¼ï¼Œä»Žè€Œéœ€è¦è®¿é—®ç¬¬Iä¸ªå’Œç¬¬3ä¸ªç£ç›˜ã€‚å³ä¾§ç¬¬2ä¸ªå†™æ“ä½œå¯¹ç¬¬5å—è¿›è¡Œå†™ï¼Œæ„å‘³ç€è¦æ›´æ–°å…¶æ ¡éªŒå—P, ,ä»Žè€Œéœ€è¦è®¿é—®ç¬¬2ä¸ªå’Œç¬¬4ä¸ªç£ç›˜,æ‰€ä»¥å®ƒå¯ä»¥å’Œå†™ç¬¬8ä¸ªæ•°æ®å¹¶å‘è¿›è¡Œã€‚å¯¹äºŽå·¦ä¾§çš„ç»„ç»‡ç»“æž„æ¥è¯´ï¼ŒåŒæ ·çš„å†™æ“ä½œåˆ™éœ€è¦ä¿®æ”¹ç¬¬5ä¸ªç£ç›˜ä¸Šçš„PIå’ŒP2,è¿™å°±æž„æˆäº†ç“¶é¢ˆã€‚ P+Qå†—ä½™(RAID 6) åŸºäºŽå¥‡å¶æ ¡éªŒçš„æœºåˆ¶å¯ä½¿ç³»ç»Ÿå…å—å•ä¸ªå¯è‡ªåŠ¨è¯†åˆ«çš„é”™è¯¯çš„ç ´åã€‚å½“å•ä¸ªé”™è¯¯çº æ­£æœºåˆ¶ä¸è¶³ä»¥ä¿æŠ¤ç³»ç»Ÿæ—¶ï¼Œå¯åˆ©ç”¨å¥‡å¶æ ¡éªŒå¯¹æ•°æ®å’Œå¦-ä¸ªæ ¡éªŒç›˜çš„ä¿¡æ¯è¿›è¡ŒäºŒæ¬¡è®¡ç®—ã€‚äºŒæ¬¡æ ¡éªŒå—å¯ä½¿ç³»ç»Ÿä»ŽäºŒæ¬¡é”™è¯¯ä¸­æ¢å¤è¿‡æ¥ã€‚å› æ­¤ï¼Œå®ƒçš„å­˜å‚¨å¼€é”€æ˜¯RAID 5 çš„ä¸¤å€ã€‚å›¾6-13ä¸­çš„å°æ•°æ®æ–¹æ³•è¿˜èƒ½æˆç«‹ï¼Œåªæ˜¯çŽ°åœ¨æ›´æ–°På’ŒQä¿¡æ¯éœ€è¦è®¿å‘6ä¸ªç›˜è€Œä¸æ˜¯è®¿é—®4ä¸ªç›˜ã€‚ RAID å°ç»“ RAID 1 å’ŒRAID 5 å¹¿æ³›ç”¨äºŽæœåŠ¡å™¨ï¼›ä¸€é¡¹ä¼°è®¡æ˜¯æœåŠ¡å™¨ä¸­ 80% çš„ç£ç›˜éƒ½ä½¿ç”¨äº†æŸç§RAID. RAID ç³»ç»Ÿçš„å¼±ç‚¹æ˜¯ä¿®å¤ã€‚é¦–å…ˆï¼Œä¸ºäº†é¿å…åœ¨ä¿®å¤æ—¶æ•°æ®ä¸å¯ç”¨ï¼Œé˜µåˆ—å¿…é¡»è®¾è®¡ä¸ºä¸å¿…ç¾Žé—­ç³»ç»Ÿå°±èƒ½æ›¿æ¢å‡ºé”™ç›˜ã€‚RAID æ‹¥æœ‰è¶³å¤Ÿçš„å†—ä½™æ€§ä»¥ä¿è¯ä¸é—´æ–­çš„æ“ä½œï¼Œä½†æ˜¯çƒ­äº¤æ¢ç£ç›˜å¯¹é˜µåˆ—å’Œç£ç›˜æŽ¥å£çš„ç‰©ç†åŠç”µè·¯è®¾è®¡æå‡ºäº†è¦æ±‚ã€‚å…¶æ¬¡ï¼Œä¿®å¤ä¸­å¯èƒ½å‡ºçŽ°å¦å¤–çš„é”™è¯¯ï¼Œè¿™æ ·ä¿®å¤æ—¶é—´ä¼šå½±å“ä¸¢å¤±æ•°æ®çš„æ¦‚çŽ‡:ä¿®å¤æ—¶é—´è¶Šé•¿ï¼Œå¦ä¸€é”™è¯¯å¼•èµ·ä¸¢å¤±æ•°æ®çš„æ¦‚çŽ‡è¶Šå¤§ã€‚æŸäº›ç³»ç»Ÿå¹¶ä¸ç”¨ç­‰å¾…æ“ä½œå‘˜æ¥è£…ä¸Šå¥½çš„ç£ç›˜ï¼Œå®ƒä»¬åŒ…å«åº”æ€¥å¤‡ç”¨â€ï¼Œè¿™æ ·ä¸€æ—¦æ£€æµ‹å‡ºé”™è¯¯ï¼Œæ•°æ®å°±å¯ä»¥ç«‹å³é‡å»ºã€‚æ“ä½œå‘˜å°±å¯è½»æ¾åœ°æ›´æ¢å‡ºé”™ç£ç›˜ã€‚æœ€åŽï¼Œæ“ä½œäººå‘˜æœ€ç»ˆå†³å®šæ’’æŽ‰å“ªä¸ªç£ç›˜ã€‚å¦‚å›¾6-3æ‰€ç¤ºï¼Œæ³¨æ„ï¼Œæ“ä½œå‘˜æ˜¯äººï¼Œå› æ­¤ä»–ä»¬æœ‰æ—¶å€™ä¼šæ’’æŽ‰å¥½çš„ç£ç›˜å¯¼è‡´ä¸å¯æ¢å¤çš„å±¯ç›˜é”™è¯¯ã€‚ é™¤äº†è®¾è®¡å¯ä»¥ä¿®å¤çš„RAID,è¿˜å­˜åœ¨ä¸€äº›å¦‚ä½•éšç€ç£ç›˜æŠ€æœ¯å˜åŒ–çš„é—®é¢˜ã€‚å°½ç®¡ç£ç›˜åŽ‚å•†æ ‡ç§°ä»–ä»¬çš„äº§å“å…·æœ‰å¾ˆé«˜çš„MTTF,ä½†æ˜¯è¿™äº›æ•°æ®æ˜¯åœ¨å‡è®¾çš„æƒ…å†µä¸‹å¾—åˆ°çš„ã€‚å¦‚æžœæŸä¸ªç‰¹å®šç£ç›˜é˜µåˆ—è¿Žé‡äº†ç”±äºŽç©ºè°ƒç³»ç»Ÿæ•…éšœã€ç³Ÿç³•çš„ç£ç›˜æž¶è®¾è®¡ã€æž„å»ºæˆ–è€…å®‰è£…å¼•èµ·éœ‡åŠ¨é¢å¼•èµ·æ¸©åº¦å‘¨æœŸå˜åŒ–ï¼Œå‡ºé”™çŽ‡å°†å¤§å¤§å¢žåŠ ï¼Œå¢žåŠ 3-6å€(è§6.12èŠ‚)ã€‚RADå¯é æ€§çš„è®¡ç®—å‡è®¾å¤šä¸ªç£ç›˜å¤±æ•ˆä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œä½†å®žé™…ä¸Šè¿™äº›å¤±æ•ˆå¯èƒ½æ˜¯ç›¸å…³çš„ï¼Œå› ä¸ºçŽ¯å¢ƒå¼•èµ·çš„æŸä¼¤å¯èƒ½ä¼šå‘ç”Ÿåœ¨é˜µåˆ—ä¸­çš„æ‰€æœ‰ç£ç›˜ä¸Šã€‚å¦ä¸€ä¸ªé—®é¢˜æ˜¯ç£ç›˜çš„å¸¦å®½ç›¸å¯¹ç£ç›˜çš„å®¹é‡å˜åŒ–å¾—è¶Šæ¥è¶Šæ…¢ï¼Œåœ¨ä¸ªRAIDç³»ç»Ÿä¸­ä¿®å¤ä¸€ä¸ªç£ç›˜çš„æ—¶é—´å˜å¾—è¶Šæ¥è¶Šé•¿ï¼Œè¿™ä¸€ç‚¹åè¿‡æ¥å¢žåŠ ç¬¬äºŒæ¬¡æ•…éšœå‡ºçŽ°çš„æ¦‚çŽ‡ã€‚ä¾‹å¦‚ï¼Œåœ¨å‡è®¾æ²¡æœ‰å¹²æ‰°æ—¶ï¼Œä¸€ä¸ª1000 GB SATAç£ç›˜å¯èƒ½éœ€è¦èŠ±è´¹3ä¸ªå°æ—¶æ¥é¡ºåºè¯»ã€‚å‡è®¾è¿™ä¸ªæŸåçš„RAID å¾ˆå¯èƒ½è¢«ç»´ç»­ç”¨æ¥æä¾›æ•°æ®ï¼Œé‡å»ºè¿‡ç¨‹å°±ä¼šè¢«å»¶é•¿å¾ˆå¤šã€‚é™¤äº†å¢žåŠ æ—¶é—´å¤–ï¼Œå¦-ä¸ªé—®é¢˜æ˜¯åœ¨é‡å»ºè¿‡ç¨‹ä¸­ä¸€æ¬¡è¯»å¾ˆå¤šæ•°æ®å°†æ„å‘³è€…å¢žåŠ ä¸å¯æ¢å¤çš„è¯»åª’ä½“æ•…éšœå‘ç”Ÿçš„æ¦‚çŽ‡ï¼Œè€Œä¸å¯æ¢å¤çš„æ•…éšœå°†å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚å…¶ä»–å…³äºŽåŒæ—¶å‘ç”Ÿå¤šä¸ªæ•…éšœçš„çœ‹æ³•æ˜¯å¢žåŠ é˜µåˆ—ä¸­çš„ç£ç›˜æ•°ç›®ä»¥åŠä½¿ç”¨SATAç£ç›˜ï¼Œè¿™æ ·æ¯”ä¼ ç»Ÿçš„å•†ç”¨ç£ç›˜æ…¢-äº›ï¼Œä½†å…·æœ‰æ›´é«˜çš„å®¹é‡ã€‚ å› æ­¤ï¼Œè¿™äº›è¶‹åŠ¿å¯¼è‡´å¯¹é˜²æ­¢ç³»ç»Ÿå…å—å¤šé‡æ•…éšœçš„ç ”ç©¶å…´è¶£å¤§å¤§å¢žåŠ ã€‚æ‰€ä»¥RAID6æˆä¸ºä¸€ç§å¯é€‰é¡¹ï¼Œåœ¨å®žé™…ä¸­è¢«ä½¿ç”¨ã€‚ æ¡å¸¦åŒ–(striping)ï¼šå°†é€»è¾‘ä¸Šè¿žç»­çš„æ•°æ®å—åˆ†å¸ƒåˆ°ä¸åŒçš„ç£ç›˜t,å¾—åˆ°æ¯”å•ä¸ªå¾®ç›˜æ›´é«˜çš„æ€§èƒ½ã€‚ é•œåƒ(mirroring)ï¼šå°†ç›¸åŒçš„æ•°æ®å†™åˆ°å®¢ä¸ªæ•°ç›˜ä¸Šï¼Œç›®çš„æ˜¯å¢žåŠ æ•°æ®çš„å¯ç”¨æ€§ã€‚ ä¿æŠ¤ç»„(protection group):å…±äº«ä¸€ä¸ªå…¬å…±æ ¡éªŒç£çš„æ•°æ®ç£ç›˜ç»„æˆ–è€…æ•°æ®å—ã€‚]]></content>
      <categories>
        <category>è¯»ä¹¦ç¬”è®°</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Tampermonkeyçš„è¿è¡ŒåŽŸç†]]></title>
    <url>%2F2018%2F12%2F26%2FTem%2F</url>
    <content type="text"><![CDATA[TamperMonkey is a Google Chrome (and Opera and Chromium) plugin similar to GreaseMonkey for Firefox. It allows you to inject additional JavaScript into web pages you load in your browser, adding features, removing features, or in our case doing hacky, automated things]]></content>
      <categories>
        <category>Tampermonkeyç›¸å…³</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Chromeæ’ä»¶å¼€å‘åŽŸç†]]></title>
    <url>%2F2018%2F12%2F26%2FChrome%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[Extensions are small software programs that customize the browsing experience. They enable users to tailor Chrome functionality and behavior to individual needs or preferences. They are built on web technologies such as HTML, JavaScript, and CSS.]]></content>
      <categories>
        <category>Chromeç›¸å…³</category>
      </categories>
      <tags>
        <tag>æ’ä»¶å¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VSCodeå¸¸ç”¨å¿«æ·é”®]]></title>
    <url>%2F2018%2F12%2F26%2FVSCode%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE%2F</url>
    <content type="text"><![CDATA[è®°å½•å‡ ä¸ªå¿«æ·é”®äº†äº‹Â·Â·Â·Â· å®˜æ–¹å¿«æ·é”®æ–‡æ¡£ å¿«æ·é”® è¯´æ˜Ž Ctrl + Shift + P, F1 å‘½ä»¤é¢æ¿ Ctrl + , ç”¨æˆ·è®¾ç½® Ctrl + F æŸ¥æ‰¾ Ctr + =/- æ”¾å¤§ç¸®å°]]></content>
      <categories>
        <category>VSCodeç›¸å…³</category>
      </categories>
      <tags>
        <tag>å¿«æ·é”®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pycharmå¸¸ç”¨å¿«æ·é”®]]></title>
    <url>%2F2018%2F12%2F26%2FPycharm%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸€äº›Pycharmä¸­å¸¸ç”¨çš„å¿«æ·é”® åˆ›å»ºå’Œç¼–è¾‘ åŠŸèƒ½ æè¿° æ³¨é‡Š Show Intention Actions Alt+Enter . Basic Code Completion Ctrl+Space . Smart Code Completion Ctrl+Shift+Space . Type Name Completion Ctrl+Alt+Space ç±»åž‹åè¡¥å…¨ï¼Œå‡ ä¹Žå¯ä»¥è¡¥å…¨ä»»ä½•ä¸œè¥¿ Quick Definition Ctrl+Shift+I å¯ä»¥åœ¨å½“å‰é¡µé¢æµè§ˆå®šä¹‰.ä¸å¯ç›´æŽ¥ç¼–è¾‘ å®ƒä¼šå±•ç¤ºæ–¹æ³•çš„å†…å®¹ Quick/External Documentation Ctrl+Q / Shift+F1 å¯ä»¥å¿«é€ŸæŸ¥çœ‹å‡½æ•°æ–‡æ¡£,æŒ‰ä¸¤æ¬¡qå¯ä»¥å¼€ä¸€ä¸ªå•ç‹¬çš„ä¾§è¾¹çª—å£ ï¼Œ Surround Withâ€¦ Ctrl+Alt+T å¯ä»¥å°†é€‰æ‹©çš„ä»£ç ç”¨ä»€ä¹ˆæ¡†ä½ã€‚æ¯”å¦‚ifè¯­å¥ whileè¯­å¥ try catchä¹‹ç±» Extend/Shrink Selection Ctrl+W / Ctrl+Shift+W ä»Žå…‰æ ‡å¤„é€æ¸æ‰©å¤§é€‰åŒº Copy Document Path Ctrl+Shift+C å¯ä»¥ç›´æŽ¥å¤åˆ¶å½“å‰æ‰“å¼€æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ Duplicate Current Line or Selection Ctrl+D åœ¨éœ€è¦è¿žç»­å¤åˆ¶ä»£ç çš„æ—¶å€™ç‰¹åˆ«æœ‰ç”¨ï¼Œæ¯”å¦‚éœ€è¦è¿žç»­å†™å¾ˆå¤šprintå‡½æ•° Move Line Up Ctrl+Shift+UpMove Line Down Ctrl+Shift+DownDelete Line at Caret Ctrl+YJoin/Split Line Ctrl+Shift+J / Ctrl+EnterStart New Line Shift+EnterToggle Case Ctrl+Shift+UExpand/Collapse Code Block Ctrl+NumPad +/-Expand/Collapse All Ctrl+NumPad +/-Save All Ctrl+S Analyze and ExploreShow Error Description Ctrl+F1Next/Previous Highlighted Error F2 / Shift+F2Run Inspection by Nameâ€¦ Ctrl+Alt+Shift+IType Hierarchy Ctrl+HCall Hierarchy Ctrl+Alt+H VERSION CONTROL ç‰ˆæœ¬æŽ§åˆ¶VCS Operations Popupâ€¦ Alt+`Commit Ctrl+KUpdate Project Ctrl+TRecent Changes Alt+Shift+CRevert Ctrl+Alt+ZPushâ€¦ Ctrl+Shift+KNext Change Ctrl+Alt+Shift+DownPrevious Change Ctrl+Alt+Shift+Up MASTER YOUR IDE ç®¡ç†IDEFind Actionâ€¦ Ctrl+Shift+AOpen a Tool Window Alt+[0-9]Synchronize Ctrl+Alt+YQuick Switch Schemeâ€¦ Ctrl+`å¯ä»¥å¿«é€Ÿåˆ‡æ¢ä¸»é¢˜ æˆ‘è§‰å¾—æŒºå®žç”¨çš„ Settingsâ€¦ Ctrl+Alt+S æ‰“å¼€è®¾ç½®Jump to Source/Navigation Bar F4 / Alt+HomeJump to Last Tool Window F12Hide Active/All Tool Windows Shift+Esc / Ctrl+Shift+F12Go to Next/Previous Editor Tab Alt+Right / Alt+LeftGo to Editor (from a Tool Window) EscClose Active Tab/Window Ctrl+Shift+F4 / Ctrl+F4 FIND EVERYTHING æŸ¥æ‰¾ åŠŸèƒ½ æè¿° æ³¨é‡Š Search Everywhere Double Shift æŒ‰ä¸¤ä¸‹shift Declaration Ctrl+B å¯ä»¥è½¬åˆ°å‡½æ•°å’Œç±»ç­‰çš„å£°æ˜Žå¤„,ä¸Žä¸‹é¢çš„å¿«æ·é”®ä¸åŒï¼Œå¦‚æžœå£°æ˜Žçš„å‡½æ•°ä¸åœ¨åŒä¸€ä¸ªæ–‡ä»¶åˆ™ä¼šå¼€ä¸€ä¸ªæ–°çš„é¡µé¢åŽ»æŸ¥çœ‹ï¼Œå¹¶ä¸”å¯ä»¥ç¼–è¾‘ Find Usages / Find Usages in File Alt+F7 / Ctrl+F7 æŸ¥æ‰¾å¼•ç”¨ï¼Œè¿™ä¸ªæŸ¥æ‰¾æ˜¯å…¨å±€çš„ï¼Œæ¯”å¦‚æŸ¥æ‰¾printçš„å¼•ç”¨å°±ä¼šå‘çŽ°æœ‰æ•°ç™¾ä¸ªå¼•ç”¨ Find/Replace Ctrl+F / Ctrl+RFind/Replace in Path Ctrl+Shift+F / Ctrl+Shift+RNext/Previous Occurence F3 / Shift+F3Find Word at Caret Ctrl+F3Go to Class/File Ctrl+N / Ctrl+Shift+NGo to File Member Ctrl+F12Go to Symbol Ctrl+Alt+Shift+N NAVIGATE FROM SYMBOLS ä»Žç¬¦å·å¤„å®šä½ Type Declaration (JavaScript only) Ctrl+Shift+BSuper Method Ctrl+UImplementation(s) Ctrl+Alt+B Highlight Usages in File Ctrl+Shift+F7 æŠŠå¼•ç”¨é«˜äº®æ˜¾ç¤ºå‡ºæ¥Show Usages Ctrl+Alt+F7 ç”¨ä¸€ä¸ªå°æ¡†ç›´æŽ¥å±•ç¤ºå¼•ç”¨ï¼Œçœ‹èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿NAVIGATE IN CONTEXT åœ¨ä¸Šä¸‹æ–‡ä¸­å®šä½Select Inâ€¦ Alt+F1Recently Viewed/Changed Files Ctrl+E / Ctrl+Shift+ELast Edit Location Ctrl+Shift+BackNavigate Back/Forward Ctrl+Alt+Left / Ctrl+Alt+RightGo to Previous/Next method Alt+Up / Alt+DownLine/Columnâ€¦ Ctrl+GGo to Code Block End/Start Ctrl+] / Ctrl+[Add to Favorites Alt+Shift+FToggle Bookmark F11Toggle Bookmark with Mnemonic Ctrl+F11Go to Numbered Bookmark Ctrl+[0-9]Show Bookmarks Shift+F BUILD, RUN, AND DEBUG æž„å»º è¿è¡Œå’Œè°ƒè¯•Run context configuration Ctrl+Shift+F10Run/Debug Selected Configuration Alt+Shift+F10 / Alt+Shift+F9Run/Debug Current Configuration Shift+F10 / Shift+F9Step Over F8Step Into F7Smart Step Into Shift+F7Step Out Shift+F8Run to Cursor Alt+F9Force Run to Cursor Ctrl+Alt+F9Show Execution Point Alt+F10Evaluate Expressionâ€¦ Alt+F8Stop Ctrl+F2Stop Background Processesâ€¦ Ctrl+Shift+F2Resume Program F9Toggle Line Breakpoint Ctrl+F8Toggle Temporary Line Breakpoint Ctrl+Alt+Shift+F8Edit breakpoint Ctrl+Shift+F8View Breakpointsâ€¦ Ctrl+Shift+F8REFACTOR AND CLEAN UPRefactor Thisâ€¦ Ctrl+Alt+Shift+TCopyâ€¦ F5Moveâ€¦ F6Safe Deleteâ€¦ Alt+DeleteRenameâ€¦ Shift+F6Change Signatureâ€¦ Ctrl+F6Inlineâ€¦ Ctrl+Alt+NExtract Method Ctrl+Alt+MIntroduce Variable Ctrl+Alt+VIntroduce Field Ctrl+Alt+FIntroduce Constant Ctrl+Alt+CIntroduce Parameter Ctrl+Alt+PReformat Code Ctrl+Alt+L]]></content>
      <categories>
        <category>Pythonç›¸å…³</category>
      </categories>
      <tags>
        <tag>å¿«æ·é”®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MarkDownçš„åŽŸç†]]></title>
    <url>%2F2018%2F12%2F26%2FMarkDown%E7%9A%84%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[æœ‰æ²¡æœ‰å¥½å¥‡è¿‡ï¼Œä¸ºä»€ä¹ˆä½ ç”¨äº†è¿™äº›ç®€å•çš„æ ‡è®°å°±å¯ä»¥å¯¹æ–‡ç« è¿›è¡ŒæŽ’ç‰ˆå’Œç¾ŽåŒ–ï¼Ÿå®ƒæ˜¯æ€Žä¹ˆåšåˆ°çš„ï¼Ÿ]]></content>
      <categories>
        <category>MarkDownç›¸å…³</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MarkDownå¸¸ç”¨è¯­æ³•å’Œå¿«æ·é”®]]></title>
    <url>%2F2018%2F12%2F26%2FMarkDown%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95%E5%92%8C%E5%BF%AB%E6%8D%B7%E9%94%AE%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸€äº›å¿«æ·é”®]]></content>
      <categories>
        <category>MarkDownç›¸å…³</category>
      </categories>
      <tags>
        <tag>å¿«æ·é”®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoçš„ç»“æž„å’ŒåŽŸç†]]></title>
    <url>%2F2018%2F12%2F26%2FHexo%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[åå­—æœ‰ç‚¹å“äººï¼Œå…¶å®žæˆ‘å°±æ˜¯æƒ³æžæ˜Žç™½Hexoçš„å¤§è‡´ç»“æž„æ˜¯ä»€ä¹ˆï¼Œå®ƒæ˜¯æ€Žä¹ˆè¿è¡Œèµ·æ¥çš„ :-Dæˆ‘ä¸çŸ¥é“è¿™éœ€è¦å¤šå°‘ä¸“ä¸šçš„å‰ç«¯çŸ¥è¯†ï¼Œåªæ±‚å°½é‡æžæ‡‚å¿ƒä¸­æœ‰æ•°å°±å¥½ Hexoçš„æ–‡ä»¶å¤¹ç»“æž„123456789.â”œâ”€â”€ _config.yml â”œâ”€â”€ db.jsonâ”œâ”€â”€ node_modules â”œâ”€â”€ package.jsonâ”œâ”€â”€ public â”œâ”€â”€ scaffolds â”œâ”€â”€ source #æ‰€æœ‰æ–‡ç« æ–‡ä»¶æ”¾åœ¨è¿™é‡Œâ””â”€â”€ themes #ä¸»é¢˜æ–‡ä»¶å¤¹ Node.js Node.jsÂ® is a JavaScript runtime built on Chromeâ€™s V8 JavaScript engine. npm npm is the package manager for JavaScript and the worldâ€™s largest software registry. Discover packages of reusable code â€” and assemble them in powerful new ways. yarn Yarn is a package manager for your code. It allows you to use and share code with other developers from around the world. Yarn does this quickly, securely, and reliably so you donâ€™t ever have to worry. nodeåŒ…]]></content>
      <categories>
        <category>Hexoç›¸å…³</category>
      </categories>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªç”¨Chromeæ’ä»¶æ±‡æ€»]]></title>
    <url>%2F2018%2F12%2F25%2F%E8%87%AA%E7%94%A8Chrome%E6%8F%92%E4%BB%B6%E6%B1%87%E6%80%BB%2F</url>
    <content type="text"><![CDATA[åœ¨è¿™é‡Œå°†è‡ªå·±é€›åº”ç”¨å•†åº—å‘çŽ°çš„å®žç”¨æ’ä»¶å®‰åˆ©ä¸€ä¸‹ï¼ŒåŒ…æ‹¬ä¸ªæ€§åŒ–æ’ä»¶ä»¥åŠä¸€äº›æ¯”è¾ƒä¸“ä¸šçš„å·¥å…·ã€‚Chromeæ²¡äº†æ’ä»¶å¯ä¸è¡Œï¼Œæ¯•ç«Ÿæ’ä»¶æ‰æ˜¯æœ¬ä½“ :) ä¸ªæ€§åŒ– Infinity æ–°æ ‡ç­¾é¡µ é¢œå€¼å¾ˆé«˜çš„ä¸ªæ€§åŒ–ä¸»é¡µã€‚å¯¹æˆ‘æ¥è¯´å°±æ˜¯æŠŠæˆ‘å¸¸ç”¨çš„å‡ ä¸ªç½‘ç«™æ”¾åœ¨ä¸ŠåŽ»ã€‚å½“ç„¶å¯ä»¥æ”¾åœ¨ä¹¦ç­¾æ é‡Œä¸è¿‡æˆ‘çš„ä¹¦ç­¾æ å®žåœ¨å¤ªè‡ƒè‚¿äº†ï¼Œè¿™æ ·ä½“éªŒä¸æ˜¯å¾ˆå¥½ã€‚ ä¹¦ç­¾ä¾§è¾¹æ  å®ƒå°±æ˜¯ä¸ºäº†æ‹¯æ•‘æˆ‘è‡ƒè‚¿çš„ä¹¦ç­¾æ è€Œæ¥çš„ã€‚å¯éšè—çš„ä¾§è¾¹æ è®¾è®¡ç‰¹åˆ«æœ‰è¶£è·Ÿå…¶ä»–çš„éƒ½ä¸ä¸€æ ·ã€‚ç¼ºç‚¹å°±æ˜¯æœ‰æ—¶å€™ä¼šè¯¯è§¦ã€‚ å¼€å‘è€…å·¥å…·æ—¥å¸¸å·¥å…·bilibiliå“”å“©å“”å“©ä¸‹è½½åŠ©æ‰‹å…³äºŽä¸‹è½½ç½‘é¡µè§†é¢‘çš„å·¥å…·å¾ˆå¤šï¼Œæ¯”å¦‚ç¡•é¼ ã€‚ä¸è¿‡è¿™ä¸ªæ˜¯Bç«™ä¸“ç”¨çš„,åŠŸèƒ½å•ä¸€ç”¨èµ·æ¥ä¹Ÿå°±æ–¹ä¾¿ :) æˆ‘ç”¨å®ƒä¸‹è½½äº†å¾ˆå¤šBç«™å¤§ä¼šå‘˜ä¸“äº«çš„é«˜æ¸…èµ„æº Tampermonkey+GreasyForkä¸€å¼ å›¾å‘Šè¯‰ä½ å®ƒä»¬çš„ä½œç”¨ï¼š æ„Ÿå—åˆ°å®ƒçš„å¼ºå¤§äº†å§ï¼Ÿ Full Page Screen Captureä¸€ä¸ªæˆªç½‘é¡µå…¨å±çš„å·¥å…·ã€‚ Chromeæ²¡æœ‰è‡ªå¸¦çš„ç½‘é¡µæˆªå±å·¥å…·ï¼ˆæˆ‘æ²¡æ‰¾åˆ°ï¼‰ä¸æ”¾å›¾äº† Google Dictionary (by Google)è°·æ­Œå‡ºçš„ç½‘é¡µè¯å…¸æ’ä»¶ï¼Œç”¨èµ·æ¥å¾ˆé¡ºæ‰‹ã€‚å¦å¤–å®ƒè¿˜å¯ä»¥æŠŠæŸ¥è¯åŽ†å²è®°å½•ä¸‹æ¥åŒæ­¥åˆ°äº‘ç«¯ ç¼–ç è§£ç Hasherä¸€æ¬¾å¯ä»¥å„ç§å­—ç¬¦ä¸²hashå€¼çš„å·¥å…·ï¼Œç§ç±»å¾ˆå…¨å¶å°”ç”¨ç”¨ ç½‘ç«™å¼€å‘æŽ¥å£æµ‹è¯•å·¥å…·Restlet Client - REST API Testingé¢œå€¼å¾ˆé«˜çš„ä¸€ä¸ªREST API æµ‹è¯•å·¥å…·ã€‚æœ‰è¯„è®ºè¯´ â€œbetter than postmanâ€œ,æˆ‘è§‰å¾—è¿˜å¥½å§ï¼ŒåŠŸèƒ½éƒ½å·®ä¸å¤šåªä¸è¿‡æ’ä»¶æ›´æ–¹ä¾¿ã€‚ å–è‰²å·¥å…·ä¸¤æ¬¾å–è‰²å·¥å…·å„æœ‰åƒç§‹å§ï¼Œæ„Ÿè§‰å·®ä¸å¤šColorPick Eyedropper ColorZilla]]></content>
      <categories>
        <category>æ‚è´§é“º</category>
      </categories>
      <tags>
        <tag>chrome</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽssèŠ‚ç‚¹è´¹çŽ‡]]></title>
    <url>%2F2018%2F07%2F07%2F%E5%85%B3%E4%BA%8ESS%E7%9A%84%E8%B4%B9%E7%8E%87%2F</url>
    <content type="text"><![CDATA[ä»¥ä¸‹å†…å®¹æ¥è‡ªå®¢æœå›žå¤ï¼š æˆ‘å€‘é™åˆ¶æµé‡çš„åˆè¡·ï¼Œæ˜¯çˆ²äº†é˜²æ­¢å®¢æˆ¶åˆ†äº«è‡ªå·±çš„é…ç½®ä¿¡æ¯ä»¥åŠæ¿«ç”¨æˆ‘å€‘çš„æœå‹™ã€‚å¦‚æžœæ‚¨åœ¨æœˆåº•å‰ä½¿ç”¨æµé‡è¶…éŽäº† 50GBï¼Œ ç³»çµ±æœƒè‡ªå‹•æš«åœæ‚¨çš„æœå‹™ã€‚æ‚¨å¯ä»¥é€šéŽå·¥å–®è¯ç¹«æˆ‘å€‘é‡ç½®æ‚¨çš„æµé‡æˆ‘å€‘ç›®å‰ä¹Ÿæ›´æ–°äº†æµé‡çµ±è¨ˆæ”¿ç­–ï¼Œæ‚¨çš„å¯¦éš›å¯ä½¿ç”¨æµé‡å¹¶ä¸æ˜¯ 50GB ï¼Œèˆ‡æ‚¨æ‰€ä½¿ç”¨çš„ç¯€é»žçš„æµé‡çµ±è¨ˆå€çŽ‡æœ‰é—œã€‚æœå‹™å™¨è©³ç´°çš„çµ±è¨ˆå€çŽ‡è«‹è¦‹æ‚¨çš„æœå‹™å™¨è©³æƒ…å‚™æ³¨ï¼Œéƒ¨åˆ†æœå‹™å™¨æµé‡çµ±è¨ˆå€çŽ‡å¦‚ä¸‹ï¼šhk1 -&gt; 100%jp1 -&gt; 150%us2 -&gt; 40%us1 -&gt; 1%hk3 -&gt; 20%ali-hk2 -&gt; 150%ali-jp2 -&gt; 120%ali-sg1 -&gt; 120%ult ä¸­è½‰ç¯€é»ž -&gt; 200%æ‚¨ä½¿ç”¨çš„æµé‡æ ¹æ“šæ‚¨ä½¿ç”¨çš„æœå‹™å™¨æœƒæŒ‰ç…§ä¸Šè¿°å€çŽ‡çµ±è¨ˆï¼Œå¦‚æžœæ‚¨éœ€è¦ä½¿ç”¨ 1GB æµé‡ï¼Œä½¿ç”¨ hk1 (100%) çš„è©±ï¼Œæµé‡çµ±è¨ˆç‚ºæ­£å¸¸çš„ 1GB , ä½¿ç”¨ jp1 (150%) å‰‡æœƒçµ±è¨ˆç‚º 1.5GB ï¼Œä½¿ç”¨ us1 (1%) å‰‡è¡¹æœƒçµ±è¨ˆç‚º 10M æµé‡è¨ˆå…¥æ‚¨çš„ç¸‚ä½¿ç”¨æµé‡ã€‚å¦‚æžœæ‚¨åœ¨æœˆåº•å‰ä½¿ç”¨è¶…è¿‡ 50GB æµé‡ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿä¼šè‡ªåŠ¨æš‚åœæ‚¨çš„æœåŠ¡ã€‚ä½†æ˜¯æ‚¨è¯·ä¸è¦æ‹…å¿ƒï¼Œå¦‚æžœæ‚¨åœ¨æœˆåº•å‰ä½¿ç”¨çš„æµé‡å°†æŽ¥è¿‘äºŽ 50GB æ—¶ï¼Œè¯·è”ç³»æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¼šæ‰‹åŠ¨ä¸ºæ‚¨å¢žåŠ æµé‡ï¼Œç¡®ä¿æ‚¨çš„æ­£å¸¸ä½¿ç”¨ã€‚ å»ºè­°æ‚¨é€²è¡Œå¤§æµé‡çš„æ“ä½œæ™‚ä½¿ç”¨ä½Žå€çŽ‡çš„æœå‹™å™¨ï¼ˆå¦‚ us2 ï¼‰ã€‚å¦‚æžœæ‚¨è¿˜æœ‰æ›´å¤šç–‘é—®ï¼Œè¯·ä¸è¦çŠ¹è±«è”ç³»æˆ‘ä»¬è°¢è°¢Best regardsFuse MidoriShadowsocks.com Team ä¹Ÿå°±æ˜¯è¯´åœ¨æ¯ä¸ªæœˆæœ‰50Gæµé‡çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨1.0å€çŽ‡çš„èŠ‚ç‚¹ä»£è¡¨ä½ ç”¨1GBæµé‡æœåŠ¡å™¨å°±æ‰£ä½ 1GBï¼Œä½¿ç”¨1.5å€è´¹çŽ‡çš„èŠ‚ç‚¹ç”¨1GBåˆ™æ‰£ä½ 1.5GBã€‚ä¾æ­¤ç±»æŽ¨]]></content>
      <categories>
        <category>æ‚è´§é“º</category>
      </categories>
      <tags>
        <tag>ç§‘å­¦ä¸Šç½‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åšå®¢æ›´æ–°æ—¥å¿—]]></title>
    <url>%2F2018%2F07%2F07%2F%E5%8D%9A%E5%AE%A2%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97%2F</url>
    <content type="text"><![CDATA[2018å¹´7æœˆ7æ—¥ï¼š 1.å¢žåŠ å¥½ç«™ï¼šåœ¨çº¿è¡¨æ ¼ç”Ÿæˆå™¨ ä¸€ä¸ªç”¨äºŽåœ¨çº¿ç”Ÿæˆå„ç§ç±»åž‹è¡¨æ ¼çš„å·¥å…·ï¼Œæ”¯æŒLaTexã€HTMLã€Text(å°±æ˜¯ç”¨åŠ å·å’ŒçŸ­æ¨ªæ¡†èµ·æ¥çš„è¡¨æ ¼)ã€Markdownã€MediaWiki æ ¼å¼ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ 2.å¢žåŠ å¥½ç«™ï¼šç§‘å­¦ä¸Šç½‘ï¼ˆä»˜è´¹ï¼‰ æˆ‘ä¸€ç›´åœ¨ç”¨çš„ç¿»å¢™å·¥å…·ã€‚å®¢æˆ·ç«¯ä½¿ç”¨çš„æ˜¯ShadowSocksï¼ŒèŠ‚ç‚¹å¾ˆå¤šï¼ŒåŒ…æ‹¬é¦™æ¸¯ç¾Žå›½æ—¥æœ¬ä¿„ç½—æ–¯ã€‚æ”¯æŒæ”¯ä»˜å®ï¼Œå…¥é—¨ç‰ˆå¹´è´¹åªè¦98.74å…ƒï¼Œåˆä¸€ä¸ªæœˆ8å—é’±ã€‚æ¯æœˆé™æµ50Gï¼Œç”¨å®Œåˆ™æ–­ç½‘ï¼Œå†ç”¨åˆ™éœ€è¦è”ç³»å®¢æœå¢žåŠ æµé‡ã€‚ä¸ªäººè§‰å¾—50Gè¶³å¤Ÿåˆ·æ²¹ç®¡å’Œinsç”¨äº†ã€‚ç›®å‰æˆ‘è¿˜æ²¡æœ‰ç”¨å®ƒä¸‹è½½è¿‡å¤§æ–‡ä»¶ï¼Œå®˜æ–¹æ˜¯ç¦æ­¢æ»¥ç”¨çš„ã€‚ å¦å¤–æ¯ä¸ªèŠ‚ç‚¹çš„è´¹çŽ‡ä¸ä¸€æ · å…³äºŽè´¹çŽ‡çš„è¯¦æƒ…è§æˆ‘çš„æ–‡ç«  3.æ·»åŠ æ–‡ç« ï¼šå…³äºŽssèŠ‚ç‚¹è´¹çŽ‡ 4. å¯ç”¨äº†æ•°å­¦å…¬å¼æ¸²æŸ“çš„é€‰é¡¹ 2018å¹´7æœˆ6æ—¥ï¼š æ·»åŠ æ–‡ç« ï¼šMIPSå¸¸ç”¨è¡¨æ ¼]]></content>
      <tags>
        <tag>åšå®¢æ›´æ–°æ—¥å¿—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MIPSå¸¸ç”¨è¡¨æ ¼]]></title>
    <url>%2F2018%2F07%2F06%2FMIPS%E5%B8%B8%E7%94%A8%E8%A1%A8%E6%A0%BC%2F</url>
    <content type="text"><![CDATA[ä»¥ä¸‹æ˜¯åœ¨å­¦ä¹ å’Œåšé¢˜ä¸­ç»å¸¸è¦ç”¨åˆ°çš„MIPSæ±‡ç¼–æŒ‡ä»¤è¡¨æ ¼ Råž‹æŒ‡ä»¤ op rs rt rd shamt funct 6ä½ 5ä½ 5ä½ 5ä½ 5ä½ 6ä½ Iåž‹æŒ‡ä»¤ op rs rt constant or address 6ä½ 5ä½ 5ä½ 16ä½ MIPSä¸­32ä¸ªé€šç”¨å¯„å­˜å™¨ Name number Usage Reserved on call \$zero 0 constant value =0(æ’ä¸º0) n.a \$at 1 reserved for assembler n.a. \$v0 ~ \$v1 2~3 values for results(è¿‡ç¨‹è°ƒç”¨è¿”å›žå€¼) no \$a0~\$a3 4~7 Arguments(è¿‡ç¨‹è°ƒç”¨å‚æ•°) å¦ \$t0~\$t7 8~15 Temporaries(ä¸´æ—¶å˜é‡) no \$s0~\$s7 16~23 Saved(ä¿å­˜) yes \$t8~\$t9 24~25 more temporaries(å…¶ä»–ä¸´æ—¶å˜é‡) no \$k0~\$k1 26~27 reserved for kernel(ä¸ºOSä¿ç•™) ä¸é€‚ç”¨ \$gp 28 global pointer(å…¨å±€æŒ‡é’ˆ) yes \$sp 29 stack pointer (æ ˆæŒ‡é’ˆ) yes \$fp 30 frame pointer (å¸§æŒ‡é’ˆ) æ˜¯ \$ra 31 return address (è¿‡ç¨‹è°ƒç”¨è¿”å›žåœ°å€) æ˜¯ ç®—æœ¯è¿ç®—æŒ‡ä»¤ Instruction Example Meaning Comments add add \$1,\$2,\$3 \$1 = \$2 + \$3 3 operands; excep. possible subtract sub \$1,\$2,\$3 \$1 = \$2 â€“ \$3 3 operands; excep. possible add immed. addi \$1,\$2,100 \$1 = \$2 + 100 + constant; excep. Possible multiply mult \$2,\$3 Hi, Lo = \$2Ã—\$3 64-bit signed product divide div \$2,\$3 Lo = \$2 Ã· \$3 Hi = \$2 mod \$3 Lo = quotient,Hi = remainder é€»è¾‘è¿ç®—æŒ‡ä»¤ Instruction Example Meaning Comments and and \$1,\$2,\$3 \$1 = \$2 &amp; \$3 Logical AND or immed. ori \$1,\$2,20 \$1 = \$2 &#124; 20 Bitwise-OR of constant xor xor \$1,\$2,\$3 \$1 = \$2âˆ§\$3 Logical XOR nor nor \$1,\$2,\$3 \$1 = ~(\$2 &#124; \$3) Logical NOR æ•°æ®ä¼ è¾“æŒ‡ä»¤ Instruction Example Meaning Comments sw sw \$3, 500(\$4) \$3 â†’(\$4+ 500) Store word sh sh \$3, 502(\$2) Low Half of \$3 â†’(\$2+ 502) Store half sb sb \$2, 41(\$3) LQ of \$2 â†’(\$3+ 41) Store byte lw lw \$1, -30(\$2) (\$2-30) â†’ \$1 Load word lh lh \$1, 40(\$3) (\$3+ 40) â†’ LH of \$1 Load half lb lb \$1, 40(\$3) (\$3+ 40) â†’ LQ of \$1 Load byte æ¡ä»¶åˆ†æ”¯æŒ‡ä»¤ Instruction Example Meaning Comments beq beq \$1,\$2,100 if (\$1ï¼\$2) go to PC+4+100 branch on equal bne bne \$1,\$2,100 if (\$1 != \$2) go to PC+4+100 branch on not eq. slt slt \$1,\$2,\$3 if (\$2 &lt; \$3) \$1=1; else \$1=0 set on less than slti slti \$1,\$2,100 if (\$2 &lt; 100) \$1=1; else \$1=0 set less than imm. æ— æ¡ä»¶è·³è½¬æŒ‡ä»¤ Instruction Example Meaning Comments j j 10000 go to 10000 jump jal jal 10000 \$31 = PC + 4; go to 10000 for procedure call jump and link jr jr \$31 go to \$31 for switch, procedure return jump register]]></content>
      <tags>
        <tag>MIPS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šç¼–è¯‘åŽŸç†ä¸­å­é›†æ³•çš„æ•™å­¦æŽ¢è®¨ã€‹â€”â€”è’‹å‡Œäº‘-å­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2018%2F05%2F21%2F%E3%80%8A%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B8%AD%E5%AD%90%E9%9B%86%E6%B3%95%E7%9A%84%E6%95%99%E5%AD%A6%E6%8E%A2%E8%AE%A8%E3%80%8B%E2%80%94%E2%80%94%E8%92%8B%E5%87%8C%E4%BA%91-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ç”¨è¯†åˆ«çš„è§‚ç‚¹çœ‹å­é›†æ³•çš„å®šä¹‰è®¾è®¡å­é›†æ³•çš„ç›®çš„æ˜¯å°†è½¬æ¢ç³»ç»Ÿæž„é€ å‡ºç¡®å®šæœ‰ç©·è‡ªåŠ¨æœºï¼ˆDFAï¼‰ï¼Œæ‰€ä»¥å¯ä»¥ä»Žè¯†åˆ«çš„è§‚ç‚¹ç†è§£å­é›†æ³•ã€‚å¯¹çŠ¶æ€å­ é›†Içš„Îµ-é—­åŒ…å’Œå­é›†Iaè¿›è¡Œé‡æ–°å®šä¹‰ã€‚å›¾1ä¸ºæ­£è§„å¼eï¼(aï½œ b)*(aaï½œbb)(aï½œb)*å¯¹åº”çš„è½¬æ¢ç³»ç»Ÿã€‚ä»¥å›¾1ä¸ºä¾‹æ¥è¯´æ˜Žé‡ æ–°å®šä¹‰çš„çŠ¶æ€å­é›†Içš„Îµ-é—­åŒ…å’Œå­é›†Iaã€‚ çŠ¶æ€å­é›†Içš„Îµ-é—­åŒ…é‡æ–°å®šä¹‰ä¸ºâ€œä»ŽçŠ¶æ€å­é›†Iä¸­çš„æ¯ä¸ªçŠ¶æ€å¼€å§‹è¯†åˆ«Îµæ‰€è¾¾åˆ°çš„çŠ¶æ€çš„å…¨ä½“â€ã€‚å› ä¸ºÎµï¼ÎµÎµï¼Îµâ€¦Îµï¼Îµï¼Œæ‰€ä»¥ä»ŽæŸä¸ªçŠ¶æ€å‡ºå‘è¯† åˆ«ä¸€ä¸ªÎµå’Œè¯†åˆ«è‹¥å¹²ä¸ªÎµï¼Œå…¶æœ¬è´¨æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯è¯†åˆ«ä¸€ä¸ªÎµã€‚ä¾‹å¦‚ï¼Œå‡è®¾Iï¼{S}ï¼Œå›¾1ä¸­ä»ŽSå‡ºå‘è¯†åˆ«ä¸€ä¸ªÎµåˆ°è¾¾ 5çŠ¶æ€ï¼Œå³M(S,Îµ)ï¼5ï¼›ä»ŽSå‡ºå‘è¯†åˆ«2ä¸ªÎµåˆ°è¾¾1çŠ¶æ€ï¼Œå³ M(S,ÎµÎµ)ï¼M(M(S,Îµ),Îµ)ï¼M(5,Îµ)ï¼1ã€‚è€ŒÎµæ˜¯ä¸€ä¸ªç©ºç¬¦å·ä¸²ï¼Œæ˜¾ç„¶æœ‰M(S,Îµ)ï¼Sã€‚é‚£ä¹ˆä»ŽSçŠ¶æ€å‡ºå‘è¯†åˆ«Îµæ‰€åˆ°è¾¾ çš„çŠ¶æ€å…¨ä½“ä¸º{S,5,1}ã€‚ å­é›†Iaé‡æ–°å®šä¹‰ä¸ºâ€œä»ŽçŠ¶æ€å­é›†Iä¸­çš„æ¯ä¸ªçŠ¶æ€å¼€å§‹è¯†åˆ«aç¬¦å·æ‰€è¾¾åˆ°çš„çŠ¶æ€çš„å…¨ä½“â€ã€‚å› ä¸ºaï¼Îµaï¼aÎµï¼Îµâ€¦ÎµaÎµâ€¦Îµï¼aï¼Œæ‰€ä»¥ä»ŽæŸä¸ªçŠ¶æ€å‡ºå‘è¯†åˆ«ä¸€ä¸ªaç¬¦å·å’Œè¯†åˆ«Îµâ€¦ÎµaÎµâ€¦Îµï¼Œå…¶æœ¬è´¨æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯è¯†åˆ«ä¸€ä¸ªaç¬¦å·ã€‚ä¾‹å¦‚ï¼Œå‡è®¾Iï¼{S,5,1}ï¼Œé¦–å…ˆä»ŽSå‡ºå‘è¯†åˆ«ä¸€ä¸ªÎµaåˆ°è¾¾5çŠ¶æ€ï¼Œå³M(S,Îµa)ï¼M(M(S,Îµ),a)ï¼(5,a)ï¼5ï¼›ä»ŽSå‡ºå‘è¯†åˆ«ÎµaÎµåˆ°è¾¾1çŠ¶æ€ï¼Œå³M(S,ÎµaÎµ)ï¼M(M(S,Îµ),aÎµ)ï¼M(5,aÎµ)ï¼M(M(5,a),Îµ)ï¼M(5,Îµ)ï¼1ï¼Œé‚£ä¹ˆä»ŽSçŠ¶æ€å‡ºå‘è¯†åˆ«aæ‰€åˆ°è¾¾çš„çŠ¶æ€å…¨ä½“ä¸º{5,1}ã€‚åŒç†ï¼Œä»Ž5çŠ¶æ€å‡ºå‘è¯†åˆ«aæ‰€åˆ°è¾¾çš„çŠ¶æ€å…¨ä½“ä¸º{5,1}ï¼Œä»Ž1çŠ¶æ€å‡ºå‘è¯†åˆ«aæ‰€åˆ°è¾¾çš„çŠ¶æ€å…¨ä½“ä¸º{3}ï¼Œç»¼åˆå¾—åˆ° Iaï¼{5,3,1}ã€‚ åˆ©ç”¨é‡æ–°å®šä¹‰åŽçš„çŠ¶æ€å­é›†Içš„Îµ-é—­åŒ…å’Œå­é›†Iaè¿›è¡Œæ•™å­¦ï¼Œå­¦ç”Ÿåªéœ€è¦åˆ©ç”¨åŽŸæ¥è‡ªåŠ¨æœºçŠ¶æ€è½¬æ¢å›¾è¯†åˆ«ç¬¦å·ä¸²çš„çŸ¥è¯†å°±å¯ä»¥æ±‚å‡ºå­é›†Içš„Îµ-é—­åŒ…å’Œå­é›†Iaï¼Œä½¿åŽŸæ¥æŠ½è±¡çš„å®šä¹‰å˜å¾—æ›´å¯æ“ä½œï¼Œæ›´å®¹æ˜“æŽŒæ¡å’Œç†è§£ã€‚ åˆ©ç”¨å­é›†æ³•è§£å†³â€œä»ŽNFAè½¬æ¢åˆ°DFAâ€é—®é¢˜å°†è½¬æ¢ç³»ç»Ÿæž„é€ å‡ºç¡®å®šæœ‰ç©·è‡ªåŠ¨æœºï¼ˆDFAï¼‰ï¼Œå…¶æœ¬è´¨æ˜¯å°†ä¸€ä¸ªå¸¦ç©ºè½¬çš„éžç¡®å®šçš„æœ‰ç©·è‡ªåŠ¨æœºï¼ˆNFAï¼‰è¿›è¡Œç¡®å®šåŒ–ã€‚å› æ­¤ï¼Œåˆ©ç”¨é‡æ–°å®šä¹‰åŽçš„çŠ¶æ€å­é›†Içš„Îµ-é—­åŒ…å’Œå­é›†Iaè¿›è¡Œæ•™å­¦ï¼Œå¯ä»¥å°†å­é›†æ³•æŽ¨å¹¿åˆ°è§£å†³â€œä»ŽNFAè½¬æ¢åˆ°DFAâ€é—®é¢˜ã€‚ I Ia Ib K 0 1 {1} {0} {Ð¤} A B Ð¤ {0} {0,1} {1} B C A {0,1} {0,1} {1} C C A å›¾3 å­é›†æ³•è½¬æ¢çŸ©é˜µ ä¾‹å¦‚ï¼Œå›¾2ä¸ºä¸€(NFA)Mï¼({0,1},{a,b},M,{1},{0})çš„çŠ¶æ€è½¬æ¢å›¾ï¼Œå­é›†æ³•çš„ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—ä¸ºåˆå§‹çŠ¶æ€é›†{1}ä¸­çš„æ¯ä¸ªçŠ¶æ€å¼€å§‹è¯†åˆ«Îµæ‰€è¾¾åˆ°çš„çŠ¶æ€çš„å…¨ä½“ï¼Œå› NFAçš„çŠ¶æ€è½¬æ¢å›¾ä¸­æ²¡æœ‰Îµï¼Œæ‰€ä»¥ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—å°±ä¸ºåˆå§‹çŠ¶æ€é›†{1}ã€‚ç¬¬ä¸€è¡ŒIaå’ŒIbåˆ†åˆ«æ˜¯ä»Ž1çŠ¶æ€å¼€å§‹è¯†åˆ«aç¬¦å·ä¸Žbç¬¦å·æ‰€è¾¾åˆ°çš„çŠ¶æ€çš„å…¨ä½“ã€‚å…¶ä½™è½¬æ¢å‚è§å›¾3ã€‚è½¬æ¢åŽçš„(DFA)Mï¼({A,B,C},{a,b},M,{1},{0})ï¼ŒM(A,0)ï¼Bï¼ŒM(B,0)ï¼Cï¼ŒM(B,1)ï¼Aï¼ŒM(C,0)ï¼Cï¼ŒM(C,1)ï¼Aã€‚]]></content>
      <tags>
        <tag>ç¼–è¯‘åŽŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽUnity3Dä¸­çš„åç¨‹-Coroutine]]></title>
    <url>%2F2018%2F05%2F10%2F%E5%85%B3%E4%BA%8EUnity3D%E4%B8%AD%E7%9A%84%E5%8D%8F%E7%A8%8B-Coroutine%2F</url>
    <content type="text"><![CDATA[è¿™å­¦æœŸï¼ˆå¤§ä¸‰ ä¸‹ï¼‰å­¦Unity3Dæ¸¸æˆå¼€å‘ã€‚ç„¶è€Œæˆ‘å¯¹U3Då¯ä»¥å®žçŽ°çš„é‚£äº›åŽä¸½æ•ˆæžœå¹¶ä¸æ„Ÿå…´è¶£Â·Â·Â·Â·Â·Â·å…¶å®žå§ï¼Œä¹Ÿä¸æ˜¯ä¸æ„Ÿå…´è¶£ï¼Œè€Œæ˜¯å®žåœ¨æ²¡æœ‰è‰ºæœ¯ç»†èƒžï¼Œä¸çŸ¥é“æ€Žä¹ˆå¼„æ‰èƒ½å¥½çœ‹ã€‚æ‰€ä»¥æˆ‘å¸Œï¼ˆzhiï¼‰æœ›(neng)å¤šå­¦ä¹ U3Dçš„è„šæœ¬ç¼–ç¨‹æŠ€æœ¯ã€‚æˆ‘å¤§ä¸€å¼€å§‹å°±å­¦çš„C#ï¼Œæ‰€ä»¥ä¸€ç›´ä»¥æ¥æ²¡æœ‰é‡åˆ°ä»€ä¹ˆä¸ç†è§£çš„åœ°æ–¹ã€‚å¯æ˜¯æˆ‘å‘çŽ°â€œåç¨‹ï¼ˆCoroutine,/kÉ™ru:â€™ti:n/ï¼‰â€ è¿™ä¸ªå¥½ä¸œè¥¿ï¼Œåœ¨æˆ‘ä¹‹å‰å­¦ä¹ C#ä¸ªè¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰é‡è§ã€‚è¿™æ¬¡å°±å¥½å¥½æ€»ç»“ä¸€ä¸‹å®ƒçš„åŽŸç†å’Œç”¨æ³•ã€‚ å å‘]]></content>
      <tags>
        <tag>Unity3D</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»ƒä¹ é¡¹ç›®ï¼šåŒºå—é“¾åœ¨åŒ»é™¢çš„åº”ç”¨]]></title>
    <url>%2F2018%2F05%2F07%2F%E7%BB%83%E4%B9%A0%E9%A1%B9%E7%9B%AE%EF%BC%9A%E5%8C%BA%E5%9D%97%E9%93%BE%E5%9C%A8%E5%8C%BB%E9%99%A2%E7%9A%84%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°é¦–å…ˆå£°æ˜Žï¼šç»è¿‡å¯¹é¡¹ç›®çš„åˆ†æžä»¥åŠå¯¹åŒºå—é“¾ç‰¹æ€§çš„äº†è§£ï¼Œæˆ‘è®¤ä¸ºï¼šåŒ»é™¢ç§æœ‰åŒºå—é“¾æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚åŒºå—é“¾çš„ç§æœ‰åŒ–ï¼Œä¼šå¯¼è‡´åŒºå—é“¾ä¸§å¤±å…¶â€œåŽ»ä¸­å¿ƒåŒ–â€çš„ç‰¹å¾ï¼Œä¹Ÿå°±æ„å‘³ç€ç¬¬ä¸‰æ–¹æ— æ³•æ‰¿è®¤è¯¥é“¾æ‰€åŒ…å«çš„ä¿¡æ¯ã€‚ æž¶æž„ è®¾è®¡ P2PæœåŠ¡æ¨¡å— æŒ–çŸ¿æ¨¡å— P2PæœåŠ¡æ¨¡å—P2PæœåŠ¡æ¨¡å—è´Ÿè´£ä¸Žå…¶ä»–èŠ‚ç‚¹å»ºç«‹è¿žæŽ¥ã€‚ç¨‹åºè¿è¡ŒåŽå¸¸é©»å†…å­˜ï¼Œä¸»è¦è´Ÿè´£ç›‘å¬å…¶ä»–èŠ‚ç‚¹çš„å¹¿æ’­ä¿¡æ¯ï¼ŒåŒæ—¶æŒ–çŸ¿æ¨¡å—ä¹Ÿé€šè¿‡å®ƒæ¥å®£å¸ƒè‡ªå·±çš„æŒ–çŸ¿æˆæžœã€‚ èŠ‚ç‚¹åˆ—è¡¨ï¼šç”¨æ¥å­˜æ”¾ç½‘ç»œçŽ¯å¢ƒä¸­æ‰€æœ‰èŠ‚ç‚¹çš„IPå’Œç«¯å£å· ç›‘å¬çº¿ç¨‹ï¼šwhile(true) ç›‘å¬æ‰€æœ‰èŠ‚ç‚¹å¹¿æ’­çš„æ¶ˆæ¯ æ–‡ä»¶æŽ¥æ”¶çº¿ç¨‹ï¼šè´Ÿè´£æ–‡ä»¶çš„æŽ¥æ”¶å’Œç¼“å†²ï¼Œæ–‡ä»¶æŒ‰æµæŽ¥æ”¶ TCPåè®®å‘é€æ–‡ä»¶çš„æ—¶å€™æ˜¯å‘é€çš„å­—èŠ‚æµï¼Œé‚£ä¹ˆå®ƒæ˜¯æ— æ³•çŸ¥é“ä¸€ä¸ªæ–‡ä»¶æ˜¯å¦å·²ç»ä¼ é€å®Œäº†çš„ã€‚æŒ‰ç…§è€å¸ˆçš„è®¾æƒ³ï¼Œä»–æ‰“ç®—åœ¨åŒ»é™¢æœåŠ¡å™¨å‘æ•°æ®åº“ä¼ è¾“æ–‡ä»¶çš„æ—¶å€™ï¼Œé€šè¿‡æŸç§æ–¹å¼èŽ·å–åˆ°å®ƒã€‚å®žçŽ°æ‰€è°“çš„ï¼Œä¸Šä¼ ä¸€ä¸ªå¤„ç†ä¸€ä¸ªã€‚ æŒ–çŸ¿æ¨¡å—æƒ³ä¸åˆ°ä»€ä¹ˆå¥½åå­—ï¼Œå°±å«æŒ–çŸ¿æ¨¡å—å§ã€‚æŒ–çŸ¿æ¨¡å—åŒ…æ‹¬ æŒ–çŸ¿çº¿ç¨‹ï¼ˆSM3è¿ç®—ï¼‰ åŒºå—æœ‰æ•ˆæ€§éªŒè¯ï¼šå½“P2PæœåŠ¡æ¨¡å—ç›‘å¬åˆ°å…¶ä»–èŠ‚ç‚¹çš„åŒºå—å¹¿æ’­åŽï¼Œç«‹å³æš‚åœæŒ–çŸ¿çº¿ç¨‹ï¼Œå¹¶å¯¹ä¼ å…¥çš„æ¨¡å—è¿›è¡Œè®¤è¯ æ–‡ä»¶é˜Ÿåˆ— å½“æ–‡ä»¶é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ åŒºå—ç»“æž„åŒºå—å¤´ 12345678910&#123; "hash": "00000000d1145790a8694403d4063f323d499e655c83426834d4ce2f8dd4a2ee", "ver": 1, "prev_block": "000000002a22cfee1f2c846adbd12b3e183d4f97683f85dad08a79780a84bd55", "mrkl_root": "7dac2c5666815c17a3b36427de37bb9d2e2c5ccec3f8633eb91a4205cb4c10ff", "time": 1231731025, "bits": 486604799, "nonce": 1889418792 &#125; åŒºå—ä½“åŒºå—ä½“ä¸­å­˜æ”¾æ–‡ä»¶çš„Hashå€¼ï¼Œè¿™ä¸ªå€¼å¯ä»¥ä½¿ç”¨ä»»ä½•æ•£åˆ—å‡½æ•°å¾—å‡ºï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨SM3ã€‚åŒºå—ä½“ä¸­å­˜æ”¾å¤šå°‘ä¸ªæ–‡ä»¶çš„Hashå€¼ä»¥åŠå­˜æ”¾ä¿¡æ¯çš„å…·ä½“ç»“æž„è®¾è®¡æš‚æœªç¡®å®šã€‚å¦å¤–ï¼Œè€å¸ˆçš„æ„è§æ˜¯ä¸ä¿ç•™åŒºå—ä½“ï¼Œæ‰€æœ‰èŠ‚ç‚¹åªä¿ç•™åŒºå—å¤´ä»¥èŠ‚çœç©ºé—´ã€‚æˆ‘è®¤ä¸ºä¿ç•™åŒºå—ä½“å¯ä»¥ä½¿åŒºå—é“¾ä¸Žæ•°æ®åº“çš„å¯¹åº”å…³ç³»çš„å»ºç«‹å˜å¾—ç®€å•ã€‚ç§æœ‰é“¾çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ç”¨æˆ·é‡å°ï¼Œäº§ç”Ÿçš„ä¿¡æ¯ä¹Ÿç›¸å¯¹è¾ƒå°‘ã€‚æ‰€ä»¥ä¿ç•™hashå€¼ä»¥åŠå…¶ä»–è¾…åŠ©ä¿¡æ¯ï¼Œå¹¶ä¸ä¼šå¤ªå ç”¨ç©ºé—´ã€‚ æŠ€æœ¯ç–‘éš¾ åŒºå—é“¾ä¸Žæ•°æ®åº“æ–‡ä»¶å¯¹åº”å…³ç³»çš„å»ºç«‹ P2Pç½‘ç»œå‘çŽ°ã€‚å³å¦‚ä½•å®žçŽ°æœºæˆ¿å†…èŠ‚ç‚¹åœ¨å¯åŠ¨æ—¶å¯ä»¥äº’ç›¸å‘çŽ°ï¼Ÿ TCPä¼ è¾“å¤§æ–‡ä»¶çš„å¤„ç† å½“ä¼ è¾“æ–‡ä»¶è¾ƒå¤šï¼Œä¸Šä¼ çš„é€Ÿåº¦å¤§äºŽæ‰€æœ‰èŠ‚ç‚¹çš„å¤„ç†é€Ÿåº¦æ—¶ï¼Œæ˜¯è¦æ±‚æœåŠ¡å™¨ç­‰å¾… æŒ–çŸ¿åŽŸç† ç±»åž‹ åç§° è¯´æ˜Ž int32_t nVersion ç‰ˆæœ¬å·ï¼Œ4å­—èŠ‚ uint256 hashPrevBlock å‰ä¸€ä¸ªåŒºå—çš„åŒºå—å¤´hashå€¼ï¼Œ32å­—èŠ‚ uint256 hashMerkleRoot åŒ…å«è¿›æœ¬åŒºå—çš„æ‰€æœ‰äº¤æ˜“æž„é€ çš„Merkleæ ‘æ ¹ï¼Œ32å­—èŠ‚ uint32_t nTime Unixæ—¶é—´æˆ³ï¼Œ4å­—èŠ‚ uint32_t nBits è®°å½•æœ¬åŒºå—éš¾åº¦ï¼Œ4å­—èŠ‚ uint32_t nNonce éšæœºæ•°ï¼Œ4å­—èŠ‚ å¦‚ä¸Šæ¯”ç‰¹å¸æ¯ä¸€æ¬¡æŒ–çŸ¿å°±æ˜¯å¯¹è¿™80ä¸ªå­—èŠ‚è¿žç»­è¿›è¡Œä¸¤æ¬¡SHA256è¿ç®—(SHA256D)ï¼Œè¿ç®—ç»“æžœæ˜¯å›ºå®šçš„32å­—èŠ‚(äºŒè¿›åˆ¶256ä½)ã€‚ æ³¨:SHA256Då³ï¼Œ SHA256D(x) =SHA256(SHA256(x)) ä»¥ä¸Š3ä¸ªå­—æ®µå¯ä»¥ç†è§£ä¸ºæ˜¯å›ºå®šçš„ï¼Œå¯¹äºŽæ¯ä¸ªçŸ¿å·¥æ¥è¯´éƒ½ä¸€æ ·ã€‚çŸ¿å·¥å¯ä»¥è‡ªç”±è°ƒæ•´çš„åœ°æ–¹æ˜¯å‰©ä¸‹çš„3ä¸ªå­—æ®µï¼ŒnNonceï¼Œæä¾›2^32ç§å¯èƒ½å–å€¼nTimeï¼Œå…¶å®žæœ¬å­—æ®µèƒ½æä¾›çš„å€¼ç©ºé—´éžå¸¸æœ‰é™ï¼Œå› ä¸ºåˆç†çš„åŒºå—æ—¶é—´æœ‰ä¸€ä¸ªèŒƒå›´ï¼Œè¿™ä¸ªèŒƒå›´æ˜¯æ ¹æ®å‰ä¸€ä¸ªåŒºå—æ—¶é—´æ¥å®šï¼Œæ¯”å‰ä¸€ä¸ªåŒºå—æ—¶é—´å¤ªæ—©æˆ–è€…å¤ªè¶…å‰éƒ½ä¼šè¢«å…¶ä»–èŠ‚ç‚¹æ‹’ç»ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒåŽä¸€ä¸ªåŒºå—çš„åŒºå—æ—¶é—´ç•¥æ—©äºŽå‰ä¸€ä¸ªåŒºå—æ—¶é—´ï¼Œè¿™æ˜¯å…è®¸çš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒçŸ¿å·¥ä¼šç›´æŽ¥ä½¿ç”¨æœºå™¨å½“å‰æ—¶é—´æˆ³ã€‚hashMerkleRootï¼Œç†è®ºä¸Šæä¾›2^256ç§å¯èƒ½ï¼Œæœ¬å­—æ®µçš„å˜åŒ–æ¥è‡ªäºŽå¯¹åŒ…å«è¿›åŒºå—çš„äº¤æ˜“è¿›è¡Œå¢žåˆ ï¼Œæˆ–æ”¹å˜é¡ºåºï¼Œæˆ–è€…ä¿®æ”¹Coinbaseäº¤æ˜“çš„è¾“å…¥å­—æ®µã€‚ ä»¥ä¸Šå›¾æ–‡æ¥è‡ªå·´æ¯”ç‰¹ æˆ‘æ‰€è¦å®žçŽ°çš„è¿™ä¸ªåŒºå—é“¾æ‰€ä½¿ç”¨çš„Hashå‡½æ•°ï¼ŒæŒ‰ç…§è€å¸ˆçš„è¦æ±‚ï¼Œæˆ‘ä»¬ä½¿ç”¨å›½å¯†ç®—æ³•SM3ï¼Œå¯¹80ä¸ªå­—èŠ‚è¿›è¡Œä¸¤æ¬¡SHA256è¿ç®—å¤§æ¦‚ä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºå¯¹è¿™80ä¸ªå­—èŠ‚è¿›è¡Œä¸¤æ¬¡SM3è¿ç®—ï¼Œå³SM3(SM3(x)) SM3å›½å¯†ç®—æ³•SM3æ˜¯ä¸€ä¸ªæ•£åˆ—ç®—æ³•ï¼Œåœ¨ä¿éšœå®‰å…¨çš„å‰æä¸‹ï¼Œç»¼åˆæ€§èƒ½æŒ‡æ ‡äºŽSHA-256åŒç­‰æ¡ä»¶ä¸‹ç›¸å½“ã€‚SM3å¯†ç æ‚å‡‘ç®—æ³•ç»“æž„ä¸Šä¸ŽSHA-256ç›¸ä¼¼ï¼Œå¹¶ä¸”é“¾æŽ¥å˜é‡é•¿åº¦ï¼Œæ¶ˆæ¯åˆ†ç»„å¤§å°å’Œæ­¥æ•°å‡ä¸ŽSHA-256ç›¸åŒã€‚æˆ‘ä»¬ä½¿ç”¨å®ƒæ¥è®¡ç®—æ–‡ä»¶çš„Hashå€¼ å…³äºŽSM3çš„æ€§èƒ½æˆ‘æƒ³çŸ¥é“SM3å¯¹æ–‡ä»¶è¿›è¡ŒHashçš„æ€§èƒ½ï¼ŒäºŽæ˜¯ç”Ÿæˆäº†ä¸åŒå¤§å°çš„æ–‡ä»¶è¿›è¡Œå¤šæ¬¡æµ‹è¯•ï¼Œæµ‹è¯•ç»“æžœå¦‚ä¸‹ï¼š æ“ä½œç³»ç»Ÿï¼šwindows10 CPUï¼š4æ ¸ 2.5GHzä¸»é¢‘ å†…å­˜ï¼š12GB æ–‡ä»¶å¤§å° è€—æ—¶ ï¼ˆåŒ…æ‹¬ç¡¬ç›˜è¯»å–æ–‡ä»¶çš„æ—¶é—´ï¼‰ 1KB 0.004s 4KB 0.004s 1MB 0.026s 10MB 0.367s 20MB 0.723s 100MB 3.466s 200MB 6.853s 500MB 17.082s 1GB 34.894s 2GB 69.084s æ ¹æ®æµ‹è¯•ç»“æžœæˆ‘ä»¬è®¤ä¸ºï¼Œè®¡ç®—Hashå€¼æ¶ˆè€—çš„æ—¶é—´ä¸Žæ–‡ä»¶çš„å¤§å°æ˜¯æˆæ­£æ¯”çš„ã€‚å¹¶ä¸”åœ¨å½“å‰æµ‹è¯•çŽ¯å¢ƒä¸‹ï¼ŒSM3ä¸é€‚åˆç”¨æ¥è®¡ç®—å¤§å°åœ¨20MBä»¥ä¸Šçš„æ–‡ä»¶çš„Hashå€¼ã€‚å› ä¸ºè¶…è¿‡20MBä¹‹åŽï¼Œè¿ç®—å•ä¸ªæ–‡ä»¶çš„æ—¶é—´ä¼šè¾¾åˆ°ç§’çº§ï¼Œç³»ç»Ÿä¼šæœ‰æ˜Žæ˜¾çš„ç­‰å¾…ã€‚è¿™æ ·ä¼šé™ä½ŽåŒºå—é“¾çš„è¿è¡Œæ•ˆçŽ‡ã€‚å¦‚æžœéœ€è¦è¿›ä¸€æ­¥ç¼©çŸ­è€—æ—¶ï¼Œé‚£ä¹ˆå¯ä»¥é‡ç‚¹è€ƒè™‘ä½¿ç”¨æŸç§ç®—æ³•ç¼©çŸ­å¤§æ–‡ä»¶çš„è¯»å–æ—¶é—´ æ³¨ï¼šå†Windowsä¸‹ç”ŸæˆæŒ‡å®šå¤§å°æ–‡ä»¶çš„å‘½ä»¤ä¸ºï¼šfsutil file createnew (æ–‡ä»¶å) &lt;å­—èŠ‚æ•°&gt; 1fsutil file createnew 1KB.testfile 1024 å¦æ³¨: ä»¥ä¸Šçš„æµ‹è¯•è¿‡ç¨‹æ˜¯ä¸€ä¸ªå°ç™½éšä¾¿å¼„çš„ï¼Œä¸‹é¢çš„æµ‹è¯•ç»“æžœæ¥è‡ªçŽ‹å°äº‘é™¢å£«å‘è¡¨çš„æœŸåˆŠæ–‡ç«  è½¯ç¡¬ä»¶å®žçŽ°æ€§èƒ½ï¼ˆä¸“ä¸šï¼‰ é€šè¿‡ä¸“ä¸šçš„è¯„æµ‹å¯ä»¥çŸ¥é“ï¼Œé€‰æ‹©SM3å¹¶æ²¡æœ‰ä»€ä¹ˆä¸å¦¥ã€‚å› ä¸ºSM3è·ŸSHA-256éš¾åˆ†ä¼¯ä»²ã€‚ åŒºå—é“¾å®‰å…¨é—®é¢˜é¦–å…ˆæˆ‘ä»¬çŸ¥é“æ¯”ç‰¹å¸åŒºå—é“¾çš„å®‰å…¨é—®é¢˜æœ‰ â€œåŒèŠ±â€ â€œ51%æ”»å‡»â€ å½“ç„¶ä¸Šè¿°é—®é¢˜å†æ¯”ç‰¹å¸åŒºå—é“¾ä¸­éƒ½å·²ç»è§£å†³ã€‚é‚£ä¹ˆåŒ»é™¢ç§æœ‰åŒºå—é“¾æ˜¯å¦ä¹Ÿå­˜åœ¨è¿™æ ·çš„é—®é¢˜ï¼Ÿ åŒèŠ±åŒèŠ±çš„åŽŸç†æš‚ç•¥ã€‚åŒèŠ±å¯ä»¥æˆåŠŸçš„å…³é”®åœ¨äºŽäº¤æ˜“çš„æ”¶é’±æ–¹åœ¨äº¤æ˜“æ²¡æœ‰è¢«æ°¸ä¹…ç¡®è®¤çš„æƒ…å†µä¸‹æŠŠè‡ªå·±çš„æŠ«è¨ç»™ä»˜é’±æ–¹ã€‚åŒèŠ±å¿…ç„¶ä¸ä¼šæˆåŠŸï¼Œå› ä¸ºæ¯”ç‰¹å¸çš„åè®®å·²ç»é™åˆ¶æ­»ï¼Œåˆ°æ—¶å€™ä¸¤ç¬”äº¤æ˜“å¿…ç„¶åªèƒ½çœŸæ­£å®Œæˆä¸€ç¬”ã€‚å¦å¤–ä¸€ç¬”ä¼šå› ä¸ºå¤„äºŽçŸ­é“¾è€Œè¢«ä¸¢å¼ƒã€‚é€ æˆæ”¶é’±æ–¹åœ¨æ²¡æœ‰æ”¶åˆ°æ¯”ç‰¹å¸çš„æƒ…å†µä¸‹å°±å®Œæˆäº†äº¤æ˜“æœ¬èº«ï¼Œæ¯”å¦‚ä¹°ä¸€ä¸ªæŠ«è¨ã€‚å¯¹äºŽå–æŠ«è¨çš„äººæ¥è¯´ï¼Œå°±æ˜¯äºæŸäº†ã€‚ä½†æ˜¯åŒºå—é“¾å¹¶æ²¡æœ‰å½±å“æ‰€ä»¥åŒ»é™¢åŒºå—é“¾ä¹Ÿæ˜¯ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜çš„ã€‚ 51%æ”»å‡»å®ƒæ˜¯æŒ‡ä¸€ä¸ªäººæˆ–è€…ä¸€ä¸ªç»„ç»‡æŽŒæ¡äº†æ•´ä¸ªç³»ç»Ÿç™¾åˆ†ä¹‹51ä»¥ä¸Šçš„ç®—åŠ›ï¼Œä»Žè€Œå¯ä»¥ä¿®æ”¹è‡ªå·±çš„äº¤æ˜“è®°å½•ç­‰ç­‰ã€‚è¿™å¯¹æ¯”ç‰¹å¸æ¥è¯´å‡ ä¹Žä¸å¯èƒ½å‘ç”Ÿï¼Œä½†æ˜¯å¯¹äºŽè¿™ä¹ˆå°åž‹çš„ä¸€ä¸ªåŒºå—é“¾æ¥è¯´ï¼Œè¿˜æ˜¯å¾ˆæœ‰å¯èƒ½çš„ã€‚æ‰€ä»¥ç€å°±å…³ç³»åˆ°åŒ»é™¢åŒºå—é“¾æ˜¯å¦è¦é¢å‘ç¤¾ä¼šæ‹›å‹ŸçŸ¿å·¥äº†ã€‚ä¸€æ—¦é¢å‘ç¤¾ä¼šå¼€æ”¾ï¼Œè€Œä¸”è§„æ¨¡åˆä¸å¤Ÿæ—¶ï¼Œé‚£ä¹ˆå°†å¤§ä¸è¶³ä¸ŽæŠµå¾¡51%æ”»å‡»ã€‚å¦‚æžœæ˜¯å°é—­çš„å±€åŸŸç½‘çŽ¯å¢ƒï¼Œå¹¶ä¸”ç½‘ç»œå®‰å…¨åšçš„å¤Ÿå¥½ï¼Œå°±å¯ä»¥é¿å…æ¥è‡ªå¤–ç•Œçš„æ”»å‡»ã€‚åªéœ€è¦åšå¥½åŒ»é™¢å†…éƒ¨çš„é˜²èŒƒå³å¯ã€‚å¹¶ä¸”ï¼Œä¸å¯¹å¤–å¼€æ”¾ï¼Œå°±æ„å‘³ç€ä»»ä½•äººæ›¿åŒ»é™¢æŒ–çŸ¿éƒ½æ˜¯æ— åˆ©å¯å›¾çš„ï¼ŒåŒ»é™¢è‡ªè´Ÿç”µè´¹ã€‚ å·²ç»å†™å…¥çš„ä¿¡æ¯æ˜¯å¦å¯æ›´æ”¹ç†è®ºä¸Šå½“ç„¶å¯ä»¥æ›´æ”¹ã€‚æƒ³è¦ä¿®æ”¹æŸä¸€ä¸ªè®°å½•çš„è¯ï¼Œåªè¦æŠŠåŒ»é™¢ç™¾åˆ†ä¹‹51ä»¥ä¸Šçš„èŠ‚ç‚¹ä¸Šçš„åŒºå—é“¾ä¿¡æ¯åšç›¸åº”ä¿®æ”¹ã€‚ç„¶åŽæŠŠæœºæˆ¿åœç”µï¼Œè®©å…¨éƒ¨èŠ‚ç‚¹é‡å¯ã€‚è¿™æ ·ï¼ŒèŠ‚ç‚¹åœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¼šä»Žå…¶ä»–èŠ‚ç‚¹èŽ·å–æœ€æ–°çš„åŒºå—é“¾ä¿¡æ¯ã€‚ç”±äºŽ 51%çš„èŠ‚ç‚¹å­˜æ”¾çš„éƒ½æ˜¯ç¯¡æ”¹è¿‡çš„ä¿¡æ¯ã€‚é‚£ä¹ˆå‰©ä½™çš„49%çš„èŠ‚ç‚¹å°±ä¼šæ”¾å¼ƒè‡ªå·±å­˜å‚¨çš„åŒºå—é“¾ä¿¡æ¯è€ŒåŽ»é€‰æ‹©ç›¸ä¿¡å¦å¤–çš„51%çš„èŠ‚ç‚¹ã€‚ç­‰å…¨éƒ¨èŠ‚ç‚¹åˆå§‹åŒ–å®Œæˆï¼Œé‚£ä¹ˆä¸€æ¡å´­æ–°çš„é“¾å°±å‡ºçŽ°äº†ã€‚æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿ æ”»å‡»çš„åŠ¨æœºå†æ¥è®¨è®ºä¸€ä¸‹æ”»å‡»çš„åŠ¨æœºã€‚æœ‰åŠ¨æœºå¯¹åŒºå—é“¾è¿›è¡Œä¿®æ”¹çš„å¯èƒ½æ˜¯å¼€é”™è¯çš„åŒ»ç”Ÿï¼Œåˆæˆ–è€…ç§‘å®¤ä¹‹é—´åˆä½œçš„æ—¶å€™å‡ºçŽ°å¤±è¯¯çš„ä¸€æ–¹ã€‚æ¯”å¦‚ï¼ŒAç§‘å®¤è¦æ±‚Béƒ¨é—¨æä¾›æŸäº›æ•°æ®ï¼Œä½†æ˜¯Béƒ¨é—¨å‘é€çš„æ•°æ®å‡ºé”™ï¼Œå¯¼è‡´Aç§‘å®¤çš„æ²»ç–—å‡ºçŽ°äº‹æ•…ï¼Œæ­¤æ—¶éœ€è¦è¿½è´£ï¼Œé‚£ä¹ˆBéƒ¨é—¨å°±æœ‰äº†å¯¹åŒºå—é“¾æ›´æ”¹çš„åŠ¨æœºã€‚å³ä½¿æœ‰åŠ¨æœºï¼Œåªè¦ä»–ä»¬æ— æ³•å¹²é¢„æœºæˆ¿èŠ‚ç‚¹çš„è¿è¡Œï¼Œé‚£ä¹ˆä»–ä»¬å°±åŸºæœ¬ä¸å¯èƒ½åŽ»ä¿®æ”¹ã€‚ æ€»ç»“åœ¨åŒºå—é“¾è§„æ¨¡ä¸å¤§çš„æ—¶å€™ï¼Œæœ€å¥½ä½¿å…¶è¿è¡Œåœ¨å°é—­çš„å±€åŸŸç½‘çŽ¯å¢ƒä¸‹ã€‚è¿™æ ·æ—¢å¯ä»¥è§„é¿é£Žé™©ï¼Œåˆé™ä½Žäº†å¼€å‘éš¾åº¦ã€‚ å…±è¯†æœºåˆ¶å å‘ å·¥ä½œé‡è¯æ˜Žå·¥ä½œé‡è¯æ˜Žæ˜¯ä¸ºäº†åŠ å¤§åŒºå—ç”Ÿæˆçš„éš¾åº¦ï¼Œè®©å•ä¸ªèŠ‚ç‚¹ä¸èƒ½è¿žç»­çš„äº§ç”ŸåŒºå—ã€‚å› æ­¤èŠ‚ç‚¹ä¹‹é—´æ˜¯æœ‰ç«žäº‰å…³ç³»çš„ åŒºå—é“¾çš„æŒä¹…åŒ–æˆ‘å†³å®šé‡‡ç”¨JSONæ ¼å¼æ¥ä¿å­˜æœ¬åœ°çš„åŒºå—é“¾ä¿¡æ¯ï¼Œå®ƒçš„ä¼˜ç‚¹å¾ˆæ˜Žæ˜¾ï¼Œç»“æž„æ¸…æ™°ã€‚å› ä¸ºæœ‰çŽ°æˆçš„åº“å¯ä»¥ä½¿ç”¨ï¼Œæ‰€ä»¥ç‰¹åˆ«æ–¹ä¾¿ã€‚]]></content>
      <tags>
        <tag>åŒºå—é“¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VSCodeæ’ä»¶å¼€å‘]]></title>
    <url>%2F2018%2F05%2F05%2FVSCode%E6%8F%92%E4%BB%B6%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦ï¼š æƒ³ä»¥åŽç ”ç©¶ä¸€ä¸‹VSCodeçš„æ’ä»¶å¼€å‘ï¼Œæ‰€ä»¥å°±å†³å®šæŠŠå®˜æ–¹æ–‡æ¡£ç¿»è¯‘ä¸€ä¸‹ã€‚å½“ç„¶äº†ï¼Œå¤§éƒ¨åˆ†æ˜¯æœºå™¨ç¿»è¯‘ï¼Œæˆ‘åªæ˜¯æŠŠç¿»è¯‘çš„å¥‡æ€ªçš„åœ°æ–¹å’Œä¸é€šé¡ºçš„åœ°æ–¹ç¨å¾®æ”¹æ”¹ï¼Œä¸å½±å“ç†è§£å°±æˆã€‚ðŸ¤£ æ¦‚è²Œå¦‚æžœä½ æœ‰å…´è¶£æ‰©å±•VS Codeï¼Œä½ æ˜¯åœ¨æ­£ç¡®çš„åœ°æ–¹ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æä¾›VS Codeæ‰©å±•æ€§æ–‡æ¡£çš„æ¦‚è¦ä»¥åŠå¦‚ä½•å¿«é€Ÿæž„å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªVS Codeæ‰©å±•ã€‚ å¦‚æžœæ‚¨å¯¹æˆ‘ä»¬çš„VS Codeçš„æ‰©å±•æ€§è®¾è®¡æ–¹æ³•æ„Ÿåˆ°å¥½å¥‡ï¼Œå¯ä»¥åœ¨è¿™é‡Œé˜…è¯»ã€‚ å¦‚æžœæ‚¨åªæƒ³ä½¿ç”¨çŽ°æœ‰çš„æ‰©å±•ï¼Œè¯·å‚é˜…Extension Marketplaceä¸»é¢˜ï¼Œæˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä»ŽVS Code Marketplaceä¸­æŸ¥æ‰¾å’Œå®‰è£…æ‰©å±•ã€‚ æ‰€æœ‰VSä»£ç æ‰©å±•å…±äº«è´¡çŒ®ï¼ˆæ³¨å†Œï¼‰ï¼Œæ¿€æ´»ï¼ˆåŠ è½½ï¼‰å’Œè®¿é—®VSä»£ç æ‰©å±•æ€§APIçš„é€šç”¨æ¨¡åž‹ã€‚ ç„¶è€Œï¼ŒVSä»£ç æ‰©å±•æœ‰ä¸¤ç§ç‰¹æ®Šçš„é£Žæ ¼ï¼Œè¯­è¨€æœåŠ¡å™¨å’Œè°ƒè¯•å™¨ï¼Œå®ƒä»¬éƒ½æœ‰è‡ªå·±çš„é™„åŠ åè®®ï¼Œå¹¶åœ¨æ–‡æ¡£çš„å„ä¸ªéƒ¨åˆ†ä¸­è¿›è¡Œäº†ä»‹ç»ã€‚ æ‰©å±• - åŸºç¡€æž„å»ºå— è¯­è¨€æœåŠ¡å™¨ - ç”¨äºŽé«˜æˆæœ¬çš„IOæˆ–CPUå¯†é›†åž‹ä»»åŠ¡ è°ƒè¯•å™¨ - é€šè¿‡è°ƒè¯•é€‚é…å™¨è¿žæŽ¥å¤–éƒ¨è°ƒè¯•å™¨ Extensionsæ¿€æ´»æ—¶æ‰€æœ‰æ‰©å±•åœ¨æˆ‘ä»¬çš„å…±äº«æ‰©å±•å®¿ä¸»è¿›ç¨‹ä¸­è¿è¡Œã€‚ è¿™ç§æ‰©å±•çš„å•ç‹¬æµç¨‹å¯ç¡®ä¿VSä»£ç å§‹ç»ˆä¿æŒå“åº”ã€‚ æ‰©å±•åŒ…æ‹¬æ”¯æŒï¼š æ¿€æ´» - åœ¨æ£€æµ‹åˆ°ç‰¹å®šæ–‡ä»¶ç±»åž‹æ—¶ï¼Œç‰¹å®šæ–‡ä»¶å­˜åœ¨æ—¶ï¼Œæˆ–é€šè¿‡å‘½ä»¤é€‰é¡¹æ¿æˆ–ç»„åˆé”®é€‰æ‹©å‘½ä»¤æ—¶åŠ è½½æ‰©å±•å ç¼–è¾‘ - å¤„ç†ç¼–è¾‘çš„å†…å®¹ - é˜…è¯»å’Œæ“ä½œæ–‡æœ¬ï¼Œåˆ©ç”¨é€‰æ‹©ï¼ˆsï¼‰ å·¥ä½œåŒº - è®¿é—®æ‰“å¼€çš„ç¼–è¾‘å™¨ï¼ŒçŠ¶æ€æ ï¼Œä¿¡æ¯æ¶ˆæ¯ç­‰ç­‰ äº‹ä»¶ - è¿žæŽ¥åˆ°ç¼–è¾‘å™¨ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œä¾‹å¦‚ï¼šæ‰“å¼€ï¼Œå…³é—­ï¼Œæ›´æ”¹ç­‰ æ¼”å˜ç¼–è¾‘ - ä¸ºä¸°å¯Œçš„è¯­è¨€æ”¯æŒåˆ›å»ºæä¾›å•†ï¼ŒåŒ…æ‹¬IntelliSenseï¼ŒPeekï¼Œæ‚¬åœï¼Œè¯Šæ–­ç­‰ç­‰ æˆ‘ä»¬æœ‰ä¸¤ä¸ªç«¯åˆ°ç«¯çš„æ•™ç¨‹ï¼Œè®©æ‚¨äº†è§£æ‰©å±•åŸºç¡€çŸ¥è¯†ï¼š Hello World - ç”ŸæˆåŸºæœ¬æ‰©å±•åï¼Œç†è§£æ‰©å±•çš„æ–‡ä»¶å¤¹ç»“æž„ï¼Œæ‰©å±•åæ¸…å•ï¼Œäº†è§£æ¿€æ´»å¦‚ä½•å·¥ä½œï¼Œè¿è¡Œå’Œè°ƒè¯•æ‰©å±•å¹¶åœ¨æœ¬åœ°å®‰è£…ã€‚ å­—æ•° - æ ¹æ®ç‰¹å®šæ–‡ä»¶ç±»åž‹æ¿€æ´»ï¼Œæ›´æ–°çŠ¶æ€æ ï¼Œå“åº”æ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„æ›´æ”¹ï¼Œå¹¶åœ¨ç¦»å¼€æ–‡ä»¶æ—¶å¤„ç½®æ‰©å±•åã€‚ æ‰©å±•æ€§åŽŸåˆ™å’Œæ¨¡å¼ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œå®ƒæè¿°äº†æ•´ä¸ªæ‰©å±•æ€§APIä½¿ç”¨çš„å…±äº«ç¼–ç¨‹æ¨¡å¼ã€‚ Language Serversè¯­è¨€æœåŠ¡å™¨å¯è®©æ‚¨ä¸ºæ‚¨çš„æ‰©å±•ç¨‹åºåˆ›å»ºä¸“ç”¨æµç¨‹ã€‚ å½“æ‚¨çš„æ‰©å±•ç¨‹åºè¿è¡Œé«˜æˆæœ¬çš„CPUæˆ–IOå¯†é›†åž‹ä»»åŠ¡æ—¶ï¼Œè¿™å¯èƒ½ä¼šå»¶ç¼“å…¶ä»–æ‰©å±•ï¼Œè¿™å¯¹äºŽæ‚¨çš„æ‰©å±•æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„è®¾è®¡é€‰æ‹©ã€‚ è¿™å¯¹äºŽåœ¨å·¥ä½œåŒºä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸­å·¥ä½œçš„ä»»åŠ¡æ˜¯å¾ˆå¸¸è§çš„ï¼Œä¾‹å¦‚ (linters or static analysis suites)æ£‰ç»’æˆ–é™æ€åˆ†æžå¥—ä»¶è¯¦ç»†äº†è§£è¯­è¨€æœåŠ¡å™¨ã€‚ Debug AdapterVS Codeå®žçŽ°äº†ä¸€ä¸ªé€šç”¨çš„è°ƒè¯•å™¨UIï¼Œå¹¶ä¾èµ–äºŽè°ƒè¯•å™¨æ‰©å±•å’Œæ‰€è°“çš„â€œè°ƒè¯•é€‚é…å™¨â€æ¥å°†è°ƒè¯•ç”¨æˆ·ç•Œé¢è¿žæŽ¥åˆ°çœŸå®žçš„è°ƒè¯•å™¨æˆ–è¿è¡Œæ—¶ã€‚ è°ƒè¯•é€‚é…å™¨æ˜¯ä¸€ä¸ªä¸“ç”¨è¿›ç¨‹ï¼Œé€šè¿‡VSä»£ç è°ƒè¯•åè®®ä¸ŽVSä»£ç è¿›è¡Œé€šä¿¡ï¼Œå¹¶ä¸”å¯ä»¥ç”¨ä»»ä½•è¯­è¨€å®žçŽ°ã€‚ äº†è§£æ›´å¤šå…³äºŽåˆ›å»ºè°ƒè¯•å™¨æ‰©å±•çš„ä¿¡æ¯ã€‚ æŸ¥çœ‹VSä»£ç æ‰©å±•çš„æœ€ç®€å•æ–¹æ³•æ˜¯é€šè¿‡æ‰©å±•å¸‚åœºã€‚ ä½ å¯ä»¥æµè§ˆæœ‰ç”¨çš„æ‰©å±•ï¼Œå®‰è£…å®ƒä»¬æ¥è¯•ç”¨å®ƒä»¬ï¼Œå¹¶äº†è§£å¦‚ä½•ä¸ºè‡ªå·±çš„å¼€å‘åœºæ™¯æ‰©å±•VS Codeã€‚ Language Extension Guidelinesè¯­è¨€æ‰©å±•æŒ‡å—ä¸»é¢˜å¯ä»¥å¸®åŠ©æ‚¨å†³å®šæ‚¨çš„æ‰©å±•æ”¯æŒå“ªäº›è¯­è¨€åŠŸèƒ½ã€‚ å®ƒæ˜¾ç¤ºäº†VS Codeä¸­æä¾›çš„å„ç§è¯­è¨€åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼Œä»£ç å»ºè®®å’Œæ“ä½œï¼Œæ ¼å¼è®¾ç½®ï¼Œé‡å‘½åï¼‰ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡è¯­è¨€æœåŠ¡å™¨åè®®æˆ–ç›´æŽ¥ä½¿ç”¨æ‰©å±•APIä»Žæ‚¨çš„æ‰©å±•å®žçŽ°å®ƒä»¬ã€‚ Themes, Snippets, and Colorizersæ‚¨å¯ä»¥é€šè¿‡è¯­æ³•çªå‡ºæ˜¾ç¤ºï¼Œæœ‰ç”¨çš„ç‰‡æ®µå’Œç²¾å¿ƒè®¾è®¡çš„é¢œè‰²ä¸»é¢˜ç­‰ç®€å•çš„ä¸œè¥¿ï¼Œä¸ºç¼–ç¨‹è¯­è¨€æä¾›å‡ºè‰²çš„ç¼–è¾‘ä½“éªŒã€‚ TextMateè‡ªå®šä¹‰æ–‡ä»¶æä¾›äº†è¿™ç§æ”¯æŒï¼ŒVS Codeå…è®¸æ‚¨è½»æ¾æ‰“åŒ…å’Œé‡ç”¨è¿™äº›æ–‡ä»¶ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥åœ¨æ‰©å±•ä¸­ç›´æŽ¥ä½¿ç”¨.tmThemeï¼Œ.tmSnippetså’Œ.tmLanguageæ–‡ä»¶ã€‚ æˆ‘ä»¬çš„ä¸»é¢˜ï¼Œç‰‡æ®µå’Œç€è‰²å™¨ä¸»é¢˜å‘æ‚¨å±•ç¤ºäº†å¦‚ä½•åŒ…å«TextMateæ–‡ä»¶ï¼Œå¹¶å°±å¦‚ä½•åˆ›å»ºè‡ªå·±çš„ä¸»é¢˜ï¼Œç‰‡æ®µå’Œè¯­è¨€ç€è‰²å™¨æä¾›æŒ‡å¯¼ã€‚ Writing an Extensionæœ‰ä¸€ä¸ªYeomanæ‰©å±•ç”Ÿæˆå™¨ï¼Œå¯ä»¥éžå¸¸å®¹æ˜“åœ°åˆ›å»ºç®€å•çš„æ‰©å±•é¡¹ç›®ã€‚ è¿™äº›å¯¹äºŽå¼€å§‹å¾ˆæœ‰ç”¨ï¼Œæ‚¨è¿˜å¯ä»¥æ‰¾åˆ°çŽ°æœ‰çš„æ‰©å±•ç¤ºä¾‹ã€‚ æ‰©å±•å¯ä»¥ç”¨TypeScriptæˆ–JavaScriptç¼–å†™ã€‚ VS Codeæä¾›äº†ä¸€æµçš„æ‰©å±•å¼€å‘ç»éªŒï¼Œæ‚¨å¯ä»¥åœ¨VS Codeæœ¬èº«å†…å¼€å‘ï¼Œæž„å»ºï¼Œè¿è¡Œï¼Œæµ‹è¯•å’Œè°ƒè¯•æ‰€æœ‰å†…å®¹ã€‚ Testing Extensionsæˆ‘ä»¬ä¹Ÿéžå¸¸æ”¯æŒä¸ºæ‚¨çš„æ‰©å±•ç¨‹åºç¼–å†™å’Œè¿è¡Œæµ‹è¯•ã€‚ æ‚¨å¯ä»¥è½»æ¾åˆ›å»ºè°ƒç”¨VS Code APIçš„é›†æˆæµ‹è¯•ï¼Œå¹¶åœ¨è¿è¡Œçš„VS Codeå®žä¾‹ä¸­æµ‹è¯•æ‚¨çš„ä»£ç ã€‚ Extension IdeasVS CodeåŠŸèƒ½çš„è®¸å¤šä¼Ÿå¤§çš„ç¤¾åŒºç†å¿µæ›´å¥½åœ°å®žçŽ°ä¸ºæ‰©å±•è€Œä¸æ˜¯æ ¸å¿ƒäº§å“çš„ä¸€éƒ¨åˆ†ã€‚ è¿™æ ·ç”¨æˆ·å°±å¯ä»¥é€šè¿‡å®‰è£…æ­£ç¡®çš„æ‰©å±•é›†æ¥è½»æ¾é€‰æ‹©ä»–ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚ VS Codeå›¢é˜Ÿå°†å¯èƒ½çš„æ‰©å±•è·Ÿè¸ªä¸ºvscodeå­˜å‚¨åº“ä¸­æ ‡è®°ä¸º * extension-candidateçš„GitHubé—®é¢˜ã€‚ å¦‚æžœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªä¼Ÿå¤§çš„æ‰©å±•æ¥æž„å»ºï¼Œçœ‹çœ‹ * æ‰©å±•å€™é€‰é—®é¢˜ã€‚ Next StepsYo Code - Extension GeneratorPrerequisitesInstall the GeneratorRun Yo CodeGenerator OptionsYour extensions folderNext Stepsç¤ºä¾‹ - Hello Worldä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶æœ¬æ–‡æ¡£å°†æŒ‡å¯¼æ‚¨åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªVSä»£ç æ‰©å±•ï¼ˆâ€œHello Worldâ€ï¼‰å¹¶è§£é‡ŠåŸºæœ¬çš„VSä»£ç æ‰©å±•æ€§æ¦‚å¿µã€‚ åœ¨æœ¬æ¼”ç»ƒä¸­ï¼Œæ‚¨å°†å‘VS Codeæ·»åŠ ä¸€ä¸ªæ–°å‘½ä»¤ï¼Œè¯¥å‘½ä»¤å°†æ˜¾ç¤ºä¸€ä¸ªç®€å•çš„â€œHello Worldâ€æ¶ˆæ¯ã€‚ ç¨åŽåœ¨æ¼”ç»ƒä¸­ï¼Œæ‚¨å°†ä¸ŽVS Codeç¼–è¾‘å™¨äº¤äº’å¹¶æŸ¥è¯¢ç”¨æˆ·å½“å‰é€‰å®šçš„æ–‡æœ¬ã€‚ å…ˆå†³æ¡ä»¶ï¼ˆPrerequisitesï¼‰æ‚¨éœ€è¦å®‰è£…Node.jså¹¶åœ¨æ‚¨çš„$ PATHä¸­å¯ç”¨ã€‚ Node.jsåŒ…å«npmï¼Œå³Node.jsåŒ…ç®¡ç†å™¨ï¼Œå®ƒå°†ç”¨äºŽå®‰è£…æ‰©å±•ç”Ÿæˆå™¨ã€‚ ç”Ÿæˆä¸€ä¸ªæ–°çš„æ‰©å±•å°†è‡ªå·±çš„åŠŸèƒ½æ·»åŠ åˆ°VS Codeçš„æœ€ç®€å•æ–¹æ³•æ˜¯é€šè¿‡æ·»åŠ å‘½ä»¤ã€‚ ä¸€ä¸ªå‘½ä»¤æ³¨å†Œä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥ä»Žå‘½ä»¤é¢æ¿æˆ–é”®ç›˜ç»‘å®šä¸­è°ƒç”¨ã€‚ æˆ‘ä»¬å·²ç»å†™äº†ä¸€ä¸ª Yeoman generator æ¥å¸®åŠ©ä½ å¼€å§‹ã€‚ å®‰è£…Yeomanå’ŒYeoman VSä»£ç æ‰©å±•ç”Ÿæˆå™¨å¹¶æ­å»ºä¸€ä¸ªæ–°çš„æ‰©å±•ï¼š 12npm install -g yo generator-codeyo code å¯¹äºŽhello worldæ‰©å±•ï¼Œæ‚¨å¯ä»¥åˆ›å»ºTypeScriptæ‰©å±•æˆ–JavaScriptã€‚ å¯¹äºŽè¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªTypeScriptæ‰©å±•ã€‚ Running your extension å¯åŠ¨VSä»£ç ï¼Œé€‰æ‹©æ–‡ä»¶&gt;æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œç„¶åŽé€‰æ‹©æ‚¨ç”Ÿæˆçš„æ–‡ä»¶å¤¹ã€‚ æŒ‰F5æˆ–å•å‡»è°ƒè¯•å›¾æ ‡ï¼Œç„¶åŽå•å‡»å¼€å§‹ã€‚ VS Codeçš„æ–°å®žä¾‹å°†ä»¥ç‰¹æ®Šæ¨¡å¼ï¼ˆæ‰©å±•å¼€å‘ä¸»æœºï¼‰å¯åŠ¨ï¼Œå¹¶ä¸”æ­¤æ–°å®žä¾‹çŽ°åœ¨çŸ¥é“æ‚¨çš„æ‰©å±•ã€‚ æŒ‰ä¸‹Ctrl + Shift + På¹¶è¿è¡Œåä¸ºHello Worldçš„å‘½ä»¤ã€‚ æ­å–œï¼ ä½ åˆšåˆšåˆ›å»ºå¹¶æ‰§è¡Œäº†ä½ çš„ç¬¬ä¸€ä¸ªVS Codeå‘½ä»¤ï¼ æ‰©å±•çš„ç»“æž„After running, the generated extension should have the following structure: 123456789101112131415161718192021222324252627.â”œâ”€â”€ .gitignoreâ”œâ”€â”€ .vscode // VS Code integrationâ”‚ â”œâ”€â”€ launch.jsonâ”‚ â”œâ”€â”€ settings.jsonâ”‚ â””â”€â”€ tasks.jsonâ”œâ”€â”€ .vscodeignore // files ignored when publishing extensionâ”œâ”€â”€ README.mdâ”œâ”€â”€ srcâ”‚ â””â”€â”€ extension.ts // the source of the extension entry pointâ”œâ”€â”€ test // test folderâ”‚ â”œâ”€â”€ extension.test.ts // extension.test.js, in case of JavaScript extensionâ”‚ â””â”€â”€ index.ts // index.js, in case of JavaScript extensionâ”œâ”€â”€ node_modulesâ”‚ â”œâ”€â”€ vscode // include vscode type definition file for extension developmentâ”‚ â””â”€â”€ typescript // compiler for typescript (TypeScript only)â”œâ”€â”€ out // compilation output (TypeScript only)â”‚ â”œâ”€â”€ extension.js // the extension entry pointâ”‚ â”œâ”€â”€ extension.js.mapâ”‚ â””â”€â”€ testâ”‚ â”œâ”€â”€ extension.test.jsâ”‚ â”œâ”€â”€ extension.test.js.mapâ”‚ â”œâ”€â”€ index.jsâ”‚ â””â”€â”€ index.js.mapâ”œâ”€â”€ package.json // extension&apos;s manifestâ”œâ”€â”€ tsconfig.json // jsconfig.json, in case of JavaScript extensionâ””â”€â”€ vsc-extension-quickstart.md // extension development quick start è®©æˆ‘ä»¬é€šè¿‡æ‰€æœ‰è¿™äº›æ–‡ä»¶çš„ç›®çš„ï¼Œå¹¶è§£é‡Šä»–ä»¬åšäº†ä»€ä¹ˆï¼š æ‰©å±•åæ¸…å•ï¼špackage.json æ¯ä¸ªVSä»£ç æ‰©å±•å¿…é¡»æœ‰ä¸€ä¸ªæè¿°å®ƒåŠå…¶åŠŸèƒ½çš„package.jsonæ–‡ä»¶ã€‚ VSä»£ç åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­è¯»å–æ­¤æ–‡ä»¶ï¼Œå¹¶ç«‹å³å“åº”æ¯ä¸ªæ–‡ä»¶ã€‚ è¯·é˜…è¯»package.jsonæ‰©å±•æ¸…å•å‚è€ƒã€‚ æœ‰å…³package.jsonè´¡çŒ®ç‚¹çš„æ›´å¤šä¿¡æ¯ã€‚ ç¤ºä¾‹TYPESCRIPT EXTENSION MANIFEST1234567891011121314151617181920212223242526272829303132333435&#123; &quot;name&quot;: &quot;myFirstExtension&quot;, &quot;description&quot;: &quot;&quot;, &quot;version&quot;: &quot;0.0.1&quot;, &quot;publisher&quot;: &quot;&quot;, &quot;engines&quot;: &#123; &quot;vscode&quot;: &quot;^1.5.0&quot; &#125;, &quot;categories&quot;: [ &quot;Other&quot; ], &quot;activationEvents&quot;: [ &quot;onCommand:extension.sayHello&quot; ], &quot;main&quot;: &quot;./out/extension&quot;, &quot;contributes&quot;: &#123; &quot;commands&quot;: [&#123; &quot;command&quot;: &quot;extension.sayHello&quot;, &quot;title&quot;: &quot;Hello World&quot; &#125;] &#125;, &quot;scripts&quot;: &#123; &quot;vscode:prepublish&quot;: &quot;tsc -p ./&quot;, &quot;compile&quot;: &quot;tsc -watch -p ./&quot;, &quot;postinstall&quot;: &quot;node ./node_modules/vscode/bin/install&quot;, &quot;test&quot;: &quot;node ./node_modules/vscode/bin/test&quot; &#125;, &quot;devDependencies&quot;: &#123; &quot;typescript&quot;: &quot;^2.0.3&quot;, &quot;vscode&quot;: &quot;^1.5.0&quot;, &quot;mocha&quot;: &quot;^2.3.3&quot;, &quot;@types/node&quot;: &quot;^6.0.40&quot;, &quot;@types/mocha&quot;: &quot;^2.2.32&quot; &#125;&#125; Note: JavaScriptæ‰©å±•ä¸éœ€è¦è„šæœ¬å­—æ®µï¼Œå› ä¸ºä¸éœ€è¦ç¼–è¯‘ã€‚ è¿™ä¸ªç‰¹å®šçš„package.jsonæè¿°äº†ä¸€ä¸ªæ‰©å±•ï¼š ä½¿ç”¨æ ‡ç­¾â€œHello worldâ€ä¸ºCommand Paletteï¼ˆCtrl + Shift + Pï¼‰ä½œå‡ºè´¡çŒ®ï¼Œè¯¥æ ‡ç­¾å°†è°ƒç”¨å‘½ä»¤â€œextension.sayHelloâ€ã€‚ è¯·æ±‚åœ¨è°ƒç”¨â€œextension.sayHelloâ€å‘½ä»¤æ—¶åŠ è½½ï¼ˆactivationEventsï¼‰ã€‚ å°†å…¶ä¸»è¦JavaScriptä»£ç æ”¾åœ¨åä¸ºâ€œ./out/extension.jsâ€çš„æ–‡ä»¶ä¸­ã€‚ Note: VSä»£ç ä¸ä¼šåœ¨å¯åŠ¨æ—¶æ€¥åˆ‡åœ°åŠ è½½æ‰©å±•çš„ä»£ç ã€‚ æ‰©å±•å¿…é¡»é€šè¿‡activationEventså±žæ€§åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹æ¿€æ´»ï¼ˆåŠ è½½ï¼‰æ¥æè¿°ã€‚ ç”Ÿæˆçš„ä»£ç ç”Ÿæˆçš„æ‰©å±•çš„ä»£ç ä½äºŽextension.tsï¼ˆæˆ–æ‰©å±•åä¸ºJavaScriptçš„æ‰©å±•åçš„æƒ…å†µä¸‹ï¼‰ï¼š 123456789101112131415161718192021222324// The module 'vscode' contains the VS Code extensibility API// Import the module and reference it with the alias vscode in your code belowimport * as vscode from 'vscode';// this method is called when your extension is activated// your extension is activated the very first time the command is executedexport function activate(context: vscode.ExtensionContext) &#123; // Use the console to output diagnostic information (console.log) and errors (console.error) // This line of code will only be executed once when your extension is activated console.log('Congratulations, your extension "my-first-extension" is now active!'); // The command has been defined in the package.json file // Now provide the implementation of the command with registerCommand // The commandId parameter must match the command field in package.json let disposable = vscode.commands.registerCommand('extension.sayHello', () =&gt; &#123; // The code you place here will be executed every time your command is executed // Display a message box to the user vscode.window.showInformationMessage('Hello World!'); &#125;); context.subscriptions.push(disposable);&#125; æ¯ä¸ªæ‰©å±•åº”ä»Žå…¶ä¸»æ–‡ä»¶ä¸­å¯¼å‡ºä¸€ä¸ªåä¸ºactivateï¼ˆï¼‰çš„å‡½æ•°ï¼Œå½“å‘ç”Ÿpackage.jsonæ–‡ä»¶ä¸­æè¿°çš„ä»»ä½•æ¿€æ´»äº‹ä»¶æ—¶ï¼Œè¯¥VSä»£ç å°†åªè°ƒç”¨ä¸€æ¬¡ã€‚ å¦‚æžœæ‰©å±•ä½¿ç”¨OSèµ„æºï¼ˆä¾‹å¦‚è¡ç”Ÿè¿›ç¨‹ï¼‰ï¼Œåˆ™æ‰©å±•å¯ä»¥ä»Žå…¶ä¸»æ–‡ä»¶ä¸­å¯¼å‡ºä¸€ä¸ªåä¸ºdeactivateï¼ˆï¼‰çš„å‡½æ•°ï¼Œåœ¨è¯¥å‡½æ•°ä¸­å®ƒå¯ä»¥æ‰§è¡Œæ¸…ç†å·¥ä½œï¼ŒVSä»£ç å°†åœ¨å…³é—­æ—¶è°ƒç”¨è¯¥å‡½æ•°ã€‚ è¿™ä¸ªç‰¹å®šçš„æ‰©å±•åå¯¼å…¥äº†vscode APIï¼Œç„¶åŽæ³¨å†Œä¸€ä¸ªå‘½ä»¤ï¼Œå°†å‘½ä»¤â€œextension.sayHelloâ€è°ƒç”¨æ—¶å…³è”ä¸€ä¸ªå‡½æ•°ã€‚ è¯¥å‘½ä»¤çš„å®žçŽ°åœ¨VS Codeä¸­æ˜¾ç¤ºâ€œHello worldâ€æ¶ˆæ¯ã€‚ æ³¨ï¼špackage.jsonçš„contributionéƒ¨åˆ†å‘Command Paletteæ·»åŠ ä¸€ä¸ªæ¡ç›®ã€‚ extension.ts / .jsä¸­çš„ä»£ç å®šä¹‰äº†â€œextension.sayHelloâ€çš„å®žçŽ°ã€‚ å¦ æ³¨ï¼šå¯¹äºŽTypeScriptæ‰©å±•ï¼Œç”Ÿæˆçš„æ–‡ä»¶out / extension.jså°†åœ¨è¿è¡Œæ—¶åŠ è½½å¹¶ç”±VSä»£ç æ‰§è¡Œã€‚ æ‚é¡¹æ–‡ä»¶(Miscellaneous files) .vscode / launch.jsonå®šä¹‰åœ¨æ‰©å±•å¼€å‘æ¨¡å¼ä¸‹å¯åŠ¨VSä»£ç ã€‚ å®ƒè¿˜ä½¿ç”¨preLaunchTaskæŒ‡å‘è¿è¡ŒTypeScriptç¼–è¯‘å™¨çš„.vscode / tasks.jsonä¸­å®šä¹‰çš„ä»»åŠ¡ã€‚ .vscode / settings.jsoné»˜è®¤æŽ’é™¤outæ–‡ä»¶å¤¹ã€‚ æ‚¨å¯ä»¥ä¿®æ”¹è¦éšè—çš„æ–‡ä»¶ç±»åž‹ã€‚ .gitignore - å‘Šè¯‰Gitç‰ˆæœ¬æŽ§åˆ¶å“ªäº›æ¨¡å¼è¦å¿½ç•¥ã€‚ .vscodeignore - å‘ŠçŸ¥æ‰“åŒ…å·¥å…·åœ¨å‘å¸ƒæ‰©å±•æ—¶å¿½ç•¥å“ªäº›æ–‡ä»¶ã€‚ README.md - æè¿°VS Codeç”¨æˆ·æ‰©å±•çš„è‡ªè¿°æ–‡ä»¶ã€‚ vsc-extension-quickstart.md - å¿«é€Ÿå…¥é—¨æŒ‡å—ã€‚ test / extension.test.ts - æ‚¨å¯ä»¥å°†æ‚¨çš„æ‰©å±•å•å…ƒæµ‹è¯•æ”¾åœ¨è¿™é‡Œï¼Œå¹¶é’ˆå¯¹VS Code APIè¿è¡Œæµ‹è¯•ï¼ˆè¯·å‚é˜…æµ‹è¯•æ‚¨çš„æ‰©å±•ï¼‰ æ‰©å±•æ¿€æ´» çŽ°åœ¨æ‰©å±•ä¸­åŒ…å«çš„æ–‡ä»¶çš„è§’è‰²å·²ç»æ˜Žç¡®ï¼Œä¸‹é¢æ˜¯æ‚¨çš„æ‰©å±•å¦‚ä½•æ¿€æ´»ï¼š æ‰©å±•å¼€å‘å®žä¾‹å‘çŽ°æ‰©å±•å¹¶è¯»å–å®ƒçš„package.jsonæ–‡ä»¶ã€‚ ç¨åŽå½“æ‚¨æŒ‰Ctrl + Shift + Pæ—¶ï¼š æ³¨å†Œçš„å‘½ä»¤æ˜¾ç¤ºåœ¨å‘½ä»¤é¢æ¿ä¸­ã€‚ åœ¨è¿™ä¸ªåˆ—è¡¨ä¸­ï¼ŒçŽ°åœ¨æœ‰ä¸€ä¸ªåœ¨package.jsonä¸­å®šä¹‰çš„æ¡ç›®â€œHello worldâ€ã€‚ é€‰æ‹©â€œHello worldâ€å‘½ä»¤æ—¶ï¼š å‘½ä»¤â€œextension.sayHelloâ€è¢«è°ƒç”¨ï¼š æ¿€æ´»äº‹ä»¶â€œonCommandï¼šextension.sayHelloâ€è¢«åˆ›å»ºã€‚ æ‰€æœ‰åœ¨æ¿€æ´»äº‹ä»¶ä¸­åˆ—å‡ºæ¿€æ´»äº‹ä»¶çš„æ‰©å±•éƒ½ä¼šè¢«æ¿€æ´»ã€‚ ./out/extension.jsä¸­çš„æ–‡ä»¶è¢«åŠ è½½åˆ°JavaScript VMä¸­ã€‚ VSä»£ç æŸ¥æ‰¾å¯¼å‡ºçš„å‡½æ•°æ¿€æ´»å¹¶è°ƒç”¨å®ƒã€‚ å‘½ä»¤â€œextension.sayHelloâ€å·²æ³¨å†Œï¼ŒçŽ°åœ¨å®šä¹‰äº†å…¶å®žçŽ°ã€‚ è°ƒç”¨å‘½ä»¤â€œextension.sayHelloâ€å®žçŽ°å‡½æ•°ã€‚ å‘½ä»¤å®žçŽ°æ˜¾ç¤ºâ€œHello Worldâ€æ¶ˆæ¯ã€‚ è°ƒè¯•ä½ çš„æ‹“å±•ä¾‹å¦‚ï¼Œåœ¨æ³¨å†Œçš„å‘½ä»¤ä¸­è®¾ç½®æ–­ç‚¹ï¼Œç„¶åŽåœ¨Extension Development VSä»£ç å®žä¾‹ä¸­è¿è¡Œâ€œHello worldâ€å‘½ä»¤ã€‚ æ³¨ï¼šå¯¹äºŽTypeScriptæ‰©å±•ï¼Œå³ä½¿VSä»£ç åŠ è½½å¹¶æ‰§è¡Œout / extension.jsï¼Œç”±äºŽç”Ÿæˆçš„æºæ˜ å°„out / extension.js.mapå’ŒVS Codeçš„æºä»£ç æ˜ å°„å™¨è°ƒè¯•å™¨æ”¯æŒï¼Œæ‚¨å®žé™…ä¸Šå¯ä»¥è°ƒè¯•åŽŸå§‹çš„TypeScriptä»£ç ã€‚æç¤ºï¼šè°ƒè¯•æŽ§åˆ¶å°å°†æ˜¾ç¤ºæ‚¨ç™»å½•åˆ°æŽ§åˆ¶å°çš„æ‰€æœ‰æ¶ˆæ¯ã€‚ To learn more about the extension development environment. ä¸€ä¸ªç®€å•çš„æ”¹å˜åœ¨extension.tsï¼ˆæˆ–extension.jsï¼Œåœ¨JavaScriptæ‰©å±•ä¸­ï¼‰ï¼Œè¯·å°è¯•æ›¿æ¢extension.sayHelloå‘½ä»¤å®žçŽ°ä»¥æ˜¾ç¤ºåœ¨ç¼–è¾‘å™¨ä¸­é€‰æ‹©çš„å­—ç¬¦æ•°ï¼š1234567891011121314let disposable = vscode.commands.registerCommand('extension.sayHello', () =&gt; &#123; // The code you place here will be executed every time your command is executed let editor = vscode.window.activeTextEditor; if (!editor) &#123; return; // No open text editor &#125; let selection = editor.selection; let text = editor.document.getText(selection); // Display a message box to the user vscode.window.showInformationMessage('Selected characters: ' + text.length);&#125;); æç¤ºï¼šä¸€æ—¦æ‚¨å¯¹æ‰©å±•æºä»£ç è¿›è¡Œæ›´æ”¹ï¼Œæ‚¨éœ€è¦é‡æ–°å¯åŠ¨VS Codeçš„Extension Development Hostå®žä¾‹ã€‚ æ‚¨å¯ä»¥é€šè¿‡åœ¨Extension Development Hostå®žä¾‹ä¸­ä½¿ç”¨Ctrl + Rï¼ˆmacOSï¼šCmd + Rï¼‰æˆ–é€šè¿‡å•å‡»ä¸»VSä»£ç å®žä¾‹é¡¶éƒ¨çš„é‡å¯æŒ‰é’®æ¥å®žçŽ°ã€‚ åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼ˆæ–‡ä»¶&gt;æ–°å»ºæ–‡ä»¶ï¼‰ï¼Œè¾“å…¥ä¸€äº›æ–‡æœ¬å¹¶é€‰æ‹©å®ƒã€‚ å½“æ‚¨è¿è¡ŒHello Worldå‘½ä»¤æ—¶ï¼Œæ‚¨çŽ°åœ¨åº”è¯¥çœ‹åˆ°æ‰€é€‰å­—ç¬¦çš„è®¡æ•°ã€‚ åœ¨æœ¬åœ°å®‰è£…æ‚¨çš„æ‰©å±•åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨æ‰€ç¼–å†™çš„æ‰©å±•åªåœ¨VS Codeçš„ä¸€ä¸ªç‰¹æ®Šå®žä¾‹ä¸­è¿è¡Œï¼Œå³æ‰©å±•å¼€å‘å®žä¾‹ã€‚ è¦è®©æ‚¨çš„æ‰©å±•ç¨‹åºåœ¨VSä»£ç çš„æ‰€æœ‰å®žä¾‹ä¸­è¿è¡Œï¼Œæ‚¨éœ€è¦å°†å…¶å¤åˆ¶åˆ°æœ¬åœ°æ‰©å±•æ–‡ä»¶å¤¹ä¸‹çš„æ–°æ–‡ä»¶å¤¹ä¸­ï¼š Windows: %USERPROFILE%.vscode\extensions macOS/Linux: $HOME/.vscode/extensions å‘å¸ƒæ‚¨çš„æ‰©å±•é˜…è¯»æœ‰å…³å¦‚ä½•å…±äº«æ‰©å±•çš„ä¿¡æ¯ã€‚ Next Stepsåœ¨æœ¬æ¼”ç»ƒä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªéžå¸¸ç®€å•çš„æ‰©å±•ã€‚ æœ‰å…³æ›´è¯¦ç»†çš„ç¤ºä¾‹ï¼Œè¯·å‚é˜…å­—æ•°ç»Ÿè®¡ç¤ºä¾‹ï¼Œå…¶ä¸­æ˜¾ç¤ºäº†å¦‚ä½•å®šä½ç‰¹å®šè¯­è¨€ï¼ˆMarkdownï¼‰å¹¶æ”¶å¬ç¼–è¾‘å™¨çš„æ–‡æ¡£æ›´æ”¹äº‹ä»¶ã€‚ å¦‚æžœæ‚¨æƒ³æ›´è¯¦ç»†åœ°é˜…è¯»æ‰©å±•APIï¼Œè¯·å°è¯•ä»¥ä¸‹ä¸»é¢˜ï¼š æ‰©å±•APIæ¦‚è¿° - äº†è§£å®Œæ•´çš„VSä»£ç æ‰©å±•æ¨¡åž‹ã€‚ APIåŽŸåˆ™å’Œæ¨¡å¼ - VSä»£ç å¯æ‰©å±•æ€§åŸºäºŽå‡ ä¸ªæŒ‡å¯¼åŽŸåˆ™å’Œæ¨¡å¼ã€‚ è´¡çŒ®ç‚¹ - å…³äºŽå„ç§VS Codeè´¡çŒ®ç‚¹çš„ç»†èŠ‚ã€‚ æ¿€æ´»äº‹ä»¶ - VSä»£ç æ¿€æ´»äº‹ä»¶å‚è€ƒ å…¶ä»–æ‰©å±•ç¤ºä¾‹ - æŸ¥çœ‹æˆ‘ä»¬çš„ç¤ºä¾‹æ‰©å±•é¡¹ç›®åˆ—è¡¨ã€‚ Example - Word CountåŽŸæ–‡é“¾æŽ¥https://code.visualstudio.com/docs/extensions/example-word-count OverviewRun the ExtensionUpdate the Status BarSubscribing to EventsCustomizing the Status BarDisposing Extension ResourcesInstalling your Extension LocallyPublishing your ExtensionNext StepsExample - Language ServeråŽŸæ–‡é“¾æŽ¥ https://code.visualstudio.com/docs/extensions/example-language-server Implement your own Language ServerExplaining the â€˜Clientâ€™Explaining the â€˜Serverâ€™Adding a Simple ValidationDebugging both Client and ServerUsing Configuration Settings in the ServerAdding additional Language FeaturesAdditional Language Server featuresIncremental Text Document SynchronizationNext StepsExample - Debug AdapteråŽŸæ–‡é“¾æŽ¥ The Mock Debug ExtensionDevelopment Setup for Mock DebugAnatomy of the package.json of a Debug ExtensionUsing a DebugConfigurationProviderPublishing your Debug AdapterAlternative approach to develop a Debug Extension]]></content>
      <categories>
        <category>VSCodeç›¸å…³</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
        <tag>VSCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Text Buffer Reimplementation]]></title>
    <url>%2F2018%2F05%2F05%2FText-Buffer-Reimplementation%2F</url>
    <content type="text"><![CDATA[Visual Studio Code 1.21ç‰ˆæœ¬åŒ…å«ä¸€ä¸ªå…¨æ–°çš„æ–‡æœ¬ç¼“å†²åŒºå®žçŽ°ï¼Œå®ƒåœ¨é€Ÿåº¦å’Œå†…å­˜ä½¿ç”¨æ–¹é¢æ€§èƒ½æ›´é«˜ã€‚åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘æƒ³è®²è¿°ä¸€ä¸‹æˆ‘ä»¬å¦‚ä½•é€‰æ‹©å’Œè®¾è®¡å¯¼è‡´è¿™äº›æ”¹è¿›çš„æ•°æ®ç»“æž„å’Œç®—æ³•çš„æ•…äº‹ã€‚å…³äºŽJavaScriptç¨‹åºçš„æ€§èƒ½è®¨è®ºé€šå¸¸æ¶‰åŠå…³äºŽåœ¨æœ¬æœºä»£ç ä¸­åº”è¯¥å®žçŽ°å¤šå°‘çš„è®¨è®ºã€‚å¯¹äºŽVSä»£ç æ–‡æœ¬ç¼“å†²åŒºï¼Œè¿™äº›è®¨è®ºæ˜¯åœ¨ä¸€å¹´å¤šå‰å¼€å§‹çš„ã€‚åœ¨æ·±å…¥æŽ¢ç´¢è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘çŽ°æ–‡æœ¬ç¼“å†²åŒºçš„C ++å®žçŽ°å¯ä»¥èŠ‚çœå¤§é‡çš„å†…å­˜ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°æˆ‘ä»¬æœŸæœ›çš„æ€§èƒ½å¢žå¼ºã€‚åœ¨è‡ªå®šä¹‰æœ¬åœ°è¡¨ç¤ºå’ŒV8çš„å­—ç¬¦ä¸²ä¹‹é—´è½¬æ¢å­—ç¬¦ä¸²ä»£ä»·å¾ˆé«˜ï¼Œåœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œä¼šé™ä½Žåœ¨C ++ä¸­å®žçŽ°æ–‡æœ¬ç¼“å†²æ“ä½œæ‰€å¸¦æ¥çš„æ€§èƒ½ã€‚æˆ‘ä»¬å°†åœ¨è¿™ç¯‡æ–‡ç« ç»“å°¾è¯¦ç»†è®¨è®ºè¿™ä¸€ç‚¹ã€‚ ä¸æ˜¯åŽŸç”Ÿçš„ï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°æ”¹è¿›JavaScript / TypeScriptä»£ç çš„æ–¹æ³•ã€‚åƒVyacheslav Egorovè¿™æ ·çš„æ¿€åŠ¨äººå¿ƒçš„åšå®¢æ–‡ç« å±•ç¤ºäº†å°†JavaScriptå¼•æ“ŽæŽ¨å‘æžé™å¹¶å°½å¯èƒ½å¤šåœ°è¡¨çŽ°å‡ºæ€§èƒ½çš„æ–¹æ³•ã€‚å³ä½¿æ²¡æœ‰ä½Žçº§åˆ«çš„å¼•æ“ŽæŠ€å·§ï¼Œé€šè¿‡ä½¿ç”¨æ›´åˆé€‚çš„æ•°æ®ç»“æž„å’Œæ›´å¿«çš„ç®—æ³•ï¼Œä»ç„¶å¯ä»¥å°†é€Ÿåº¦æé«˜ä¸€ä¸ªæˆ–å¤šä¸ªæ•°é‡çº§ã€‚ Previous text buffer data structureç¼–è¾‘çš„å¿ƒç†æ¨¡åž‹(mental model)æ˜¯åŸºäºŽè¡Œçš„ã€‚å¼€å‘äººå‘˜é€è¡Œè¯»å†™æºä»£ç ï¼Œç¼–è¯‘å™¨æä¾›åŸºäºŽè¡Œ/åˆ—çš„è¯Šæ–­ï¼Œå †æ ˆè·Ÿè¸ªåŒ…å«è¡Œå·ï¼Œæ ‡è®°åŒ–å¼•æ“Žé€è¡Œè¿è¡Œç­‰ã€‚è™½ç„¶ç®€å•ï¼Œä½†æ”¯æŒVSä»£ç çš„æ–‡æœ¬ç¼“å†²åŒºå®žçŽ°å¹¶æ²¡æœ‰å¤ªå¤§æ”¹å˜ï¼Œå› ä¸ºç¬¬ä¸€å¤©æˆ‘ä»¬å¼€å§‹äº†æ‘©çº³å“¥é¡¹ç›®ã€‚æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ç³»åˆ—çº¿æ¡ï¼Œå¹¶ä¸”å®ƒå·¥ä½œå¾—å¾ˆå¥½ï¼Œå› ä¸ºå…¸åž‹çš„æ–‡æœ¬æ–‡æ¡£ç›¸å¯¹è¾ƒå°ã€‚å½“ç”¨æˆ·è¾“å…¥æ—¶ï¼Œæˆ‘ä»¬æ‰¾åˆ°è¦åœ¨æ•°ç»„ä¸­ä¿®æ”¹çš„è¡Œå¹¶å°†å…¶æ›¿æ¢ã€‚æ’å…¥æ–°è¡Œæ—¶ï¼Œæˆ‘ä»¬å°†æ–°çš„è¡Œå¯¹è±¡æ‹¼æŽ¥åˆ°è¡Œæ•°ç»„ä¸­ï¼ŒJavaScriptå¼•æ“Žå°†ä¸ºæˆ‘ä»¬å®Œæˆç¹é‡çš„å·¥ä½œã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸æ–­æ”¶åˆ°æœ‰å…³æ‰“å¼€æŸäº›æ–‡ä»¶ä¼šå¯¼è‡´VSä»£ç ä¸­å‡ºçŽ°å†…å­˜ä¸è¶³çš„æŠ¥å‘Šã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç”¨æˆ·æ— æ³•æ‰“å¼€ä¸€ä¸ª35 MBçš„æ–‡ä»¶ã€‚æ ¹æœ¬åŽŸå› æ˜¯è¯¥æ–‡ä»¶çš„è¡Œæ•°å¤ªå¤šï¼Œä¸º1,370ä¸‡ã€‚æˆ‘ä»¬å°†ä¸ºæ¯è¡Œå’Œæ¯ä¸ªä½¿ç”¨å¤§çº¦40-60ä¸ªå­—èŠ‚çš„å¯¹è±¡åˆ›å»ºä¸€ä¸ªModelLineå¯¹è±¡ï¼Œå› æ­¤è¡Œæ•°ç»„ä½¿ç”¨å¤§çº¦600MBå†…å­˜æ¥å­˜å‚¨æ–‡æ¡£ã€‚è¿™å¤§çº¦æ˜¯æœ€åˆæ–‡ä»¶å¤§å°çš„20å€ï¼ çº¿é˜µåˆ—è¡¨ç¤ºçš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯æ‰“å¼€æ–‡ä»¶çš„é€Ÿåº¦ã€‚ä¸ºäº†æž„å»ºçº¿æ¡æ•°ç»„ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡æ¢è¡Œç¬¦åˆ†å‰²å†…å®¹ï¼Œä»¥ä¾¿æ¯è¡ŒèŽ·å¾—ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ã€‚æ‹†åˆ†æœ¬èº«ä¼šä¼¤å®³ä½ åœ¨åŸºå‡†æµ‹è¯•ä¸­ä¼šçœ‹åˆ°çš„æ€§èƒ½ã€‚ Finding a new text buffer implementationæ—§çš„çº¿é˜µåˆ—è¡¨ç¤ºå¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½åˆ›å»ºå¹¶æ¶ˆè€—å¤§é‡å†…å­˜ï¼Œä½†å®ƒå¯ä»¥å¿«é€ŸæŸ¥æ‰¾çº¿è·¯ã€‚ åœ¨å®Œç¾Žçš„ä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬åªä¼šå­˜å‚¨æ–‡ä»¶çš„æ–‡æœ¬å¹¶ä¸”ä¸ä¼šå­˜å‚¨é¢å¤–çš„å…ƒæ•°æ®ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¼€å§‹å¯»æ‰¾éœ€è¦è¾ƒå°‘å…ƒæ•°æ®çš„æ•°æ®ç»“æž„ã€‚ åœ¨æŸ¥çœ‹äº†å„ç§æ•°æ®ç»“æž„ä¹‹åŽï¼Œæˆ‘å‘çŽ°è¯¥ç‰‡æ–­è¡¨å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å€™é€‰è€…ã€‚ Avoiding too much meta-data by using a piece tablePiece tableæ˜¯ä¸€ç§æ•°æ®ç»“æž„ï¼Œç”¨äºŽè¡¨ç¤ºæ–‡æœ¬æ–‡æ¡£ï¼ˆTypeScriptä¸­çš„æºä»£ç ï¼‰ä¸Šçš„ä¸€ç³»åˆ—ç¼–è¾‘ï¼š 12345678910111213141516class PieceTable &#123; original: string; // original contents added: string; // user added contents nodes: Node[];&#125;class Node &#123; type: NodeType; start: number; length: number;&#125;enum NodeType &#123; Original, Added&#125; æ–‡ä»¶æœ€åˆåŠ è½½åŽï¼Œè¯¥ç‰‡æ®µè¡¨åœ¨åŽŸå§‹å­—æ®µä¸­åŒ…å«æ•´ä¸ªæ–‡ä»¶å†…å®¹ã€‚ æ·»åŠ çš„å­—æ®µä¸ºç©ºã€‚ æœ‰ä¸€ä¸ªNodeType.Originalç±»åž‹çš„å•ä¸ªèŠ‚ç‚¹ã€‚ å½“ç”¨æˆ·åœ¨æ–‡ä»¶æœ«å°¾é”®å…¥å†…å®¹æ—¶ï¼Œæˆ‘ä»¬å°†æ–°å†…å®¹æ·»åŠ åˆ°æ·»åŠ çš„å­—æ®µä¸­ï¼Œå¹¶ä¸”æˆ‘ä»¬å°†åœ¨èŠ‚ç‚¹åˆ—è¡¨çš„æœ«å°¾æ’å…¥ä¸€ä¸ªç±»åž‹ä¸ºNodeType.Addedçš„æ–°èŠ‚ç‚¹ã€‚ åŒæ ·ï¼Œå½“ç”¨æˆ·åœ¨èŠ‚ç‚¹ä¸­é—´è¿›è¡Œç¼–è¾‘æ—¶ï¼Œæˆ‘ä»¬ä¼šæ ¹æ®éœ€è¦æ‹†åˆ†è¯¥èŠ‚ç‚¹å¹¶æ’å…¥æ–°èŠ‚ç‚¹ã€‚ ä¸‹é¢çš„åŠ¨ç”»å±•ç¤ºäº†å¦‚ä½•åœ¨ä¸€ä¸ªè¡¨æ ¼ç»“æž„ä¸­é€è¡Œè®¿é—®æ–‡æ¡£ã€‚ å®ƒæœ‰ä¸¤ä¸ªç¼“å†²åŒºï¼ˆåŽŸå§‹å’Œæ·»åŠ ï¼‰å’Œä¸‰ä¸ªèŠ‚ç‚¹ï¼ˆè¿™æ˜¯ç”±åŽŸå§‹å†…å®¹ä¸­é—´æ’å…¥å¼•èµ·çš„ï¼‰ã€‚]]></content>
      <tags>
        <tag>ç¿»è¯‘</tag>
        <tag>VSCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Bing-powered settings search in VS Code]]></title>
    <url>%2F2018%2F05%2F05%2FBing-powered-settings-search-in-VS-Code%2F</url>
    <content type="text"><![CDATA[April 25, 2018 by Rob Lourens @roblourens and Ankith Karat ankar@microsoft.com åœ¨VS Codeä¸­æ‰¾åˆ°ç‰¹å®šè®¾ç½®æœ‰æ²¡æœ‰å›°éš¾ï¼Ÿ ä½ ä¸æ˜¯ä¸€ä¸ªäººã€‚ çºµè§‚å¸¸è§çš„GitHubé—®é¢˜ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆçš„StackOverflowé—®é¢˜ï¼ŒæŽ¨æ–‡å’Œç”¨æˆ·ç ”ç©¶ï¼Œæˆ‘ä»¬çœ‹åˆ°è®¸å¤šç”¨æˆ·åœ¨æŸ¥æ‰¾è®¾ç½®æ—¶é‡åˆ°é—®é¢˜ã€‚ è¿™æ¯«ä¸å¥‡æ€ªï¼Œå› ä¸ºVS CodeåŒ…æ‹¬è¶…è¿‡400ä¸ªå¼€ç®±å³ç”¨çš„è®¾ç½®ï¼Œå¹¶ä¸”å®‰è£…äº†æ‰©å±•ç¨‹åºï¼Œè®¸å¤šç”¨æˆ·å¯ä»¥æ‹¥æœ‰æ›´å¤šçš„è®¾ç½®ã€‚ å¦‚æžœæ‚¨åŒ…å«å…¸åž‹çš„ç”¨æˆ·é”™è¯¯ï¼ˆå¦‚é”™åˆ«å­—å’ŒæŒ‘é€‰æ­£ç¡®çš„æœç´¢æ¡ä»¶çš„æŒ‘æˆ˜ï¼‰ï¼Œç”¨æˆ·å°±å¾ˆéš¾ã€‚ å‡ ä¸ªæœˆå‰ï¼Œæˆ‘ä»¬å¼€å§‹ä¸ŽBingå›¢é˜Ÿè°ˆè®ºä»–ä»¬æ˜¯å¦å¯ä»¥å°†ä»–ä»¬çš„æœç´¢ä¸“é•¿åº”ç”¨äºŽæˆ‘ä»¬çš„é—®é¢˜ã€‚ ä¸¤ä¸ªæœˆå‰ï¼Œæˆ‘ä»¬å‘å¸ƒäº†ç»“æžœ - ç”±Bingæä¾›æ”¯æŒçš„æ™ºèƒ½è®¾ç½®æœç´¢ä½“éªŒã€‚ How it worksç»è¿‡ä¸€æ®µæ—¶é—´çš„è®¨è®ºå’ŒåŽŸåž‹è®¾è®¡ä¹‹åŽï¼Œæˆ‘ä»¬å†³å®šå®‰æŽ’Bingå›¢é˜Ÿè¿è¡Œè®¾ç½®æœç´¢æœåŠ¡ï¼Œä»¥ä¾¿ä¸ºç”¨æˆ·åœ¨VS Codeè®¾ç½®ç¼–è¾‘å™¨ä¸­æœç´¢çš„æŸ¥è¯¢æä¾›æ™ºèƒ½æ¨¡ç³Šè®¾ç½®åŒ¹é…ã€‚ å°†Bingçš„è‡ªç„¶è¯­è¨€æœç´¢åŠŸèƒ½æ•´åˆåˆ°VS Codeä¸­è¯æ˜Žå…·æœ‰æŒ‘æˆ˜æ€§ã€‚ ä¸ºäº†åœ¨ç½‘ç»œä¸Šæœç´¢æ–‡æ¡£ï¼ŒBingè€ƒè™‘äº†æ•°åƒä¸ªä¸Žé¡µé¢ç›¸ä¼¼åº¦ï¼Œç‚¹å‡»æ•°æ®ï¼Œç”¨æˆ·è¡Œä¸ºæ•°æ®ç­‰æœ‰å…³çš„ä¿¡å·ã€‚ä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰è¿™ç§ä¸°å¯Œçš„å…ƒæ•°æ®å¯ç”¨äºŽæˆ‘ä»¬çš„è®¾ç½® - åªæ˜¯æ¯ä¸ªç®€è¦çš„åç§°å’Œè¯´æ˜Ž ä¸€ã€‚ å› æ­¤ï¼ŒBingå›¢é˜Ÿå°†å®šåˆ¶æœåŠ¡å’ŒBingçš„åŸºæœ¬æœç´¢åŠŸèƒ½ç»“åˆåœ¨ä¸€èµ·ï¼Œåˆ›å»ºäº†ä¸€ä¸ªé€‚åˆæˆ‘ä»¬æœç´¢åœºæ™¯çš„ç³»ç»Ÿã€‚ ä»¥ä¸‹æ˜¯è¯¥ç³»ç»Ÿçš„é«˜çº§æ¦‚è¿°ï¼šæˆ‘ä»¬æ¥çœ‹çœ‹æ¯ä¸ªéƒ¨åˆ†ã€‚ è¿™ä¸ªç³»ç»ŸåŸºæœ¬ä¸Šæœ‰ä¸¤ä¸ªæ–¹é¢ - æ”¶é›†è®¾ç½®ç»†èŠ‚å¹¶å°†å…¶ç¼–å…¥ç´¢å¼•ï¼Œå¹¶åœ¨çº¿æä¾›ç»“æžœã€‚ ç¬¬ä¸€éƒ¨åˆ†ç”±æœåŠ¡æœåŠ¡å®žæ–½ã€‚ å®ƒè´Ÿè´£åˆ›å»ºåŒ…å«VSä»£ç æœ¬èº«å’Œæ‰©å±•çš„ä¸°å¯Œç´¢å¼•ã€‚ ç”±äºŽæˆ‘ä»¬å¸Œæœ›æŸ¥è¯¢å“åº”æ—¶é—´å°½å¯èƒ½çŸ­ï¼Œå› æ­¤æˆ‘ä»¬åœ¨è¿›è¡Œè®¾ç½®æ—¶å°½å¯èƒ½å¤šåœ°å®Œæˆå·¥ä½œï¼Œä»¥å‡å°‘å¤„ç†æŸ¥è¯¢æ—¶æ‰€è¦åšçš„å·¥ä½œã€‚ Bing Ingestion Serviceæ”¶é›†VSä»£ç å’Œæ‰©å±•è®¾ç½®æ•°æ® åœ¨æ¯æ¬¡æž„å»ºæœŸé—´ï¼ŒVSä»£ç å°†ä»¥æ‰€æœ‰é…ç½®å†™å…¥JSONæ–‡ä»¶çš„æ¨¡å¼å¯åŠ¨ã€‚ æˆ‘ä»¬å¿…é¡»å®žé™…å¯åŠ¨VS Codeï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•é™æ€ç¡®å®šæ‰€æœ‰é…ç½®å…ƒæ•°æ®ã€‚ è¯¥æ–‡ä»¶åŒ…å«æ¯ä¸ªè®¾ç½®çš„å‡ æ¡ä¿¡æ¯ - åç§°ï¼Œè¯´æ˜Žï¼Œç±»åž‹ï¼Œé»˜è®¤å€¼ä»¥åŠâ€œæžšä¸¾â€ç±»åž‹è®¾ç½®ï¼Œæœ‰æ•ˆå€¼åˆ—è¡¨åŠå…¶è¯´æ˜Žã€‚ ç„¶åŽï¼Œæˆ‘ä»¬å°†æ–‡ä»¶ä¸Šä¼ åˆ°Azureå­˜å‚¨ã€‚ å¦‚æžœä½ å¥½å¥‡ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ä¸€ä¸ªæœ€è¿‘çš„ä¾‹å­ï¼šhttps://ticino.blob.core.windows.net/configuration/123000832/c1cd4378â€¦/configuration.json 123000832æ˜¯ä¸€ä¸ªå”¯ä¸€çš„å†…éƒ¨ç‰ˆæœ¬å·ï¼Œæ ¹æ®äº§å“ç‰ˆæœ¬åŠ ä¸Šè‡ªä¸Šä¸€ç‰ˆæœ¬ä»¥æ¥çš„Gitæäº¤æ•°é‡è®¡ç®—å¾—å‡ºã€‚ c1cd4378 â€¦æ˜¯æž„å»ºç‰ˆæœ¬çš„Git commit idã€‚æå¥‘è¯ºï¼Œä½ ä»¬çš„ä¸€äº›æ­»å¿ ç²‰ä¸å¯èƒ½è®°å¾—ï¼Œæ˜¯æˆ‘ä»¬æœ€åˆçš„çŸ­å‘½ä»£å·ã€‚ å¿…åº”çš„è½®è¯¢æœåŠ¡ç›‘è§†Azureå­˜å‚¨å®¹å™¨ï¼Œæ³¨æ„åˆ°ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œå¹¶é€šçŸ¥æ‘„å–æœåŠ¡ã€‚åŒæ—¶ï¼ŒBingä¸æ–­åœ°æŠ“å–VS Codeæ‰©å±•å¸‚åœºï¼Œç­‰å¾…æ‰©å±•æ›´æ–°å’Œæ–°æ‰©å±•ã€‚å½“æ‰¾åˆ°å®ƒæ—¶ï¼Œå®ƒä¸‹è½½å®ƒçš„package.jsonæ–‡ä»¶ï¼ˆå¯¹äºŽæ‰©å±•ï¼Œæ‰€æœ‰é…ç½®å…ƒæ•°æ®éƒ½åŒ…å«åœ¨package.jsonä¸­ï¼Œä¸éœ€è¦å¯åŠ¨å®ƒï¼‰ï¼Œå¹¶å°†è¿™äº›è®¾ç½®ä¼ é€’ç»™Ingestion Serviceã€‚ æ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯å®Œå…¨è‡ªåŠ¨åŒ–çš„ï¼Œå¹¶ä¸”ä¸æ–­æ›´æ–°æˆ‘ä»¬æ¯ä¸ªç¨³å®šç‰ˆæœ¬æž„å»ºå’Œæˆ‘ä»¬æ¯æ—¥å†…å¹•äººå‘˜æž„å»ºçš„å®žæ—¶ç´¢å¼•è®¾ç½®ã€‚åœ¨æž„å»ºå®Œæˆçš„å‡ åˆ†é’Ÿå†…ï¼ŒBingçš„ç´¢å¼•å·²æ›´æ–°ä¸ºåŒ…å«ä»»ä½•æ–°æ·»åŠ çš„è®¾ç½®ã€‚1. Alternative Words Pipelineç”¨æˆ·æœ‰æ—¶ä¼šæœç´¢ä¸Žæˆ‘ä»¬åœ¨è®¾ç½®åç§°å’Œè¯´æ˜Žä¸­ä½¿ç”¨çš„è¯è¯­ä¸åŒä½†ç›¸åŒçš„è¯è¯­ã€‚ ä¸ºç¡®ä¿æˆ‘ä»¬èƒ½å¤Ÿå¤„ç†è¿™äº›æƒ…å†µï¼Œæˆ‘ä»¬æ•´åˆäº†Bingçš„â€œAlternative Wordâ€ç”Ÿæˆç®¡é“ã€‚ è¯¥ç®¡é“ä½¿ç”¨ç”¨æˆ·è¡Œä¸ºï¼Œç‚¹å‡»æ¬¡æ•°ï¼Œåœ¨çº¿æŽ’åå’Œé¡µé¢ç›¸ä¼¼åº¦ç­‰ä¿¡å·ï¼Œä»ŽBingçš„æœç´¢æ•°æ®ä¸­æ”¶é›†å…·æœ‰ç±»ä¼¼å«ä¹‰çš„å•è¯ã€‚ ä¾‹å¦‚ï¼Œâ€œæ›´æ–°â€å’Œâ€œå‡çº§â€è¢«è®¾ç½®ä¸ºâ€œæ›¿ä»£è¯â€ï¼Œå¹¶ä¸”æœç´¢ä¸€ä¸ªå°†è¿”å›žåŒ…å«å¦ä¸€ä¸ªçš„è®¾ç½®ã€‚2. Stemmer and Speller Pipelineæˆ‘ä»¬ä¸æƒ³æƒ©ç½šç”¨æˆ·æ‹¼å†™é”™è¯¯çš„è®¾ç½®åç§°ï¼Œä½†æˆ‘ä»¬å¾ˆæ—©å°±å‘çŽ°ï¼Œç®€å•çš„æ¨¡ç³ŠåŒ¹é…å¯èƒ½ä¼šé”™è¿‡äººç±»å¯ä»¥ç†è§£çš„è‹±è¯­å•è¯çš„å˜ä½“ï¼Œæˆ–è€…ä¼šåŒ…å«å¤ªå¤šçš„é”™è¯¯è‚¯å®šåŒ¹é…ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬è¿˜æä¾›äº†Spellerå’ŒStemmeræœåŠ¡ï¼Œè¯¥æœåŠ¡æ˜¯ä»ŽBing.comä¸Šä½¿ç”¨çš„å…¨å¥—æœåŠ¡ä¸­æå–çš„ï¼Œè¿™äº›æœåŠ¡ä½¿ç”¨ç›¸åŒè¯å¹²çš„å¸¸è§æ‹¼å†™é”™è¯¯å’Œæ›¿ä»£å½¢å¼ä¸°å¯Œç´¢å¼•ã€‚ ä¾‹å¦‚ï¼Œâ€œæ ¼å¼åŒ–â€ï¼Œâ€œæ ¼å¼åŒ–ç¨‹åºâ€ï¼Œâ€œæ ¼å¼åŒ–â€ - å°†ä½¿ç”¨â€œæ ¼å¼åŒ–â€ä¸€è¯è¿›è¡Œç´¢å¼•ã€‚3. Natural Language Processing (NLP) Pipelineæˆ‘ä»¬è¿˜å¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿä»¥è‡ªå·±çš„è‡ªç„¶è¯­è¨€æè¿°ä»–ä»¬çš„æŸ¥è¯¢ï¼Œå› æ­¤æˆ‘ä»¬æ·»åŠ äº†Bingçš„è‡ªç„¶è¯­è¨€å¤„ç†ç®¡é“ã€‚ ç®¡é“æ”¶é›†å¸¸ç”¨çš„è¯­éŸ³å’Œæ–‡æœ¬æ¨¡å¼ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°ç´¢å¼•ä¸­ã€‚ ä¾‹å¦‚ï¼Œå®ƒä½¿ç³»ç»Ÿèƒ½å¤Ÿè¯†åˆ«â€œå¦‚ä½•ç¦ç”¨csséªŒè¯â€ä¸­çš„é‡è¦è¯è¯­ä»¥æ‰¾åˆ°â€œcss.validateâ€ã€‚4. Feedback/Ranking Pipelineæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåé¦ˆæœºåˆ¶ï¼Œå¯ä»¥è®©æˆ‘ä»¬ä»Žç”¨æˆ·åé¦ˆä¸­å­¦ä¹ å’Œæ”¹è¿›ã€‚ å®ƒå…è®¸æˆ‘ä»¬æ‰‹åŠ¨æŒ‡å®šæ–°çš„å•è¯å¯¹æˆ–æé«˜æŸäº›æŸ¥è¯¢çš„é¢„æœŸç»“æžœã€‚ åé¦ˆè¢«ä¸Šä¼ åˆ°æœåŠ¡ä¸­ï¼Œå¹¶å‡ ä¹Žç«‹å³åæ˜ åœ¨æœç´¢ç»“æžœä¸­ã€‚Gating Moduleæ¯ä¸€æ¬¡è¿›å…¥ç´¢å¼•éƒ½ä¼šé€šè¿‡é—¨æŽ§æ¨¡å—ï¼Œå®ƒåªæ˜¯ç¡®ä¿ç´¢å¼•ç”±äºŽæŸäº›ç¼–ç¨‹é”™è¯¯è€Œä¸ä¼šè¢«ç ´åã€‚ æˆ‘ä»¬ç¼–å†™äº†æµ‹è¯•ç”¨ä¾‹æ¥éªŒè¯ä»¥ä¸‹å†…å®¹ï¼š æ–°çš„ç´¢å¼•æ˜¯å‘åŽå…¼å®¹çš„ï¼Œå¯ç”¨äºŽæ‰€æœ‰VSä»£ç æž„å»º æˆ‘ä»¬çš„GoldenæŸ¥è¯¢é›†è¿”å›žé¢„æœŸç»“æžœ é—¨æŽ§æ¨¡å—å¤±è´¥å°†é˜»æ­¢ç´¢å¼•æ‘„å…¥å¹¶ç«‹å³é€šçŸ¥å›¢é˜Ÿã€‚ è¿˜åˆ›å»ºäº†ä»ªè¡¨æ¿æœåŠ¡ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿç›‘æµ‹ç®¡é“å„ä¸ªé˜¶æ®µçš„å¥åº·æƒ…å†µã€‚ å®ƒå…·æœ‰è­¦æŠ¥æœºåˆ¶å¹¶èƒ½å¤Ÿå›žæ»šåˆ°æœ€åŽå·²çŸ¥çš„è‰¯å¥½çŠ¶æ€ï¼Œä»¥ç¡®ä¿èƒ½å¤Ÿä»¥æœ€çŸ­çš„åœæœºæ—¶é—´å¿«é€Ÿè§£å†³ä»»ä½•é—®é¢˜ã€‚ Search Serviceæœ€åŽï¼Œåœ¨è¿è¡Œæ—¶ï¼Œæ¥è‡ªç”¨æˆ·çš„æŸ¥è¯¢å°†è®¿é—®Azureè´Ÿè½½å‡è¡¡å™¨æœåŠ¡ï¼Œè¯¥æœåŠ¡æ ¹æ®å…¶ç‰©ç†æŽ¥è¿‘åº¦æˆ–å½“å‰è´Ÿè½½é€‰æ‹©æˆ‘ä»¬çš„æŸä¸ªåœ°ç†å¤åˆ¶æœåŠ¡å™¨æ¥å¤„ç†æŸ¥è¯¢ã€‚ æ‰˜ç®¡åœ¨è¯¥ä½ç½®çš„æœç´¢æœåŠ¡é€šè¿‡ç´¢å¼•ä¸­çš„æŸ¥æ‰¾æ¥æ£€ç´¢ç›¸å…³ç»“æžœï¼Œåœ¨æŸäº›æƒ…å†µä¸‹åº”ç”¨æ‰‹åŠ¨æŽ’åºè¦†ç›–å¹¶å°†å…¶è¿”å›žç»™VSä»£ç å®¢æˆ·ç«¯ã€‚ Putting it all togetheræˆ‘ä»¬çŽ°åœ¨æœ‰ä¸€ä¸ªç³»ç»Ÿï¼Œå¯ä»¥æ›´å¥½åœ°ç†è§£è®¾ç½®æŸ¥è¯¢ï¼Œå¹¶ä¸ºè®¸å¤šä»¥å‰æ²¡æœ‰ä»»ä½•è¿”å›žçš„æŸ¥è¯¢æä¾›ç»“æžœã€‚è¿™é‡Œæœ‰äº›ä¾‹å­ï¼š å¦‚æžœæ‚¨æœ‰ç±»ä¼¼çš„é—®é¢˜ï¼Œå¹¶ä¸”æ²¡æœ‰æœç´¢å›¢é˜ŸåƒBingå›¢é˜Ÿé‚£æ ·ä¸ºæ‚¨å»ºç«‹å®šåˆ¶æœåŠ¡ï¼Œæˆ‘ä»¬ä»ç„¶æœ‰ä¸€äº›å¥½æ¶ˆæ¯ã€‚ æ‚¨å¯ä»¥å¼€å§‹ä½¿ç”¨Bingçš„è®¤çŸ¥æœåŠ¡ï¼Œå®ƒå¯ä»¥å¸®åŠ©æ‚¨åœ¨è‡ªå·±çš„åº”ç”¨ä¸­æ·»åŠ ä¸€äº›æ™ºèƒ½ã€‚ ä¾‹å¦‚ï¼š Bing Spell Check API Language Understanding (LUIS) Bing Web Search API Bing Custom Search API A note about testingåœ¨å¼€å‘è¿™ä¸ªç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§å®šé‡è¯„ä¼°ç»“æžœçš„æ–¹æ³•ã€‚æˆ‘ä»¬å†³å®šå»ºç«‹ä¸€ä¸ªåŸºäºŽæ ‡å‡†æŠ˜æ‰£ç´¯ç§¯æ”¶ç›Šï¼ˆNDCGï¼‰æ¦‚å¿µçš„æµ‹è¯•æ¡†æž¶ã€‚æ²¡æœ‰å¤ªå¤šçš„æ‚è‰ï¼Œè¿™æ˜¯ä¸€ç§è¯„åˆ†æœç´¢å¼•æ“Žç»“æžœçš„æ–¹æ³•ï¼Œç»™å‡ºæŸ¥è¯¢ï¼Œä¸€ç»„ç»“æžœå’Œè¿™äº›ç»“æžœçš„åˆ†æ•°ã€‚æˆ‘ä»¬æ‰‹å·¥ç¼–å†™äº†å¾ˆå¤šæµ‹è¯•ç”¨ä¾‹ï¼Œä½†æ„è¯†åˆ°æˆ‘ä»¬éœ€è¦ä¸€ç§è‡ªåŠ¨åŒ–çš„æ–¹å¼æ¥ä¸ºæ‰€æœ‰è®¾ç½®ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬æ·»åŠ çš„æ–°è®¾ç½®å’Œæ‰©å±•ä¸­çš„è®¾ç½®ã€‚æ‰€ä»¥æˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥ä¸ºä»»ä½•è®¾ç½®è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€‚å®ƒä½¿ç”¨è®¾ç½®åç§°å’Œæè¿°ä¸­çš„å•è¯ï¼Œå¹¶é€šè¿‡ä¸åŒçš„å˜æ¢å™¨è¿è¡Œå®ƒä»¬ï¼Œä»¥æ¨¡æ‹Ÿç”¨æˆ·é€‰æ‹©æ›¿ä»£å•è¯ï¼Œåˆ¶ä½œæ‹¼å†™é”™è¯¯æˆ–ä½¿ç”¨è‡ªç„¶è¯­è¨€æ¨¡å¼è¿›è¡Œæœç´¢ã€‚æˆ‘ä»¬è¿˜ä¸ºä¸€äº›å¸¸ç”¨æ‰©å±•çš„è®¾ç½®ç”Ÿæˆäº†æµ‹è¯•ç”¨ä¾‹ã€‚ æˆ‘ä»¬æ¯6å°æ—¶è¿è¡Œä¸€æ¬¡å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œå¹¶ä¸”å¯ä»¥è‡ªåŠ¨è¿›è¡Œè‡ªæˆ‘æ›´æ–°ï¼Œä»¥ä¾¿å§‹ç»ˆæµ‹è¯•æœ€æ–°ç‰ˆæœ¬çš„è®¾ç½®ã€‚æµ‹è¯•å¥—ä»¶å‘æˆ‘ä»¬ä¿è¯ç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼Œå¹¶ä½¿æˆ‘ä»¬ç›¸ä¿¡ï¼Œå½“æˆ‘ä»¬åœ¨åŽç«¯è¿›è¡Œæ›´æ”¹æ—¶ï¼Œæˆ‘ä»¬ä¸ä¼šæŸå®³ç»“æžœè´¨é‡ã€‚ Whatâ€™s nextæœ‰å‡ ç§æ–¹æ³•å¯ä»¥ç»§ç»­æ”¹è¿›ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¿˜å»ºç«‹äº†ä¸€ä¸ªåŸºäºŽç”¨æˆ·è¡Œä¸ºçš„è‡ªåŠ¨åé¦ˆå¾ªçŽ¯ã€‚å¦‚æžœå¾ˆå¤šäººæœç´¢ç±»ä¼¼çš„æŸ¥è¯¢ï¼Œç„¶åŽé€‰æ‹©ç›¸åŒçš„ç»“æžœï¼Œæˆ‘ä»¬çŸ¥é“ç»“æžœå¯èƒ½æ˜¯å¥½çš„ï¼Œåº”è¯¥æŽ’åœ¨æ›´é«˜çš„ä½ç½®ã€‚ ç›®å‰è¯¥æœåŠ¡ä»…ä»¥è‹±æ–‡ç¼–åˆ¶ç´¢å¼•ï¼Œä½†æˆ‘ä»¬å¸Œæœ›ä¸ºç¿»è¯‘çš„è®¾ç½®è¯´æ˜Žç¼–åˆ¶ç´¢å¼•å¹¶æ”¯æŒä»¥éžè‹±æ–‡è¯­è¨€è¿›è¡Œæœç´¢ã€‚è¿˜æœ‰ä¸€äº›é…ç½®å…ƒæ•°æ®ç›®å‰æ²¡æœ‰ç´¢å¼•ï¼Œä¾‹å¦‚â€œworkbench.colorCustomizationsâ€è®¾ç½®çš„å¯èƒ½å€¼ã€‚å¹¶è¿›ä¸€æ­¥æœç´¢ï¼Œæˆ‘ä»¬æƒ³æ˜¾ç¤ºç›®å‰æœªå®‰è£…çš„æ‰©å±•çš„ç»“æžœã€‚å¦‚æžœæ‚¨æœç´¢â€œdebug pythonâ€ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸Žæœ¬åœ°è®¾ç½®ç›¸åŒ¹é…çš„å¼ºåŒ¹é…é¡¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¸Œæœ›å¼•å¯¼æ‚¨ä½¿ç”¨å¯ä»¥å¸®åŠ©æ‚¨è°ƒè¯•Pythonä»£ç çš„æ‰©å±•ã€‚æˆ‘ä»¬ä¹Ÿåœ¨VS Codeä¸­è€ƒè™‘è¿‡è¿™ç§æŠ€æœ¯çš„å…¶ä»–åº”ç”¨ã€‚ä¹Ÿè®¸å‘½ä»¤é¢æ¿å¯ä»¥ä»Žç±»ä¼¼çš„æœåŠ¡ä¸­å—ç›Šã€‚ We need your feedbackçŽ°åœ¨æ›´å®¹æ˜“æ‰¾åˆ°è®¾ç½®ï¼Œè¿™è¦æ„Ÿè°¢Bingå›¢é˜Ÿä¸­çš„æœ‹å‹ï¼ ç”¨æˆ·åé¦ˆæ˜¯æˆ‘ä»¬æ”¹è¿›ç»“æžœçš„æœ€ä½³æ–¹å¼ï¼Œå› æ­¤ï¼Œå¦‚æžœæ‚¨æ²¡æœ‰çœ‹åˆ°æ‚¨æœŸæœ›çš„ç»“æžœï¼Œé‚£ä¹ˆåœ¨æ‚¨æœç´¢è®¾ç½®æ—¶ï¼Œè¯·åœ¨GitHubä¸Šæäº¤é—®é¢˜ã€‚ äº‹å®žä¸Šï¼Œå¦‚æžœä½ ä½¿ç”¨VS Code Insidersï¼Œä½ ç”šè‡³ä¼šçœ‹åˆ°ä¸€ä¸ªæŒ‰é’®ï¼Œå®ƒä¼šè°ƒç”¨æˆ‘ä»¬çš„æ–°é—®é¢˜è®°è€…ï¼Œä½¿ä½ æ›´å®¹æ˜“æäº¤åŒ…å«æˆ‘ä»¬éœ€è¦çš„æ‰€æœ‰ç»†èŠ‚çš„é—®é¢˜ã€‚ ç¼–ç å¿«ä¹ï¼]]></content>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽNlogåœ¨dotNet Core2.0æŽ§åˆ¶å°ç¨‹åºä¸­çš„ä½¿ç”¨]]></title>
    <url>%2F2018%2F05%2F03%2F%E5%85%B3%E4%BA%8ENlog%E5%9C%A8dotNet-Core2.0%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦ï¼š è¿™åªæ˜¯Nlogçš„å­¦ä¹ ç¬”è®°ã€‚æ•™ç¨‹ç›¸å…³æ•™ç¨‹éƒ½å¾ˆè¯¦ç»†äº†ï¼Œåœ¨æ­¤ä¸èµ˜è¿°ã€‚ å¼€å§‹å…ˆå å‘ è¸©åˆ°çš„é›·Nlogä¸å·¥ä½œå‰æï¼šé…ç½®æ–‡ä»¶å†…å®¹æ²¡æœ‰é”™ï¼Œä»£ç æ²¡æœ‰é”™åŽŸå› ï¼šé…ç½®æ–‡ä»¶é«˜çº§å±žæ€§ä¸­ï¼Œå¤åˆ¶åˆ°è¾“å‡ºç›®å½•é…ç½®é”™ã€‚è§£å†³åŠžæ³•ï¼šå°†å¤åˆ¶åˆ°è¾“å‡ºç›®å½• å±žæ€§æ”¹ä¸º]]></content>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>Nlog</tag>
        <tag>.Net Core</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoâ€”â€”Yiliaä¸»é¢˜æ·»åŠ æ–‡ç« ç½®é¡¶]]></title>
    <url>%2F2018%2F04%2F29%2FHexo%E2%80%94%E2%80%94Yilia%E4%B8%BB%E9%A2%98%E7%9A%84%E5%BD%92%E6%A1%A3%E9%A1%B5%E7%BD%AE%E9%A1%B6%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦ï¼š å…¶å®žå°±æ˜¯è®°å½•ä¸€ä¸‹Yiliaä¸»é¢˜çš„æ–‡ç« ç½®é¡¶æ€Žä¹ˆåŠ ã€‚ç™¾åº¦æœç´¢é å‰çš„å…³äºŽæ–‡ç« ç½®é¡¶çš„åšå®¢éƒ½æ˜¯å…³äºŽNexTä¸»é¢˜çš„ã€‚ä¸å¾—ä¸æ‰¿è®¤è¿˜æ˜¯NexTä¸»é¢˜æ¯”è¾ƒç«ä¸€äº›ã€‚å¯æ˜¯é‚£ä¸ªä¸»é¢˜å¯¹æˆ‘æ¥è¯´å¤ªå•è°ƒäº†ï¼Œè™½ç„¶å¾ˆç®€æ´å¤§æ°”ï¼ŒåŠŸèƒ½ä¹Ÿå¤šã€‚ä½†æ˜¯Yiliaçš„ç•Œé¢é£Žæ ¼çœŸæ˜¯Getåˆ°æˆ‘çš„ç‚¹äº†ï¼Œä¸æƒ³æ¢ã€‚è¯è¯´è¿™ä¸ªä¸»é¢˜å¥½ä¹…æ²¡æ›´æ–°äº†ï¼Œä¹Ÿä¸çŸ¥é“ä½œè€…æ˜¯ä¸æ˜¯ä¸æƒ³æžäº†ï¼Œè¿™å¯æ˜¯GayHubä¸Šé¢æŽ’åç¬¬äºŒçš„ä¸»é¢˜å•Šã€‚ä½œè€…åŠ æ²¹å•ŠðŸ¤£ å¼€å§‹blogç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚è‡³äºŽåŽŸå› å˜›ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ðŸ™ƒ 12npm uninstall hexo-generator-index --savenpm install hexo-generator-index-pin-top --save ç„¶åŽåœ¨æ–‡ç« å¤´æ·»åŠ  top:true å¦‚ï¼š12345678---title: ç»ˆäºŽè£…å¥½Hexoå•¦date: 2018-04-19 00:04:46tags: å¿ƒæƒ…top: truecategories:- ä½ å¥½ï¼Œä¸–ç•Œ--- æœ€ç»ˆæ•ˆæžœ]]></content>
      <categories>
        <category>Hexoç›¸å…³</category>
      </categories>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>hexoä¸ªæ€§åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘å¯¹æ¯”ç‰¹å¸ä¸ŽåŒºå—é“¾çš„ç†è§£]]></title>
    <url>%2F2018%2F04%2F22%2F%E6%88%91%E5%AF%B9%E6%AF%94%E7%89%B9%E5%B8%81%E4%B8%8E%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸€ä¸‹å­¦ä¹ åŒºå—é“¾çš„çŸ¥è¯†ç‚¹ åŒºå—å› ä½•äº§ç”ŸåŒºå—æ˜¯æŒ–çŸ¿ç¨‹åºè‡ªåŠ¨äº§ç”Ÿçš„ã€‚ä»¥æ¯”ç‰¹å¸æ¥è¯´ï¼Œä¸€ç¬”äº¤æ˜“åªæœ‰500Byteå·¦å³ï¼Œè€Œä¸€ä¸ªåŒºå—çš„å¤§å°ä¸º1MBå› æ­¤å¯ä»¥å­˜æ”¾2000å¤šç¬”äº¤æ˜“ã€‚å…¨ç½‘æ‰€æœ‰äº§ç”Ÿçš„äº¤æ˜“æ•°æ®éƒ½ä¼šå¹¿æ’­åˆ°æ‰€æœ‰çŸ¿å·¥èŠ‚ç‚¹ã€‚ç”±æŒ–çŸ¿ç¨‹åºè‡ªåŠ¨å†™å…¥åŒºå—ä¹‹ä¸­ã€‚åŒºå—ä¸æ˜¯ç«‹å³å°±æœ‰çš„ï¼Œè€Œæ˜¯æ¯ååˆ†é’Ÿç”Ÿæˆä¸€ä¸ªã€‚ äº§ç”Ÿæ—¶é—´ä¸ºä»€ä¹ˆæ˜¯10åˆ†é’ŸåŒºå—çš„ç”Ÿæˆé—´éš”æ˜¯ä»£ç ä¸­å®šä¹‰å¥½çš„ï¼ŒçŸ¿å·¥æ˜¯ä¸èƒ½æ”¹çš„ã€‚å¯¹çŸ¿å·¥ä¸ªäººæ¥è¯´ï¼Œä¹Ÿå°±æ˜¯è¯´ååˆ†é’Ÿä¹‹å†…ï¼ŒæŒ–çŸ¿ç¨‹åºéœ€è¦æ‰¾åˆ°ä¸€ä¸ªé­”æ•°ï¼ŒåŠ åˆ°è‡ªå·±ç”Ÿæˆçš„åŒºå—é“¾å¤´é‡Œã€‚å¹¶å¹¿æ’­å‡ºåŽ»ã€‚è¿™æ ·å¯¹è¿™ä¸ªçŸ¿å·¥æ¥è¯´æ‰æ˜¯ç¡®ç¡®å®žå®žè®°æˆäº†ä¸€ç¬”è´¦ï¼Œå…¶å®žä¸åªæ˜¯1ç¬”è€Œæ˜¯å¾ˆå¤šç¬”è´¦ã€‚å–å†³äºŽè¿™10åˆ†é’Ÿä¹‹å†…ï¼Œæœ‰å¤šå°‘äº¤æ˜“ä¿¡æ¯åˆ°è¾¾çŸ¿å·¥å¤„ã€‚ç”±äºŽä¸€ä¸ªåŒºå—åªèƒ½å­˜æ”¾2000ç¬”äº¤æ˜“ï¼Œå¦‚æžœæ­¤æ—¶ ä½ çš„äº¤æ˜“æ°å¥½æ˜¯ç¬¬2001ä¸ª é‚£ä¹ˆå¯¹ä½ æ¥è¯´ä½ éœ€è¦ç­‰20åˆ†é’Ÿã€‚åœ¨ç­‰å¾…æœŸé—´ï¼Œä½ çš„ä¿¡æ¯ä½äºŽå†…å­˜æ± ä¸­ï¼Œä¹Ÿå°±æ˜¯åœ¨å†…å­˜é‡Œç­‰å¾…å¤„ç†ã€‚ç­‰åˆ°ç¬¬1ä¸ªååˆ†é’Ÿè¿‡åŽ»ä¹‹åŽï¼Œæ–°å—å‡ºçŽ°ã€‚å¥½ï¼Œä½ æ˜¯ä¸æ˜¯åœ¨æƒ³ï¼šç¬¬ä¸€ä¸ªè¿›ç­‰å¾…æ± çš„æ˜¯ä¸æ˜¯ä¹Ÿä¼šç¬¬ä¸€ä¸ªè¿›å—ï¼Ÿç„¶è€Œå¹¶ä¸æ˜¯ï¼ŒæŒ–çŸ¿ç¨‹åºä¼šé€‰æ‹©æ‰‹ç»­è´¹è¾ƒå¤šçš„é‚£ä¸ªå†™è¿›å—é‡Œã€‚æŽ’åºè§„åˆ™ä¸ºï¼ˆæ‰‹ç»­è´¹/äº¤æ˜“KBå¤§å°ï¼‰å¦‚æžœç½‘ç»œäº¤æ˜“é‡å·¨å¤šï¼Œè€Œä½ çš„æ‰‹ç»­è´¹åˆå·¨å°‘ï¼Œä½ åœ¨æ‰€æœ‰çŸ¿å·¥é‚£é‡Œéƒ½æ˜¯è¦è¢«å«Œå¼ƒçš„ï¼Œå› æ­¤ä½ çš„äº¤æ˜“ä¼šå¾ˆä¹…å¾ˆä¹…å¾—ä¸åˆ°ç¡®è®¤ï¼Œä½ å°±å¾—ç­‰å¾ˆä¹…å¾ˆä¹…æ‰è¡Œã€‚ åŒºå—æ˜¯å¦‚ä½•è¿žæŽ¥èµ·æ¥çš„åŒºå—é“¾çš„ç»“æž„å¯ä»¥è§†ä¸ºä¸€ä¸ªåž‚ç›´çš„æ ˆï¼Œé¦–åŒºå—åœ¨æ ˆåº•ã€‚è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ é«˜åº¦ æ¥æè¿° åŒºå—ä¸Žé¦–åŒºå—ä¹‹é—´çš„è·ç¦»ã€‚ å¯¹æ¯ä¸ªåŒºå—å¤´è¿›è¡ŒSHA256åŠ å¯†å“ˆå¸Œï¼Œå¯ç”Ÿæˆä¸€ä¸ªå“ˆå¸Œå€¼ã€‚é€šè¿‡è¿™ä¸ªå“ˆå¸Œå€¼ï¼Œå¯ä»¥è¯†åˆ«å‡ºåŒºå—é“¾ä¸­çš„å¯¹åº”åŒºå—ã€‚åŒæ—¶ï¼Œæ¯ä¸€ä¸ªåŒºå—éƒ½å¯ä»¥é€šè¿‡å…¶åŒºå—å¤´çš„â€œçˆ¶åŒºå—å“ˆå¸Œå€¼â€å­—æ®µå¼•ç”¨å‰ä¸€åŒºå—ï¼ˆçˆ¶åŒºå—ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªåŒºå—å¤´éƒ½åŒ…å«å®ƒçš„çˆ¶åŒºå—å“ˆå¸Œå€¼ã€‚è¿™æ ·æŠŠæ¯ä¸ªåŒºå—é“¾æŽ¥åˆ°å„è‡ªçˆ¶åŒºå—çš„å“ˆå¸Œå€¼åºåˆ—å°±åˆ›å»ºäº†ä¸€æ¡ä¸€ç›´å¯ä»¥è¿½æº¯åˆ°ç¬¬ä¸€ä¸ªåŒºå—ï¼ˆåˆ›ä¸–åŒºå—ï¼‰çš„é“¾æ¡ã€‚å¼•ç”¨ åŒºå—å¤´hashå€¼æ˜¯ç”±æœºå™¨ç®—å‡ºæ¥çš„ï¼Œå¹¶éžåŒ…å«åœ¨åŒºå—å¤´å†…ã€‚åŒºå—å¤´å†…åªä¿å­˜äº†ä¸¤ä¸ªhashå€¼: çˆ¶åŒºå—hashå€¼ä¸Ž Merkleæ ‘æ ¹çˆ¶åŒºå—hashå€¼ç”¨äºŽæŒ‡å‘çˆ¶åŒºå—ã€‚Merkleæ ‘æ ¹ç”¨æˆ·æŒ‡å‘åŒºå—ä½“æ•°æ® Merkleæ ‘ç®€å•æ¥è®²ï¼ŒMerkleæ ‘æ ¹çš„ä½œç”¨å°±æ˜¯ä¿è¯åŒºå—ä¸­çš„è®°å½•ä¸è¢«ç¯¡æ”¹ã€‚ä¸€æ—¦åŒºå—ä¸­çš„æŸä¸€ä¸ªè®°å½•è¢«ç¯¡æ”¹ï¼Œé‚£ä¹ˆé€šè¿‡æ¯”è¾ƒMerkleæ ‘æ ¹å°±å¯ä»¥æ£€æµ‹åˆ°ã€‚ è¯·æ³¨æ„ï¼ŒåŒºå—å“ˆå¸Œå€¼å®žé™…ä¸Šå¹¶ä¸åŒ…å«åœ¨åŒºå—çš„æ•°æ®ç»“æž„é‡Œï¼Œä¸ç®¡æ˜¯è¯¥åŒºå—åœ¨ç½‘ç»œä¸Šä¼ è¾“æ—¶ï¼ŒæŠ‘æˆ–æ˜¯å®ƒä½œä¸ºåŒºå—é“¾çš„ä¸€éƒ¨åˆ†è¢«å­˜å‚¨åœ¨æŸèŠ‚ç‚¹çš„æ°¸ä¹…æ€§å­˜å‚¨è®¾å¤‡ä¸Šæ—¶ã€‚ç›¸åï¼ŒåŒºå—å“ˆå¸Œå€¼æ˜¯å½“è¯¥åŒºå—ä»Žç½‘ç»œè¢«æŽ¥æ”¶æ—¶ç”±æ¯ä¸ªèŠ‚ç‚¹è®¡ç®—å‡ºæ¥çš„ åŒºå—é“¾å¦‚ä½•éåŽ†æˆ‘ä»¬çŸ¥é“ æ¯ä¸€ä¸ªåŒºå—çš„çš„å¤´éƒ¨éƒ½å­˜æ”¾äº†ä¸Šä¸€å—çš„hashå€¼ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸‹è½½ä¸‹æ¥å½“å‰æ‰€æœ‰æ•°æ®ä¹‹åŽè¯¥æ€Žä¹ˆéåŽ†å‘¢ï¼Ÿä¸è¿‡æˆ‘ä»¬è¦æ¸…æ¥šä¸€ç‚¹ï¼ŒéåŽ†æ“ä½œæœ¬èº«å–å†³äºŽä½ æœ¬åœ°å­˜å‚¨åŒºå—æ‰€é‡‡ç”¨çš„æ•°æ®ç»“æž„ã€‚å¦‚æžœæ˜¯æ•°ç»„å­˜æ”¾ï¼Œé‚£ä¹ˆéåŽ†å°±æ˜¯ç®€å•æ¥è¯´forå¾ªçŽ¯ä¸€éã€‚é‚£ä¹ˆåŒºå—å¤´éƒ¨çš„hashå€¼æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿé‚£å°±æ˜¯å½“ä½ å–ä¸‹ä¸€å—æ•°æ®çš„æ—¶å€™å¯ä»¥éªŒè¯ä¸‹ä¸€å—ç©¶ç«Ÿæ˜¯ä¸æ˜¯ä¸Šä¸€å—çš„åŽç»§åŒºå—ã€‚å°†å½“å‰åŒºå—è‡ªèº«å¤´éƒ¨çš„Hashä¸Žä¸‹ä¸€ä¸ªåŒºå—å­˜æ”¾çš„å‰é©±åŒºå—çš„hashåšæ¯”è¾ƒï¼Œå°±èƒ½çŸ¥é“è¿™ä¸¤ä¸ªåŒºå—æ˜¯ä¸æ˜¯ä¸€ä¸²ã€‚ åŒºå—çš„hashæœ‰ä»€ä¹ˆç”¨åŒºå—çš„hashçš„ç”Ÿæˆæ˜¯ å‚è€ƒèµ„æ–™ç²¾é€šæ¯”ç‰¹å¸]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
        <category>åŒºå—é“¾</category>
      </categories>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>æ¯”ç‰¹å¸</tag>
        <tag>åŒºå—é“¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨RSS]]></title>
    <url>%2F2018%2F04%2F22%2F%E4%BD%BF%E7%94%A8RSS%2F</url>
    <content type="text"><![CDATA[å å‘]]></content>
      <categories>
        <category>Hexoç›¸å…³</category>
      </categories>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨HexoEditorå†™åšå®¢]]></title>
    <url>%2F2018%2F04%2F21%2FhexoEditorTest%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦ï¼š å“Žæ€Žä¹ˆè¯´å‘¢ï¼ŒHexoEditor å¤ªå¥½ç”¨äº†ï¼Œå¤§å¤§æ–¹ä¾¿äº†å†™åšå®¢çš„æ•ˆçŽ‡ã€‚æ¯”å¦‚ä¸€é”®ä¸Šä¼ åšå®¢å›¾ç‰‡ï¼Œè®©æˆ‘çœçš„æ‰“å¼€è…¾è®¯äº‘å®¢æˆ·ç«¯æ‰‹åŠ¨ä¸Šä¼ å’Œå»ºç«‹æ–‡ä»¶å¤¹äº†ã€‚çŽ°åœ¨æˆ‘è¦è®°å½•ä»¥ä¸‹æ—¥å¸¸ä½¿ç”¨ä¸­ä¸€äº›ç»å¸¸ç”¨åˆ°çš„æ“ä½œã€‚ å¼€å§‹åœ¨windowsä¸‹ ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œä»¥ä¸‹å‘½ä»¤123456789npm config delete proxynpm config set prefix "C:/Program Files/nodejs/npm_global"npm config set cache "C:/Program Files/nodejs/npm_cache" npm config set registry "https://registry.npm.taobao.org/"npm config set electron_mirror "https://npm.taobao.org/mirrors/electron/"git clone https://github.com/zhuzhuyule/HexoEditor.gitnpm install -g electron@1.8.1npm installnpm start ä½¿ç”¨å¯¼å…¥é…ç½®ç»‘å®šå›¾åºŠ]]></content>
      <categories>
        <category>Hexoç›¸å…³</category>
      </categories>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>HexoEditor</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo+yiliaä¸ªæ€§åŒ–ä¹‹-æ·»åŠ èƒŒæ™¯éŸ³ä¹]]></title>
    <url>%2F2018%2F04%2F21%2Fhexo-yilia%E4%B8%AA%E6%80%A7%E5%8C%96%E4%B9%8B-%E6%B7%BB%E5%8A%A0%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90%2F</url>
    <content type="text"><![CDATA[æ·»åŠ èƒŒæ™¯éŸ³ä¹èŽ·å–å¤–é“¾æ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹ ç‚¹å‡»å›¾ä¸­æŒ‰é’®è·³è½¬åˆ°å¤–é“¾åˆ›å»ºé¡µé¢ã€‚ å¾ˆå¤šå¥½å¬çš„éŸ³ä¹éƒ½å› ä¸ºç‰ˆæƒåŽŸå› æ— æ³•åˆ›å»ºå¤–é“¾ï¼Œæ‰€ä»¥åªèƒ½å¤šæ¢å‡ ä¸ªè¯•è¯•ã€‚ è¯´æ˜Žï¼š å¯ä»¥è°ƒæ•´æŽ§ä»¶çš„é•¿åº¦ã€‚ä¸è¿‡åˆå§‹é•¿åº¦ç›¸å¯¹è¾ƒé•¿ï¼Œç›´æŽ¥æ·»åŠ ä¼šçœ‹èµ·æ¥ä¸å±…ä¸­å½±å“ç¾Žè§‚ï¼ŒåŽé¢å†è°ƒ è‡ªåŠ¨æ’­æ”¾å±žæ€§æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯è®¾ç½®ã€‚ ä¹‹åŽä¹Ÿå¯ä»¥é€šè¿‡ç›´æŽ¥ä¿®æ”¹ç®­å¤´æ‰€æŒ‡çš„æ•°å€¼æ¥æ”¹å˜å¤§å° ä¹‹åŽä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹ 0æˆ–1 æ¥å…³é—­æˆ–æ‰“å¼€è‡ªåŠ¨æ’­æ”¾ ç²˜è´´ä»£ç æ‰“å¼€è·¯å¾„ themes/yilia/layout/_partial/left-col.ejs æ‰¾åˆ°å¦‚å›¾æ‰€ç¤ºä½ç½®ï¼Œå°†èŽ·å–çš„å¤–é“¾ç²˜è´´ä¸ŠåŽ»ã€‚ å½“ç„¶ä¸ä¸€å®šéžå¾—æ˜¯è¿™ä¸ªåœ°æ–¹ï¼Œæ ¹æ®éœ€è¦å¯ä»¥é€‰æ‹©ä¸åŒçš„å®‰æ”¾ä½ç½® è°ƒæ•´å¤§å°ç©¶ç«Ÿè¦è°ƒæ•´åˆ°å¤šé•¿æ‰èƒ½çœ‹èµ·æ¥å±…ä¸­?æˆ‘å°è¯•äº†å¾ˆå¤šæ¬¡é•¿åº¦ï¼Œéƒ½ä¸å¤ªæ»¡æ„ã€‚åŽæ¥æˆ‘å°±æƒ³åˆ°ä¸€ä¸ªå–å·§çš„åŠžæ³•ã€‚å¦‚å›¾æ‰€ç¤ºï¼š ç”±æ­¤ç¡®å®šæˆ‘ä»¬æœ€å¥½å°†æŽ§ä»¶é•¿åº¦ä¿®æ”¹ä¸º 228px å®Œæˆå±…ä¸­æ•ˆæžœçœ‹èµ·æ¥è¿˜æ˜¯ä¸é”™çš„ã€‚ å¦ï¼š å½“ç”¨æ‰‹æœºç«¯æŸ¥çœ‹çš„æ—¶å€™æŽ§ä»¶ä¼šæ¶ˆå¤±ï¼Œå› æ­¤ä¸èƒ½æŽ§åˆ¶æš‚åœã€‚è¯·æ³¨æ„è¿™ä¸€ç‚¹ã€‚ ipadå¸ƒå±€æ²¡æœ‰æµ‹è¯•ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰ipadâ€¦. ( ï¿£ã¸ï¿£) æ¯è¿›å…¥ä¸€ä¸ªæ–°çš„é¡µé¢éŸ³ä¹éƒ½ä¼šé‡æ–°å¼€å§‹æ’­æ”¾ï¼Œæˆ‘è¿˜ä¸çŸ¥é“æ€Žä¹ˆåŠžã€‚]]></content>
      <categories>
        <category>Hexoç›¸å…³</category>
      </categories>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>hexoä¸ªæ€§åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[httpså­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2018%2F04%2F21%2Fhttps%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[éžä¸“ä¸šè§£é‡Šï¼Œä¸»è¦ä¾¿äºŽç†è§£ HTTPSåè®®çš„ç®€å•ç†è§£æµç¨‹æè¿°HTTPSçš„é€šä¿¡æµç¨‹å¯ä»¥ç®€å•æè¿°ä¸€ä¸‹ å¯ä»¥è®¤ä¸ºæœåŠ¡å™¨æœ‰ä¸¤æŠŠé’¥åŒ™ï¼Œä¸€æŠŠå«å…¬é’¥ ä¸€æŠŠå«ç§é’¥ï¼ˆæœåŠ¡å™¨ï¼‰ã€‚â€œå…¬é’¥â€çš„ä½œç”¨åªæœ‰ä¸€ä¸ªï¼šè®©å®¢æˆ·ç«¯å¯¹è‡ªå·±çš„ä¿¡æ¯åŠ å¯†ã€‚ å®¢æˆ·ç«¯å‘é€è¯·æ±‚ã€‚ æœåŠ¡å™¨è¿”å›žè¯ä¹¦ã€‚ å®¢æˆ·ç«¯å¯¹è¯ä¹¦è¿›è¡ŒéªŒè¯ã€‚ï¼ˆé˜²æ­¢å†’å……æœåŠ¡å™¨ï¼‰ å®¢æˆ·ç«¯éªŒè¯æˆåŠŸåˆ™è¿›è¡Œç¬¬5æ­¥å¦åˆ™è­¦å‘Šç”¨æˆ· å®¢æˆ·ç«¯ä¼šäº§ç”Ÿä¸€ä¸ªéšæœºæ•°å¹¶ç»“åˆæŸç§ç®—æ³•ç”Ÿæˆä¸€ä¸ªä¸´æ—¶ç§é’¥ å®¢æˆ·ç«¯ä½¿ç”¨è¯ä¹¦é‡Œé¢çš„å…¬é’¥æŠŠä¸´æ—¶ç§é’¥åŠ å¯†å¹¶ä¼ è¾“ç»™æœåŠ¡å™¨ æœåŠ¡å™¨ä½¿ç”¨ç§é’¥è§£å¯†å®¢æˆ·ç«¯æ¶ˆæ¯èŽ·å–ä¸´æ—¶ç§é’¥ å®¢æˆ·ç«¯ä½¿ç”¨ä¸´æ—¶ç§é’¥åŠ å¯†å¹¶å‘é€æ•æ„Ÿä¿¡æ¯ï¼ˆæ¯”å¦‚å¯†ç ï¼‰ æœåŠ¡å™¨ä½¿ç”¨ä¸´æ—¶ç§é’¥è§£å¯†å¹¶èŽ·å–æ•æ„Ÿä¿¡æ¯ åœ¨ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰çš„ä¿¡æ¯éƒ½æ˜¯åŠ å¯†ä¼ è¾“çš„ã€‚å³ä½¿æŠ“åŒ…ä¹Ÿåªæ˜¯ä¸€å †çœ‹ä¸æ‡‚çš„å¯†æ–‡ï¼šæ²¡æœ‰æ‹¿åˆ°æœåŠ¡å™¨çš„ç§é’¥é‚£å°±æ²¡åŠžæ³•æŸ¥çœ‹å®¢æˆ·ç«¯ä¸ŽæœåŠ¡å™¨çš„ä¸´æ—¶ç§é’¥ï¼Œå› ä¸ºä¸´æ—¶ç§é’¥æ˜¯ç”¨å…¬é’¥åŠ å¯†è¿‡çš„ï¼Œåªèƒ½ç”¨æœåŠ¡å™¨çš„ç§é’¥è§£å¯†ã€‚å› æ­¤ä¸­é—´è¿‡ç¨‹ä¸å¯èƒ½ä¸‹å¾—äº†æ‰‹ã€‚ å®¢æˆ·ç«¯å°†è¿™ä¸ªéšæœºç”Ÿæˆçš„ä¸´æ—¶ç§é’¥ç”¨æœåŠ¡å™¨çš„å…¬é’¥åŠ å¯†å‘ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†ï¼Œè¿™æ—¶å€™æœåŠ¡å™¨ä¹Ÿå°±èŽ·å–äº†ä¸´æ—¶ç§é’¥ã€‚ æŽ¥ä¸‹æ¥çš„å¯¹è¯å°±ä¸æ˜¯éžå¯¹ç§°åŠ å¯†çš„æ–¹å¼äº†ï¼Œè€Œæ˜¯ä½¿ç”¨çš„å¯¹ç§°åŠ å¯†ï¼ŒæœåŠ¡å™¨ç”¨ä¸´æ—¶ç§é’¥åŠ å¯†ä¿¡æ¯å‘ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¹Ÿç”¨ä¸´æ—¶ç§é’¥æŠŠä¿¡æ¯è§£å¯†ã€‚ ä¸€äº›HTTPsçš„çŸ¥è¯†ç‚¹ SSL/TLSåè®® éžå¯¹ç§°åŠ å¯† å¯¹ç§°åŠ å¯† å•å‘æ•£åˆ—å‡½æ•° ä¸­é—´äººæ”»å‡» åŸŸååŠ«æŒ ç­¾å è¯ä¹¦ å…³äºŽHTTPsçš„å¥½å¤„ç”¨äº†å®ƒåŽå°å°±å¯ä»¥ä¸å¿…ç…žè´¹è‹¦å¿ƒè¿›è¡Œä¼ è¾“ä¿¡æ¯çš„åŠ å¯†äº†ï¼ŒçœåŠ²å„¿ã€‚ å…³äºŽæ ¹è¯ä¹¦é¦–å…ˆï¼Œä¸€èˆ¬ç³»ç»Ÿä¼šé¢„ç½®å¾ˆå¤šæ ¹è¯ä¹¦ï¼Œå®ƒä»¬éƒ½æ˜¯æ¥è‡ªå—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæž„ï¼Œå¹¶ä¸”å…¨çƒä¹Ÿå°±é‚£ä¹ˆå‡ æ‰€æœºæž„è€Œå·²ã€‚å…¶ä»–ç½‘ç«™å¦‚æžœéœ€è¦ä½¿ç”¨HTTPsï¼Œé‚£ä¹ˆåªèƒ½å‘è¿™äº›æœºæž„è´­ä¹°è¯ä¹¦ï¼Œè¯ä¹¦éƒ½æœ‰ä¸€ä¸ªç”Ÿæ•ˆæœŸä»¥åŠå¤±æ•ˆæœŸã€‚ æœ‰æ—¶å€™ä½¿ç”¨æœºæˆ¿çš„ç”µè„‘ä¸Šç½‘æ€»ä¼šæç¤ºè¯ä¹¦è­¦å‘Šï¼ŒåŽŸå› å¯èƒ½å°±æ˜¯æœºæˆ¿ç”µè„‘çš„ç³»ç»Ÿæ—¶é—´ä¸å¯¹ï¼Œè¦ä¹ˆè¿˜æ²¡åˆ°ç”Ÿæ•ˆæœŸè¦ä¹ˆå°±æ˜¯è¿‡äº†å¤±æ•ˆæœŸã€‚æ²¡æœ‰è¯¥CAæœºæž„çš„æ ¹è¯ä¹¦ï¼Œé‚£ä¹ˆä»»ä½•ç”±è¿™ä¸ªæœºæž„é¢å‘çš„è¯ä¹¦éƒ½ä¼šæ— æ³•é€šè¿‡è¯ä¹¦æ˜¯å¯ä»¥è‡ªå·±ç”Ÿæˆï¼Œä½†æ˜¯å‡ ä¹Žæ‰€æœ‰çš„å®¢æˆ·ç«¯éƒ½ä¸ä¿¡ä»»ä½ ï¼Œæƒ³è®©å®¢æˆ·ç«¯ä¿¡ä»»çš„è¯åªèƒ½æ‰‹åŠ¨å®‰è£…æ ¹è¯ä¹¦æ‰è¡Œ è¯ä¹¦èƒ½ä¸èƒ½ä¼ªé€ å…³äºŽè¯ä¹¦èƒ½ä¸èƒ½ä¼ªé€ çš„é—®é¢˜å·²ç»ç”±ä¸€ä¸ªå¾ˆåˆç†çš„æè¿°: æ•°å­—è¯ä¹¦é‡Œæœ‰CAçš„æ•°å­—ç­¾åï¼Œç­¾åæ˜¯ç”±è¯ä¹¦å†…å®¹çš„å“ˆå¸Œæ‘˜è¦ç”¨CAçš„ç§é’¥åŠ å¯†çš„ã€‚ç”¨CAçš„å…¬é’¥éªŒè¯ç­¾åçš„åˆæ³•æ€§å°±å¯ä»¥éªŒè¯è¯ä¹¦çš„çœŸå‡ å‚è€ƒèµ„æ–™ 12306.cn è´­ç¥¨ä¸ºä»€ä¹ˆè¦å®‰è£…æ ¹è¯ä¹¦ï¼Ÿ RSAçš„å…¬é’¥å’Œç§é’¥åˆ°åº•å“ªä¸ªæ‰æ˜¯ç”¨æ¥åŠ å¯†å’Œå“ªä¸ªç”¨æ¥è§£å¯†ï¼Ÿ ç§é’¥ã€å…¬é’¥ã€æ•°å­—ç­¾åã€æ•°å­—è¯ä¹¦ã€HTTPS HTTPSå¿…é¡»åœ¨æ¯æ¬¡è¯·æ±‚ä¸­éƒ½è¦å…ˆåœ¨SSLå±‚è¿›è¡Œæ¡æ‰‹ä¼ é€’ç§˜é’¥å—ï¼Ÿ èŠèŠHTTPSå’ŒSSL/TLSåè®® HTTPS åŽŸç†è¯¦è§£ æµè§ˆå™¨å¦‚ä½•éªŒè¯HTTPSè¯ä¹¦çš„åˆæ³•æ€§ï¼Ÿ HTTPS æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å¦‚ä½•è¿›è¡ŒåŠ å¯†è§£å¯†çš„? å…¬é’¥ä¸Žç§é’¥ï¼ŒHTTPSè¯¦è§£ (æŽ¨èçœ‹çœ‹) å›½å†…CAæœºæž„æ²ƒé€šé”™è¯¯é¢å‘GitHubåŸŸåSSLè¯ä¹¦]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>HTTPS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JWTå­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2018%2F04%2F21%2FJWT%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ä¸ºä¸€ä¸ªè‡ªå¨±è‡ªä¹çš„é¡¹ç›®å¼€å‘WebAPIçš„æ—¶å€™ï¼Œæˆ‘å°è¯•ä½¿ç”¨äº†TokenéªŒè¯æœºåˆ¶ã€‚å¯¹äºŽæˆ‘è¿™æ ·ä¸€ä¸ªèœé¸Ÿæ¥è¯´ï¼ŒTokençš„éªŒè¯æœºåˆ¶åœ¨æˆ‘ç†è§£ä¸­ååˆ†ç®€å•ï¼šå…ˆä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç ç™»å½•ç³»ç»Ÿï¼ŒæœåŠ¡å™¨ä¼šè¿”å›žä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œçº¦å®šå¥½è¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯ç³»ç»Ÿå‡ºå…¥çš„é€šè¡Œä»¤ç‰Œå®¢æˆ·ç«¯ä¹‹åŽé™¤äº†ç™»å½•æ“ä½œçš„æ‰€æœ‰è¯·æ±‚åªè¦å¸¦ä¸Šè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œç³»ç»Ÿå°±ä¼šæ”¾è¡Œã€‚å¥½ï¼Œåˆ°çŽ°åœ¨å°±æ˜Žç™½äº†ï¼Œâ€œTokenâ€åœ¨å½“æ—¶çš„æˆ‘çœ‹æ¥åªæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘åªéœ€è¦ä¿è¯è¿™ä¸ªå­—ç¬¦ä¸²ä¸€äººä¸€ä¸ªä¸é‡æ ·å³å¯ã€‚äºŽæ˜¯æˆ‘å°±ä½¿ç”¨äº†GUIDï¼ˆå…¨å±€å˜é‡æ ‡è¯†ç¬¦ï¼‰æ¥å……å½“Tokenã€‚ä½†æ˜¯ä½¿ç”¨è¿‡ç¨‹ä¸­å°±æœ‰äº†é—®é¢˜ã€‚è¿™ä¸ªTokenæ˜¯ç”Ÿæˆäº†è€Œä¸”ä¸é‡æ ·ï¼Œå¯æˆ‘æ€Žä¹ˆç¡®ç«‹å®ƒå’Œç”¨æˆ·ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼ŸäºŽæ˜¯æˆ‘æƒ³åˆ°æŠŠTokenå­˜åˆ°ç”¨æˆ·è¡¨ä¸­ï¼Œå‡è®¾ç”¨æˆ·å¸¦ç€Tokenè®¿é—®æ›´æ–°ç”¨æˆ·ä¿¡æ¯çš„APIï¼ŒæœåŠ¡å™¨æ‹¿åˆ°TokenåŽ»æŸ¥è¯¢ç”¨æˆ·è¡¨ï¼Œè¿›è€Œæ‰¾åˆ°å¯¹åº”çš„ç”¨æˆ·åã€‚è‡³æ­¤æˆ‘å°±çŸ¥é“äº†è¿™ä¸ªTokenæ˜¯å“ªä½ç”¨æˆ·çš„äº†ã€‚æ‹¿ç€è¿™ä¸ªç”¨æˆ·åï¼Œå°±å¯ä»¥æ›´æ–°è¯¥ç”¨æˆ·çš„è¡¨é¡¹äº†ã€‚é‚£ä¹ˆå…¶å®ƒçš„APIä¹Ÿæ˜¯è¿™ä¸ªè¿™æ ·ï¼Œé¦–å…ˆç¬¬ä¸€ä»¶äº‹è¦åšçš„å°±æ˜¯åŽ»æŸ¥è¯¢æ•°æ®åº“æ‰¾åˆ°å¯¹åº”çš„ç”¨æˆ·åï¼Œæ‰èƒ½è¿›è¡Œå…¶ä»–çš„æ“ä½œã€‚æŒ‰ç…§æˆ‘çš„æ€è·¯çš„è¯ï¼Œè¿™ä¸ªæ–¹å¼è™½ç„¶éº»çƒ¦ä¸€ç‚¹ï¼Œä½†æ˜¯è¿˜æ˜¯èƒ½å®žçŽ°åŠŸèƒ½çš„ã€‚å¦ä¸€ä¸ªè§‚äºŽTokençš„å¸¸è§è¦æ±‚æ˜¯ï¼Œå®ƒå¾—èƒ½è®¾ç½®æœ‰æ•ˆæœŸï¼Œæ€»ä¸èƒ½ä¸€ä¸ªTokenç”¨ä¸€è¾ˆå­å§ã€‚äºŽæ˜¯æˆ‘åˆå¾€ç”¨æˆ·è¡¨åŠ äº†ä¸€åˆ—è¿‡æœŸæ—¶é—´ï¼Œæ¯æ¬¡éªŒè¯Tokenéƒ½è¦ä»Žæ•°æ®åº“ä¸­æ‹¿å‡ºåˆ°æœŸæ—¶é—´ä¸Žå½“å‰æ—¶é—´åšæ¯”è¾ƒæ¥åˆ¤æ–­æ˜¯ä¸æ˜¯è¿‡æœŸäº†ã€‚ JWTçš„åŸºæœ¬æ¦‚å¿µJWTï¼ˆJson Web Tokenï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸€ç§Tokençš„è®¾è®¡è§„èŒƒã€‚ç”¨äºŽå®žçŽ°Tokenæœºåˆ¶çš„Tokenè¯´åˆ°åº•ä¹Ÿå°±æ˜¯ä¸ªå­—ç¬¦ä¸²ï¼Œé‡ç‚¹æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²è¯¥æ€Žä¹ˆå†™æ‰ä¼šæ¯”è¾ƒåˆç†ã€‚æˆ‘è¯•è¿‡ç”¨GUIDæ¥å……å½“è¿™ä¸ªTokenå®žçŽ°ç®€å•çš„Tokenèº«ä»½éªŒè¯æœºåˆ¶ï¼Œå®Œå…¨æ²¡é—®é¢˜ã€‚å¯å°±æ˜¯ç”¨èµ·æ¥æœ‰ç‚¹åˆ«æ‰­ã€‚è€ŒJWTå°±æ˜¯ä¸€ç§æ›´åŠ åˆç†çš„ç»„ç»‡Tokenå­—ç¬¦ä¸²çš„æ–¹å¼ã€‚å®ƒä½¿ç”¨JSONæ ¼å¼ï¼Œæ€»ä½“åˆ†ä¸ºä¸‰ä¸ªå¤§å—ï¼šHeader .Payload. Signature,åˆ†åˆ«æ‰¿æ‹…å„è‡ªçš„è´£ä»»ã€‚ Header 1234&#123; "alg": "HS256", "typ": "JWT"&#125; Payload 12345&#123; "sub": "1234567890", "name": "John Doe", "admin": true&#125; Signature 1234HMACSHA256( base64UrlEncode(header) + "." + base64UrlEncode(payload), secret) æ•´ä½“ç»“æž„ä¸ºï¼šheader (base64)+payload (base64)+Signatureæœ‰å…³é‚£äº›Claimçš„è¯´æ˜Žå®˜ç½‘ä¸Šæœ‰è¯¦ç»†ä»‹ç»ã€‚ æŽ¥ä¸‹æ¥ä»ŽSignatureå‡ºå‘çœ‹çœ‹å¯ä»¥æŒ–åˆ°ä»€ä¹ˆçŸ¥è¯†ã€‚â†“ å…³äºŽSignatureå‰ä¸¤éƒ¨åˆ†çš„å¤„ç†éƒ½ååˆ†ç®€å•ï¼Œå…³äºŽSignatureçš„å¤„ç†æœ‰ç‚¹è®©äººçœ¼èŠ±ç¼­ä¹±ï¼Œç‰¹åˆ«æ˜¯æˆ‘è¿™ç§å¯¹å¯†ç æŠ€æœ¯ä¸€æ— æ‰€çŸ¥çš„å°ç™½ã€‚å…³äºŽè¿™ä¸ªæœ€åŽä¸€éƒ¨åˆ†æˆ‘æœ‰è¿‡ä¸€ç‚¹è¯¯è§£ï¼šä»¥ä¸ºä½¿ç”¨SHA-256è¿›è¡Œå¤„ç†ä»¥åŽå°±å¯ä»¥çœ‹åšæ˜¯å¯¹JWTåŠ å¯†äº†åˆ«äººå°±çœ‹ä¸åˆ°äº†ã€‚å…¶å®žå¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚é¦–å…ˆè¦å£°æ˜Žï¼Œæœ€åŽä¸€éƒ¨åˆ†â€œç­¾åâ€å¹¶ä¸æ˜¯å¯¹Tokenè¿›è¡ŒåŠ å¯†å¤„ç†ã€‚è€ŒHS256ä¹Ÿä¸æ˜¯ä¸€èˆ¬æ„ä¹‰ä¸Šçš„åŠ å¯†å‡½æ•°ï¼Œå®ƒçš„å…¨ç§°æ˜¯HMAC using SHA-256ï¼Œè¿™ç‰µæ‰¯åˆ°çš„å°±å¤šäº†ã€‚ è¦ç†è§£å®ƒé¦–å…ˆè¦çŸ¥é“ä¸€ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š 1. å•å‘æ•£åˆ—å‡½æ•°ï¼šå•å‘æ•£åˆ—å‡½æ•°ä¹Ÿç§°ä¿¡æ¯æ‘˜è¦å‡½æ•°ï¼ˆMessage Digest Functionï¼‰,å“ˆå¸Œï¼ˆHashï¼‰å‡½æ•°æˆ–è€…æ‚å‡‘å‡½æ•°ã€‚ å®ƒæ˜¯å…¶ä½™ä¸¤ä¸ªæ¦‚å¿µçš„åŸºç¡€ã€‚çŽ°åœ¨ä¸è€ƒè™‘å…·ä½“å®žçŽ°ï¼ŒæŠŠè¿™ä¸ªæ¦‚å¿µå½“æˆä¸€ä¸ªé»‘ç®±ã€‚ è¾“å…¥ï¼š ä»»æ„é•¿åº¦æ¶ˆæ¯ï¼ˆå¯ä»¥æ˜¯1bit ã€1Kã€1Mï¼Œç”šè‡³å¯ä»¥100Gï¼‰è¾“å‡ºï¼š ä¸€ä¸²å›ºå®šé•¿åº¦çš„æ•°æ®ï¼ˆæ•£åˆ—å€¼ï¼Œä¹Ÿç§°æ¶ˆæ¯æ‘˜è¦ï¼ŒæŒ‡çº¹ï¼‰ å•é¡¹æ•£åˆ—å‡½æ•°æœ‰å¦‚ä¸‹å‡ ç§ç‰¹æ€§ï¼š æ ¹æ®ä»»æ„é•¿åº¦æ¶ˆæ¯å¾—å‡ºçš„æ•£åˆ—å€¼é•¿åº¦æ˜¯å›ºå®šçš„ã€‚ æ•£åˆ—å€¼è®¡ç®—æ—¶é—´çŸ­ ä¸åŒçš„æ¶ˆæ¯æœ‰ä¸åŒçš„æ•£åˆ—å€¼ï¼ˆå¦‚æžœä¸¤ä¸ªä¸åŒæ¶ˆæ¯çš„æ•£åˆ—å€¼ç›¸åŒï¼Œé‚£å°±ç§°ä¸ºå‘ç”Ÿç¢°æ’žï¼‰ æ ¹æ®æ•£åˆ—å€¼æ— æ³•è¿˜åŽŸæ¶ˆæ¯ï¼ˆå•å‘æ€§ï¼Œåªèƒ½ä»Žæ¶ˆæ¯åˆ°æ•£åˆ—å€¼ï¼Œåä¹‹ä¸æˆç«‹ï¼‰ å…³äºŽå•å‘æ•£åˆ—å‡½æ•°çš„åº”ç”¨ï¼Œå¾ˆå¸¸è§çš„ä¸€ä¸ªå°±æ˜¯æ–‡ä»¶çš„æ ¡éªŒ å›¾ç‰‡ä¸­æ‰€ä½¿ç”¨çš„å“ˆå¸Œå‡½æ•°æ˜¯ SHA-1ï¼ˆä¹Ÿæœ‰ä½¿ç”¨MD5çš„ï¼‰ã€‚æœ‰äº†å®ƒå°±çœ‹å¯ä»¥ç¡®å®šä¸‹è½½çš„æ–‡ä»¶æ˜¯ä¸æ˜¯è¢«åŠ¨è¿‡æ‰‹è„šã€‚å› ä¸ºè½¯ä»¶åœ¨å‘å¸ƒçš„æ—¶å€™ä¼šåŒæ—¶å…¬å¸ƒå®ƒæ•£åˆ—å€¼ï¼Œæ­£åœ¨ä¸‹è½½çš„è½¯ä»¶ä¹Ÿå¯ä»¥è®¡ç®—æ•£åˆ—å€¼ï¼Œä¸¤ä¸ªæ•£åˆ—å€¼ç›¸åŒå°±è¯´æ˜Žæ˜¯åŒä¸€ä¸ªè½¯ä»¶ã€‚ å¸¸è§çš„å•é¡¹æ•£åˆ—å‡½æ•°ï¼š MD4(Message Digest 4) MD5(Message Digest 5) SHA-1 SHA-256 æ•°å­—ä»£è¡¨æ•£åˆ—å€¼é•¿åº¦ä¸º256bit SHA-384 SHA-512 2. MAC æ¶ˆæ¯è®¤è¯ç MAC:Message Authentication Code å³æ¶ˆæ¯è®¤è¯ç  å®ƒå¯ä»¥ç¡®è®¤æ¶ˆæ¯å®Œæ•´æ€§å¹¶è¿›è¡Œè®¤è¯ã€‚ è¾“å…¥ï¼š æ¶ˆæ¯+å‘é€è€…ä»¥åŠæŽ¥æ”¶è€…ä¹‹é—´å…±äº«çš„å¯†é’¥ æ³¨ï¼šä¸Žå•é¡¹æ•£åˆ—å‡½æ•°ä¸åŒä¹‹å¤„å°±æ˜¯å®ƒå¤šäº†ä¸€ä¸ªå¯†é’¥çš„å‚ä¸Ž è¾“å‡ºï¼š å›ºå®šé•¿åº¦çš„æ•°æ®ï¼Œç§°ä¸ºMACå€¼ æ³¨ï¼šè¿™å°±è·Ÿå•å‘æ•£åˆ—å‡½æ•°ä¸€æ ·äº† ç¡®åˆ‡æ¥è¯´å®ƒæŒ‡çš„æ˜¯ä¸€ç§è®¤è¯æœºåˆ¶ã€‚è¿™ç§æœºåˆ¶æœ‰å¤šç§å®žçŽ°æ–¹æ³•ï¼Œå•é¡¹æ•£åˆ—å‡½æ•°å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚ä½¿ç”¨å•å‘æ•£åˆ—å‡½æ•°ï¼ˆä¹Ÿç§°Hashå‡½æ•°ï¼‰å®žçŽ°çš„æ¶ˆæ¯è®¤è¯ç å°±ç§°ä¸º HMACï¼Œå…¶ä¸­Hå°±æ˜¯Hashçš„æ„æ€ã€‚ä¸€æ¬¡è§£å†³äº†å•é¡¹æ•£åˆ—å‡½æ•°è™½ç„¶å¯ä»¥æ£€æµ‹åˆ°ç¯¡æ”¹ï¼ˆå®Œæ•´æ€§ï¼‰ï¼Œä½†æ˜¯å´æ²¡æœ‰åŠžæ³•è¯†åˆ«ä¼ªè£…çš„é—®é¢˜ã€‚ æ³¨ï¼šæ— æ³•è¯†åˆ«ä¼ªè£…æ˜¯å› ä¸ºå¦‚æžœæœ‰ç¬¬ä¸‰è€…å‡è£…å…¶ä¸­ä¸€æ–¹å‘æ¶ˆæ¯ï¼Œå¦ä¸€æ–¹æ ¹æœ¬æ— ä»ŽçŸ¥æ™“è¿™ä¸ªæ¶ˆæ¯æ˜¯ä¸æ˜¯å¯¹æ–¹å‘æ¥çš„ã€‚ 3.HMAC å“ˆå¸Œæ¶ˆæ¯è®¤è¯ç ä¸Šé¢ä¹Ÿæåˆ°äº†ï¼ŒHMACå°±æ˜¯ä½¿ç”¨äº†å•é¡¹æ•£åˆ—å‡½æ•°æ¥æž„é€ æ¶ˆæ¯è®¤è¯ç çš„ä¸€ç§æ–¹æ³•ï¼ˆRFC2104ï¼‰ã€‚æ ¹æ®å®ƒæ‰€ä½¿ç”¨çš„æ•£åˆ—å‡½æ•°ä¸åŒï¼Œå°±å‡ºçŽ°äº†å¦‚ä¸‹è¿™ä¹ˆå¤šç§ HMAC HMAC ç®—æ³• å¤‡æ³¨ HS256 HMAC using SHA-256 HS384 HMAC using SHA-384 HS512 HMAC using SHA-512 æ³¨ï¼šä½¿ç”¨æ¶ˆæ¯è®¤è¯ç æ˜¯æ— æ³•ä¿è¯æ¶ˆæ¯çš„æœºå¯†æ€§çš„ï¼Œå®ƒåªèƒ½ä¿è¯æ¶ˆæ¯è¢«æ­£ç¡®çš„ä¼ é€äº†ã€‚ä¾‹å¦‚ ä¼ é€çš„å®Œæ•´æ¶ˆæ¯æ ¼å¼ä¸º â€œ123456â€+â€œæ¶ˆæ¯éªŒè¯ç â€ï¼Œæ¶ˆæ¯éªŒè¯ç çš„ä½œç”¨å°±æ˜¯åœ¨å¯¹æ–¹æ”¶åˆ°æ¶ˆæ¯ä¹‹åŽå¯ä»¥æ ¹æ®éªŒè¯ç æ¥éªŒè¯ â€œ123456â€æ˜¯æ²¡æœ‰è¢«ä¿®è¿‡çš„ã€‚è‡³äºŽæœºå¯†æ€§ï¼Œé‚£éœ€è¦å¯¹â€œ123456â€è¿›è¡ŒåŠ å¯†ï¼Œè€Œè¿™ä¸å…³æ¶ˆæ¯éªŒè¯ç ä»€ä¹ˆäº‹ã€‚ æ¶ˆæ¯è®¤è¯ç æœ‰ä¸¤ä¸ªæ— æ³•è§£å†³çš„é—®é¢˜ï¼š å¯¹ç¬¬ä¸‰æ–¹è¯æ˜Ž é˜²æ­¢å¦è®¤ æ•°å­—ç­¾åå¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ŽJWT å…³ç³»ä¸å¤§ã€‚çŽ°åœ¨æˆ‘æ˜Žç™½äº†ï¼Œè¢«åœ¨JWTä¸­è¢«ç§°ä¸º â€œSignature ç­¾åâ€çš„éƒ¨åˆ†ï¼Œå…¶å®žæ˜¯å‰ä¸¤éƒ¨åˆ†çš„æ¶ˆæ¯è®¤è¯ç ï¼ˆMACï¼‰ï¼Œå®˜æ–¹ç§°ä¹‹ä¸ºæ•°å­—ç­¾åæˆ‘è§‰çš„å…¶å®žå¹¶ä¸æ€Žä¹ˆå‡†ç¡®ã€‚åœ¨JWTä¸­å¯†é’¥å¹¶ä¸ä¸Žå®¢æˆ·ç«¯å…±äº«ï¼Œå…¶ä¸ºæœåŠ¡å™¨ç‹¬æœ‰ã€‚è¿™æ ·ä¸€æ¥åªæœ‰æœåŠ¡å™¨å¯ä»¥å‘Tokenï¼Œè€Œå®¢æˆ·ç«¯å› ä¸ºç¼ºå°‘å¯†é’¥è€Œæ— æ³•ä¼ªé€  Tokenã€‚æœåŠ¡å™¨ä¼šå¯¹æ¯ä¸ªè¯·æ±‚é‡Œé¢çš„Tokenç”¨å¯†é’¥æ¥ç®—MACå€¼æ¥éªŒè¯è¿™ä¸ªTokenæ˜¯ä¸æ˜¯è‡ªå·±å‘å‡ºåŽ»çš„ã€‚ è€Œä¸”ä¸ºäº†ç¡®ä¿Tokenä¸æ˜¯ä¸€ç›´æœ‰æ•ˆï¼Œè¿˜è¦åŠ ä¸€äº›æ—¶é—´æˆ³æ¥é™åˆ¶ Reserverd claims è¯´æ˜Ž exp(Expiration time) æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä»£è¡¨è¿™ä¸ªJWTçš„è¿‡æœŸæ—¶é—´ nbf(Not Before) æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä»£è¡¨è¿™ä¸ªJWTç”Ÿæ•ˆçš„å¼€å§‹æ—¶é—´ï¼Œæ„å‘³ç€åœ¨è¿™ä¸ªæ—¶é—´ä¹‹å‰éªŒè¯JWTæ˜¯ä¼šå¤±è´¥çš„ iat(Issued at) æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä»£è¡¨è¿™ä¸ªJWTçš„ç­¾å‘æ—¶é—´ jti(JWT ID) æ˜¯JWTçš„å”¯ä¸€æ ‡è¯† è¿™äº›æ—¶é—´æˆ³å¯ä»¥è®©æœåŠ¡å™¨çŸ¥é“è¿™ä¸ªTokenæœ‰æ²¡æœ‰è¿‡æœŸã€‚ å…³äºŽæ‰€è°“JWTçš„å®‰å…¨æ€§å¯¹äºŽTokençš„å®‰å…¨æ€§ï¼Œå…¶å®žæˆ‘è§‰å¾—æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼ŒTokenå®žè´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç”±æœåŠ¡å™¨ç­¾å‘çš„æ— æ³•ä¼ªé€ çš„ä»¤ç‰Œã€‚JWTèƒ½å¤Ÿä¿è¯ä»¤ç‰Œæ— æ³•ä¼ªé€ å°±å·²ç»è¶³å¤Ÿå®‰å…¨äº†ã€‚è‡³äºŽä»€ä¹ˆâ€œé»‘å®¢æ‹¿åˆ°äº†ä»¤ç‰Œæ€Žä¹ˆåŠžï¼Œè¦æ˜¯æœ‰ä¸­é—´äººåŠ«æŒï¼Œæ‹¦æˆªäº†æ€Žä¹ˆåŠžâ€ä¹‹ç±»çš„å®‰å…¨é—®é¢˜ï¼Œå¹¶ä¸æ˜¯JWTçš„é”…ï¼Œè€Œæ˜¯ä¼ è¾“åè®®çš„é”…ã€‚HTTPåè®® æ˜Žæ–‡ä¼ è¾“ä¿¡æ¯è€Œé€ æˆçš„å®‰å…¨é—®é¢˜ï¼ŒJWTèƒ½æœ‰ä»€ä¹ˆè´£ä»»ï¼Ÿæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ¢HTTPSåè®®å–½ã€‚ ä½¿ç”¨JWTæ¥è¿›è¡Œç”¨æˆ·èº«ä»½è®¤è¯ C#ä¸­æ€Žä¹ˆç”ŸæˆJWTæ ¼å¼çš„TokenJWTåœ¨å„ä¸ªå¹³å°éƒ½æœ‰å·²ç»å°è£…å¥½çš„åº“å¯ä»¥ä½¿ç”¨åœ¨.NETå¹³å°ä¸‹æœ‰å¦‚ä¸‹å‡ ä¸ªå‘½åç©ºé—´å¯ä»¥å¼•ç”¨ï¼š sharp123using System.Security.Claims;using System.IdentityModel.Tokens.Jwt;using Microsoft.IdentityModel.Tokens; å¾®è½¯æŠŠè¿™äº›ç±»å…¨éƒ½å¼€æºæ”¾åœ¨åœ¨Githubä¸Šé¢å¯ä»¥ä¾›ç ”ç©¶å…¶å®žçŽ°è¿‡ç¨‹ å…³äºŽJWTçš„Claim Reserverd claims è¯´æ˜Ž iss(Issuser) ä»£è¡¨è¿™ä¸ªJWTçš„ç­¾å‘ä¸»ä½“ sub(Subject) ä»£è¡¨è¿™ä¸ªJWTçš„ä¸»ä½“ï¼Œå³å®ƒçš„æ‰€æœ‰äºº aud(Audience) ä»£è¡¨è¿™ä¸ªJWTçš„æŽ¥æ”¶å¯¹è±¡ exp(Expiration time) æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä»£è¡¨è¿™ä¸ªJWTçš„è¿‡æœŸæ—¶é—´ nbf(Not Before) æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä»£è¡¨è¿™ä¸ªJWTç”Ÿæ•ˆçš„å¼€å§‹æ—¶é—´ï¼Œæ„å‘³ç€åœ¨è¿™ä¸ªæ—¶é—´ä¹‹å‰éªŒè¯JWTæ˜¯ä¼šå¤±è´¥çš„ iat(Issued at) æ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä»£è¡¨è¿™ä¸ªJWTçš„ç­¾å‘æ—¶é—´ jti(JWT ID) æ˜¯JWTçš„å”¯ä¸€æ ‡è¯† å“ˆå¸Œç®—æ³• alg å‚æ•° Digital Signature or MAC ç®—æ³• HS256 HMAC using SHA-256 hash algorithm HS384 HMAC using SHA-384 hash algorithm HS512 HMAC using SHA- 5 12 hash algorithm RS256 RSASSA using SHA-256 hash algorithm RS384 RSASSA using SHA- 384 hash algorithm RS512 RSASSA using SHA-512 hash algorithm ES256 ECDSA using P-256 curve and SHA-256 hash algorithm ES384 ECDSA using P- 384 curve and SHA-384 hash algorithm ES512 ECDSA using P-521curve and SHA-512 hash algorithm none No digital signature or MAC value included å‚è€ƒèµ„æ–™JWTå®žçŽ°token-basedä¼šè¯ç®¡ç†MACç®—æ³•å»–é›ªå³°Python]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>JWT</tag>
        <tag>å¯†ç å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨è…¾è®¯äº‘å¯¹è±¡å­˜å‚¨ä½œä¸ºå›¾åºŠ]]></title>
    <url>%2F2018%2F04%2F20%2F%E4%BD%BF%E7%94%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E4%BD%9C%E4%B8%BA%E5%9B%BE%E5%BA%8A%2F</url>
    <content type="text"><![CDATA[å¼€å§‹è…¾è®¯äº‘çš„å¯¹è±¡å­˜å‚¨æ˜¯æœ‰å…è´¹é¢åº¦çš„ï¼Œè€Œä¸”è¿˜ä¸ç®—å°‘ ä¸ƒç‰›äº‘çš„å…è´¹é¢åº¦ç•¥æœ‰ä¸åŒï¼šå†™è¯·æ±‚æ•°ä¸º50ä¸‡æ¬¡æ¯æœˆ æŽ§åˆ¶å°é…ç½®æ³¨æ„æœ‰ä¸¤ä¸ªå…³é”®çš„é…ç½®ä¸èƒ½å¿½ç•¥ å­˜å‚¨æ¡¶ï¼ˆbucketï¼‰è®¿é—®æƒé™ é˜²ç›—é“¾è®¾ç½® è®¿é—®æƒé™è®¿é—®æƒé™åº”è®¾ç½®ä¸ºå…¬æœ‰è¯»ç§æœ‰å†™ã€‚å¾ˆå¥½ç†è§£ï¼Œæˆ‘ä»¬æ˜¯è¦ç”¨COSæ¥åšå›¾åºŠçš„ï¼Œå¿…ç„¶æ˜¯éœ€è¦èŽ·å–æ–‡ä»¶çš„ç›´æŽ¥é“¾æŽ¥æ‰è¡Œï¼Œæ‰€ä»¥ä¸èƒ½åœ¨è¯»å–å›¾ç‰‡çš„æ—¶å€™è®¾ç½®æƒé™ã€‚ æƒé™è®¾ç½®æ–‡æ¡£åœ¨æ­¤ é˜²ç›—é“¾å¦‚æžœè¢«ç›—é“¾ä¼šå¯¼è‡´ä½ çš„å…è´¹é¢åº¦å¯èƒ½ä¼šå¿«ç”¨å°½ï¼Œå› æ­¤é˜²ç›—é“¾ä¹Ÿæ˜¯éœ€è¦è€ƒè™‘çš„ã€‚ä¸‹å›¾ä»¥æˆ‘çš„åšå®¢åœ°å€ä¸ºä¾‹ å¼€å¯ä¹‹åŽå³ä½¿å…¶ä»–äººèŽ·å–åˆ°é“¾æŽ¥ä¹Ÿæ— æ³•è®¿é—®ç›¸åº”å›¾ç‰‡ ä¸Šä¼ å–é“¾ä¸Šä¼ å›¾ç‰‡å®˜æ–¹ä¹Ÿæœ‰æ–‡ä»¶ç®¡ç†è½¯ä»¶COS Browser ï¼Œä¸Šä¼ ä¸‹è½½å›¾ç‰‡è¿˜æ˜¯æŒºæ–¹ä¾¿çš„ã€‚ å½“ç„¶å¦‚æžœè§‰å¾—è¿™æ ·å­è¿˜æ˜¯ä¸å¤Ÿæ–¹ä¾¿çš„è¯ï¼Œå¯ä»¥åŸºäºŽè…¾è®¯äº‘APIè‡ªå·±å¼€å‘åº”ç”¨ èŽ·å–é“¾æŽ¥è¦èŽ·å–å›¾ç‰‡é“¾æŽ¥çš„è¯å³é”®æ–‡ä»¶è¯¦æƒ…å³å¯ã€‚å°†å…¶å¤åˆ¶ä¸‹æ¥å³å¯ä½¿ç”¨ã€‚ æ³¨ï¼šå› ä¸ºå¼€å¯äº†é˜²ç›—é“¾è¿™è®¾ç½®ï¼Œå› æ­¤å½“ä½ åœ¨æœ¬åœ°å†™åšå®¢çš„æ—¶å€™ä¼šå‡ºçŽ°å›¾ç‰‡æ— æ³•é¢„è§ˆçš„æƒ…å†µã€‚å› ä¸ºé˜²ç›—é“¾æœºåˆ¶åªå…è®¸ç™½åå•ä¸­æŒ‡å®šåŸŸåæˆ–IPè®¿é—®ã€‚ä¹Ÿå°±æ˜¯è¯´åªèƒ½åœ¨åšå®¢ä¸­çœ‹ åŽè®°å…³äºŽå›¾åºŠï¼Œå›½å†…å¯ä»¥é€‰æ‹©çš„æœ‰å¾ˆå¤šã€‚ ç½‘ä¸Šæœ‰å¾ˆå¤šä½¿ç”¨å¾®ä¿¡ä»¥åŠå¾®åšæ¥å……å½“å…è´¹å›¾åºŠçš„ã€‚ä½†æ˜¯å¦‚ä½ æ‰€è§ï¼Œå¾®åšå¾®ä¿¡æƒ³åŠ ä¸€ä¸ªé˜²ç›—é“¾æ¥é˜»æ­¢å¤–é“¾è®¿é—®æ˜¯å¾ˆå®¹æ˜“çš„ï¼ŒæŠŠå›¾æ”¾åœ¨é‚£ä¸Šé¢ä¸æ¯«æ²¡æœ‰å®‰å…¨æ„Ÿã€‚ å› æ­¤å¯ä»¥è€ƒè™‘è…¾è®¯äº‘æˆ–è€…é˜¿é‡Œäº‘çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œä¸è¿‡é˜¿é‡Œäº‘å¥½åƒæ²¡æœ‰å…è´¹é¢åº¦ï¼Œå› æ­¤æ²¡æœ‰é€‰ç”¨ã€‚ ä¸ƒç‰›äº‘ä¸Žè…¾è®¯äº‘ç±»ä¼¼ï¼Œéƒ½å¯ä»¥ä½¿ç”¨å…è´¹çš„å¯¹è±¡å­˜å‚¨æœåŠ¡æ¥å……å½“è‡ªå·±çš„å›¾åºŠã€‚ å›½å¤–çš„ä¸€ä¸ªçŸ¥åå›¾åºŠ imgur å®žåœ¨æ˜¯å¯æƒœè¢«å¢™äº†,ä¸ç„¶ç”¨èµ·æ¥è¿˜æ˜¯ååˆ†æ–¹ä¾¿çš„ã€‚]]></content>
      <categories>
        <category>Hexoç›¸å…³</category>
      </categories>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>å›¾åºŠ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»ˆäºŽè£…å¥½Hexoå•¦]]></title>
    <url>%2F2018%2F04%2F19%2F%E7%BB%88%E4%BA%8E%E8%A3%85%E5%A5%BDHexo%E5%95%A6%2F</url>
    <content type="text"><![CDATA[å¤§åŠŸå‘Šæˆï¼æŠ˜è…¾äº†ä¸€å¤©ç»ˆäºŽæŠŠç›¸å†ŒåŠŸèƒ½åŠ ä¸Šå•¦ã€‚ å¾…æˆ‘è€ƒä¸Šç ”ï¼Œä¸€å®šå¥½å¥½ç»´æŠ¤è¿™ä¸ªåšå®¢ï¼ 2018å¹´4æœˆ19æ—¥æ™š12ç‚¹ ç•™ å»ºç«™å‚è€ƒ ä»¥ä¸‹æ˜¯æˆ‘åœ¨æŠ˜è…¾åšå®¢çš„è¿‡ç¨‹ä¸­å¯¹æˆ‘æœ‰å¾ˆå¤§å¸®åŠ©çš„åšæ–‡é“¾æŽ¥ï¼Œåœ¨æ­¤ååˆ†æ„Ÿè°¢ä½œè€…ä»¬çš„åˆ†äº«ã€‚ æ·»åŠ æ–‡ç« ç½®é¡¶2018å¹´4æœˆ29æ—¥ å®Œæˆhexoåšå®¢ä¼˜åŒ–ä¹‹æ–‡ç« ç½®é¡¶+ç½®é¡¶æ ‡ç­¾ ä½œè€…: wangwlj Hexoé«˜çº§æ•™ç¨‹Hexoé«˜çº§æ•™ç¨‹ä¹‹ä¸»é¢˜å¼€å‘ä½œè€…ï¼šJamling IssueåŠŸèƒ½çš„ä½¿ç”¨github issue çš„ç”¨æ³•ä½œè€…ï¼šXiChen å¢žåŠ Gitmentè¯„è®ºç³»ç»ŸHexo-Yiliaä¸­æ·»åŠ gitmentè¯„è®ºåŠŸèƒ½ ä½œè€…ï¼šå¥½å¤§ä¸€æ£µæ ‘ å¢žåŠ æ–‡ç« è®¿é—®ç»Ÿè®¡hexo yilia ä¸»é¢˜æ·»åŠ æ–‡ç« è®¿é—®ç»Ÿè®¡ ä½œè€… æž«ä¹‹æœ¨è½ä½œè€…ï¼šæž«ä¹‹æœ¨è½ åŽŸé“¾æŽ¥ï¼šç»™Hexoåšå®¢æ·»åŠ è®¿é—®ç»Ÿè®¡åŽŸä½œè€…ï¼šå¿ƒå½» å¢žåŠ æ–‡ç« ç‰ˆæƒå£°æ˜Ž åœ¨Hexoä¸­è‡ªåŠ¨ä¸ºYiliaä¸»é¢˜å¢žåŠ ç‰ˆæƒå£°æ˜Ž ä½œè€…ï¼šF!redent å¢žåŠ insç›¸å†Œæ¨¡å—Hexoåšå®¢åˆ›å»ºinsç›¸å†Œæ¨¡å— ä½œè€…ï¼šLuojinghui å¢žåŠ ä¸»é¢˜(Yilia)ä¸€ä¸ªç®€æ´ä¼˜é›…çš„hexoä¸»é¢˜ ä½œè€…ï¼šLitten Bugä¿®å¤ï¼ˆå‘ï¼‰ä¿®å¤é‡æ–°æ‰“åŒ…ä»¥åŽå­æ ‡é¢˜ä¸å±…ä¸­é—®é¢˜ã€‚åŽŸå› ï¼š CSSä¸­èŽ«åå¥‡å¦™ç¼ºå¤±ä¸€ä¸ªå±žæ€§ -webkit-box-orient: vertical;è§£å†³åŠžæ³•ï¼š åœ¨ç”Ÿæˆçš„CSSæ–‡ä»¶ä¸­æ‰¾åˆ° ç›¸åº”ä½ç½®ç²˜ä¸ŠåŽ»å³å¯ã€‚ 2018å¹´4æœˆ29æ—¥ 22ç‚¹24åˆ† è¡¥å……ï¼šCSSæ–‡ä»¶çš„ä½ç½®åœ¨1\themes\yilia\source CSSæ–‡ä»¶åç§°æ¯æ¬¡ç”Ÿæˆéƒ½ä¸ä¸€æ ·ï¼Œä¸€èˆ¬æ˜¯ main.%%%%%%.cssã€‚å¦‚æžœæ–‡ä»¶å¤¹ä¸‹æœ‰å¾ˆå¤šmainå¼€å¤´çš„CSSæ–‡ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥å…¨åˆ æŽ‰é‡æ–°ç”Ÿæˆã€‚è¿™æ ·å°±ä¼šåªæœ‰ä¸€ä¸ªmain.cssäº†ã€‚ æ‰“å¼€ä¹‹åŽå¯èƒ½ä¼šçœ‹åˆ°å¯†å¯†éº»éº»çš„å­—ç¬¦ï¼Œè¿™å› ä¸ºç”Ÿæˆçš„æ—¶å€™å¦‚æžœæ˜¯æ‰§è¡Œçš„ 1npm run dist é‚£ä¹ˆç”Ÿæˆçš„cssæ–‡ä»¶å’Œjsæ–‡ä»¶å…¨éƒ¨éƒ½æ˜¯åŽ‹ç¼©ä»¥åŽçš„ï¼Œå®ƒä»¬çš„æ ¼å¼å…¨éƒ½æ²¡äº†ï¼Œæ‰€ä»¥ä»Žå¤´è¿žåˆ°å°¾ã€‚è¿™æ—¶å€™ä½ éœ€è¦ç”¨ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨çš„æœç´¢åŠŸèƒ½ï¼Œæœç´¢å…³é”®å­— header-subtitle123456789101112.header-subtitle&#123; text-align:center; color:#999; font-size:14px; line-height:25px; overflow:hidden; text-overflow:ellipsis; display:-webkit-box; -webkit-line-clamp:2;/*åœ¨æ­¤è¡ŒåŽé¢æ·»åŠ */ -webkit-box-orient: vertical; padding:0 24px &#125; æ•´ä¸ªCSSæ–‡ä»¶ä¸­æœ‰ä¸¤å¤„éœ€è¦è¿™æ ·æ”¹åŠ¨ï¼Œå› ä¸ºä¸€å¤„å¯¹åº”çš„æ˜¯ æ¡Œé¢ç«¯å¸ƒå±€ç”Ÿæ•ˆã€‚å¦ä¸€å¤„åˆ™æ˜¯ç§»åŠ¨ç«¯ç”Ÿæ•ˆ ä¿®å¤Gitmentåˆå§‹åŒ–Commentå¤±è´¥çš„é—®é¢˜ 2018å¹´4æœˆ21æ—¥20ç‚¹23åˆ†åŽŸå› ï¼š Commentsçš„lableå­—æ•°è¶…è¿‡æœ€å¤§é•¿åº¦ï¼ˆ50ä¸ªå­—ç¬¦ï¼‰è§£å†³åŠžæ³•ï¼š ä½¿ç”¨æ–‡ç« åˆ›å»ºæ—¶é—´å½“labelå°±ä¸ä¼šè¶…é•¿äº†æ·»åŠ Gitmentè¯„è®ºç³»ç»Ÿè¸©è¿‡çš„å‘ä½œè€…ï¼šXiChen æ³¨ï¼šåœ¨Yiliaä¸»é¢˜ä¸­ï¼Œæ˜¯éœ€è¦è¿›å…¥æ­¤è·¯å¾„ä¸‹è¿›è¡Œæ›´æ”¹idçš„ï¼š layout/_partial/post/gitment.ejs é…è‰²æ–¹æ¡ˆè“è‰²ä»£ç ï¼š#00C3FF ï¼ˆ0,195,255ï¼‰ é»„è‰²ä»£ç ï¼š#FFE149ï¼ˆ255,225,73ï¼‰]]></content>
      <categories>
        <category>ä½ å¥½ï¼Œä¸–ç•Œ</category>
      </categories>
      <tags>
        <tag>hexoä¸ªæ€§åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VScode+Sphinx+ReadTheDocsä»ŽçŽ¯å¢ƒæ­å»ºåˆ°æ”¾å¼ƒ]]></title>
    <url>%2F2017%2F12%2F21%2FVScode%2BSphinx%2BReadTheDocs%E4%BB%8E%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%88%B0%E6%94%BE%E5%BC%83%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°æ­¤ç¯‡åšå®¢ç”¨æ¥è®°å½•åœ¨windows10ä¸­é…ç½®çŽ¯å¢ƒçš„è¿‡ç¨‹ï¼Œæ³¨æ„æ˜¯Windowsä¸‹ ï¼Œæˆ‘æ²¡æœ‰åœ¨Linuxä¸‹é¢å°è¯•è¿‡é…ç½®ã€‚ä¸€ä¸‹å‚è€ƒäº†å„è·¯æ•™ç¨‹åŠ ä¸Šè‡ªå·±äº²æµ‹ï¼Œåº”è¯¥æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ â€¦â€¦..è¢«æŽç©º(â—Ž_â—Ž;) ææ–™æ¸…å• Python 3.4 Visual Studio Code Git GitHubä»“åº“ GitHub Desktop å·¥å…·å®‰è£… å®‰è£…Python3.4 å®‰è£…Git å®‰è£…Visual Studio Code å®‰è£…GitHubDesktop æ­£ç¡®å®‰è£…å®Œä¸Šè¿°è½¯ä»¶ä¹‹åŽæŽ¥ä¸‹æ¥è¯´æ˜Žå…·ä½“æ“ä½œï¼š æ‰“å¼€PowerShell è¾“å…¥å‘½ä»¤ï¼š å®‰è£… sphinx1pip install sphinx sphinx-autobuild å®‰è£… restructuredtext-lint1pip install restructuredtext-lint æ³¨ï¼š To Pythonå°ç™½ï¼šå¦‚æžœæ²¡æœ‰æ­£ç¡®çš„å°†Pythonæ·»åŠ åˆ°çŽ¯å¢ƒå˜é‡ï¼Œé‚£ä¹ˆpowerShellæ˜¯ä¸ä¼šè¯†åˆ« pip å‘½ä»¤çš„ã€‚æˆ‘ä¹Ÿæ˜¯ä¸ªPythonå°ç™½å‘µå‘µå‘µ VScodeé…ç½® å®‰è£…æ’ä»¶ reStructuredText å®ƒæä¾›äº†.rstæ–‡ä»¶çš„é¢„è§ˆåŠŸèƒ½ååˆ†ä¾¿æ·ã€‚ å®‰è£…æ’ä»¶ Table Formatter ç”±äºŽreStructuredTextåšè¡¨æ ¼ç‰¹åˆ«éº»çƒ¦ï¼Œè¿™ä¸ªæ’ä»¶å¯ä»¥å¸®åŠ©ä½ åšè¡¨æ ¼ï¼Œåªéœ€è¦æŠŠå…³é”®çš„æ ‡è®°å†™å¯¹ï¼Œå…¶ä½™çš„éƒ½ä¼šè‡ªåŠ¨è¡¥å…¨è€Œä¸”æ•ˆæžœååˆ†ç¾Žè§‚ã€‚ æ³¨æ„ï¼š æ’ä»¶å®‰è£…å®Œæˆä¹‹åŽéœ€è¦ç‚¹å‡»é‡æ–°åŠ è½½æ–¹èƒ½ç”Ÿæ•ˆ To ï¼šVSCodeå°ç™½ æ–°å»ºSphinxé¡¹ç›® æ–°å»ºä¸€ä¸ªç›®å½• æ¯”å¦‚å°±å«ï¼šsphinxtest åœ¨æ­¤ç›®å½•ä¸‹æ‰“å¼€VSCode æ‰“å¼€é›†æˆç»ˆç«¯å¹¶è¾“å…¥å‘½ä»¤ï¼š1sphinx-quickstart è¿‡ç¨‹å¦‚ä¸‹ï¼š åœ¨è¿™ä¹ˆé•¿çš„æµç¨‹ä¸­ï¼Œä¸€èˆ¬æ¥è¯´åªæœ‰ä¸‰é¡¹æ˜¯éœ€è¦ä½ æ‰‹åŠ¨è¾“å…¥çš„ï¼Œå…¶ä½™çš„å‡å¯ä»¥ç›´æŽ¥æ•²Enter Project name: sphinxtestProject ï¼ˆé¡¹ç›®åç§°ï¼‰ Author name(s): Tom ï¼ˆä½œè€…ï¼‰ Project version []: 1.0.1 ï¼ˆé¡¹ç›®ç‰ˆæœ¬ï¼‰ æ³¨é‡Šï¼š æ–‡æ¡£æ ¹ç›®å½•(Root path for the documentation)ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•(.) æ˜¯å¦åˆ†ç¦»æ–‡æ¡£æºä»£ç ä¸Žç”ŸæˆåŽçš„æ–‡æ¡£(Separate source and build directories): y æ¨¡æ¿ä¸Žé™æ€æ–‡ä»¶å­˜æ”¾ç›®å½•å‰ç¼€(Name prefix for templates and static dir):_ é¡¹ç›®åç§°(Project name) : EvaEngine ä½œè€…åç§°(Author name)ï¼šAlloVince é¡¹ç›®ç‰ˆæœ¬(Project version) : 1.0.1 æ–‡æ¡£é»˜è®¤æ‰©å±•å(Source file suffix) : .rst é»˜è®¤é¦–é¡µæ–‡ä»¶å(Name of your master document):index æ˜¯å¦æ·»åŠ epubç›®å½•(Do you want to use the epub builder):n å¯ç”¨autodoc|doctest|intersphinx|todo|coverage|pngmath|ifconfig|viewcodeï¼šn ç”ŸæˆMakefile (Create Makefile)ï¼šy ç”Ÿæˆwindowsç”¨å‘½ä»¤è¡Œ(Create Windows command file):y è¿‡ç¨‹æ‰§è¡Œå®Œæˆ é€‰æ‹© index.rst ä¹‹åŽé€‰æ‹©é¢„è§ˆ æ•ˆæžœå¦‚ä¸‹ï¼š ç„¶è€Œè¿™ä¸ªä¸»é¢˜æˆ‘ä¸ªäººæ„Ÿè§‰ä¸‘çš„ä¸èƒ½ç›´è§† é‚£ä¹ˆæˆ‘ä»¬å°±æ¢ä¸€ä¸ªä¸»é¢˜å§ï¼š é¦–å…ˆæ‰“å¼€ Conf.py å°†åŽŸæœ¬çš„ 1html_theme = &apos;alabaster&apos; æ¢æˆ 1html_theme = &apos;sphinx_rtd_theme&apos; å¦‚å›¾ æŽ¥ç€æ‰“å¼€ç»ˆç«¯ 1pip install sphinx_rtd_theme è¿™æ ·å°±å¥½çœ‹å¤šäº† GitHubé…ç½®å°†åˆšæ‰æ–°å»ºçš„ Shinxtest æ–‡ä»¶å¤¹ Pushåˆ°GitHubä»“åº“ä¸­ï¼Œä½ å¯ä»¥å•ç‹¬ä¸ºå®ƒå»ºç«‹ä¸€ä¸ªä»“åº“ï¼Œä¹Ÿå¯ä»¥å°†å®ƒæ·»åŠ åˆ°ä½ çš„ä¸€ä¸ªé¡¹ç›®ä»“åº“ä¸­ä½œä¸ºé¡¹ç›®æ–‡æ¡£ã€‚æ¯”å¦‚æˆ‘å°±æŠŠå®ƒä½œä¸ºé¡¹ç›®æ–‡æ¡£æ”¾è¿›äº†æˆ‘çš„é¡¹ç›®ä»“åº“é‡Œã€‚ GitHub é‡Œé€‰æ‹©ä»“åº“ï¼Œç„¶åŽä¾æ¬¡ç‚¹å‡» Setting =&gt; Webhooks &amp; Service =&gt; Add service =&gt; ReadTheDocs,æ¿€æ´»è¿™ä¸ªé€‰é¡¹ã€‚ Read The Docs é…ç½®Read The Docs ä¸»è¦æ˜¯ä¸€ä¸ª è¿›å…¥RTDå®˜ç½‘ æ³¨å†Œå¹¶ç™»é™† è¿žæŽ¥GitHub é€‰æ‹©Import a project å¯¼å…¥æˆåŠŸåŽï¼Œç‚¹å‡»é˜…è¯»æ–‡æ¡£ï¼Œä¾¿å¯çœ‹åˆ° Web æ•ˆæžœäº†ã€‚ å®Œæˆåˆ°è¿™é‡Œç®—æ˜¯æˆåŠŸå•¦ï¼Œä½ å¯ä»¥æ‰“å¼€VScode åœ¨æœ¬åœ°å¯¹ æ–‡æ¡£è¿›è¡Œç¼–è¾‘ã€‚ç¼–è¾‘å®Œä¹‹åŽï¼Œç”±äºŽVSCodeå®‰è£…äº†Git æ‰€ä»¥æ”¯æŒå°†æœ¬åœ°åšçš„æ›´æ”¹åŒæ­¥åˆ°GitHubä»“åº“ã€‚å—¯ï¼Œ å•ŠÂ·Â·ç»“æŸï¼ . å‚è€ƒèµ„æ–™[1] http://avnpc.com/pages/writing-best-documentation-by-sphinx-github-readthedocså†™æœ€å¥½çš„æ–‡æ¡£ï¼šSphinx + Read the Docs [2] https://www.jianshu.com/p/78e9e1b8553aå¦‚ä½•ç”¨ ReadtheDocsã€Sphinx å¿«é€Ÿæ­å»ºå†™ä¹¦çŽ¯å¢ƒ[3] http://www.sphinx-doc.org/en/stable/config.htmlThe build configuration file[4] https://github.com/vscode-restructuredtext/vscode-restructuredtext/blob/master/docs/sphinx.mdvscode-restructuredtext/vscode-restructuredtext]]></content>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>VScode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ESP32-DevKitC å…¥é—¨æŒ‡å—ï¼ˆè¯‘ï¼‰]]></title>
    <url>%2F2017%2F12%2F14%2FESP32-DevKitC-%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97%EF%BC%88%E8%AF%91%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ESP32-DevKitC å…¥é—¨æŒ‡å—è¿™ç¯‡æŒ‡å—å±•ç¤ºäº†å¦‚ä½•å…¥é—¨ESP32-DevKitC å¼€å‘æ¿ éœ€è¦ 1 Ã— ESP32-DevKitC å¼€å‘æ¿ 1 Ã— micro USB æ•°æ®çº¿ 1 Ã— è£…æœ‰ Windows,Linuxæˆ– Mac OSçš„ç”µè„‘ æ¦‚è¿°ESP32-DevKitC æ˜¯ä¸€ä¸ªç”±ä¹é‘«å…¬å¸ï¼ˆEspressifï¼‰ç”Ÿäº§çš„çš„å°åž‹ESP32å¼€å‘æ¿ã€‚å¤§éƒ¨åˆ†I/Oå¼•è„šç”±ä¸¤ä¾§æŽ’é’ˆå¼•å‡ºä»¥ä¾¿äºŽè¿žæŽ¥ã€‚å¼€å‘è€…å¯ä»¥æ ¹æ®éœ€è¦ï¼ˆas neededï¼‰å°†è¿™äº›å¼•è„šè¿žæŽ¥åˆ°å¤–å›´è®¾å¤‡ã€‚å½“ä½¿ç”¨é¢åŒ…æ¿æ—¶ï¼Œæ ‡å‡†åŒ–çš„æŽ’é’ˆä¹Ÿä»¤å¼€å‘å˜å¾—å®¹æ˜“ä¸”æ–¹ä¾¿ã€‚ åŠŸèƒ½è¯´æ˜Žä»¥ä¸‹åˆ—è¡¨å’Œå›¾è¡¨ä»‹ç»äº†ESP32-DevKitCæ¿çš„å…³é”®ç»„ä»¶ã€æŽ¥å£å’ŒæŽ§åˆ¶ ESP-WROOM-32æ ‡å‡†ESP-WROOM-32 æ¨¡å—ç„ŠæŽ¥åœ¨ESP32-DevKitC æ¿ ENé‡ç½®æŒ‰é’®ï¼šæŒ‰ä¸‹æ­¤æŒ‰é’®å¯ä»¥é‡ç½®ç³»ç»Ÿ Bootä¸‹è½½æŒ‰é’®ï¼šæŒ‰ä½BootæŒ‰é’®å¹¶æŒ‰ä¸‹ENæŒ‰é’®åˆå§‹åŒ–å›ºä»¶ä¸‹è½½æ¨¡å¼ã€‚ç„¶åŽç”¨æˆ·å¯ä»¥é€šè¿‡ä¸²å£ä¸‹è½½å›ºä»¶ã€‚ USBUSBæŽ¥å£ã€‚æ˜¯ç»™æ¿å­ä¾›ç”µä»¥åŠESP-WROOM-32ä¸ŽPCé€šä¿¡çš„æŽ¥å£ã€‚ I/OESP-WROOM-32çš„å¤§éƒ¨åˆ†I/Oå¼•è„šå·²ç”±æ¿ä¸Šçš„ä¸¤ä¾§æŽ’é’ˆå¼•å‡ºã€‚ç”¨æˆ·å¯ä»¥å¯¹ESP32è¿›è¡Œç¼–ç¨‹æ¥å®žçŽ°å„ç§åŠŸèƒ½ï¼Œæ¯”å¦‚PWM,ADC,DAC,I2C,I2S,SPI,etcã€‚ Esp32-DevKitC å¼€å‘æ¿å¸ƒå±€ ä¾›ç”µé…ç½®ä»¥ä¸‹é€‰é¡¹å¯ä»¥ç»™ESP32-PICO-KIT V4 ä¾›ç”µï¼š Micro USB å£ã€‚æ­¤ä¸ºé»˜è®¤çš„ä¾›ç”µè¿žæŽ¥ 5V/GND é’ˆè„š 3V3/GND é’ˆè„š è­¦å‘Šï¼šä»¥ä¸Šé€‰é¡¹æ˜¯äº’æ–¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¾›ç”µæ–¹å¼åªèƒ½æ˜¯ä»¥ä¸Šå…¶ä¸­ä¸€ç§ã€‚å°è¯•åŒæ—¶ä½¿ç”¨å¤šç§è¿žæŽ¥æ–¹å¼ç»™æ¿å­ä¾›ç”µå¯èƒ½ä¼šæŸåå¼€å‘æ¿æˆ–è€…ç”µæºã€‚ å¼€å§‹ç¼–ç¨‹åœ¨ç»™ESP32-DevKitC ä¸Šç”µä¹‹å‰ï¼Œè¯·ç¡®ä¿æ¿å­å®Œå¥½å¹¶æ²¡æœ‰æ˜Žæ˜¾çš„æŸåè¿¹è±¡ã€‚è¦å¼€å§‹è¿›è¡Œåº”ç”¨å¼€å‘ï¼Œè·³è½¬åˆ°Get Started èŠ‚ï¼Œè¿™å°†æŒ‡å¯¼ä½ è¿›è¡Œä¸€ä¸‹å‡ æ­¥ï¼š åœ¨ç”µè„‘ä¸Šå®‰è£…è¿žæŽ¥å·¥å…·ï¼Œä½¿ç”¨Cè¯­è¨€ç»™ESP32å¼€å‘åº”ç”¨ å°†æ¨¡å—è¿žæŽ¥åˆ°ç”µè„‘å¹¶éªŒè¯æ˜¯å¦å¯ç”¨ ç»™ESP32åˆ·å…¥ç¤ºä¾‹ç¨‹åº ç›‘è§†åº”ç”¨åœ¨åšä»€ä¹ˆ å…ˆå å‘ æœ‰ç©ºç¿»å…¶ä»–çš„]]></content>
      <categories>
        <category>IoT</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽåŽç¡•ç¬”è®°æœ¬A400Uè¿›PEï¼Œæ”¹å¼€æœºå¯†ç ï¼Œç¡¬ç›˜æ— æ³•è¯†åˆ«çš„ç¬”è®°]]></title>
    <url>%2F2017%2F10%2F10%2F%E5%85%B3%E4%BA%8E%E5%8D%8E%E7%A1%95%E7%AC%94%E8%AE%B0%E6%9C%ACA400U%E8%BF%9BPE%EF%BC%8C%E6%94%B9%E5%BC%80%E6%9C%BA%E5%AF%86%E7%A0%81%EF%BC%8C%E7%A1%AC%E7%9B%98%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%AB%E7%9A%84%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[æœ‹å‹çš„ç¬”è®°æœ¬ç”µè„‘å¿˜äº†å¼€æœºå¯†ç ï¼Œè®©æˆ‘ç»™æƒ³æƒ³åŠžæ³•ã€‚æˆ‘æŸ¥äº†å·²æœ‰çš„ç™¾åº¦ç»éªŒï¼Œä½†æ˜¯è¿‡ç¨‹å´ä¸€æ³¢ä¸‰æŠ˜ã€‚ä¸»è¦é—®é¢˜æœ‰ï¼šæ— æ³•è¯†åˆ«Uç›˜ï¼ŒPEç³»ç»Ÿï¼ˆwin8peï¼‰æ— æ³•è¯†åˆ«ç¡¬ç›˜;æ‰€ä»¥æˆ‘æ‰“ç®—è®°å½•ä¸‹æ¥ã€‚æ‰€éœ€å·¥å…·ï¼š1.å¤§ç™½èœUç›˜å¯åŠ¨ç›˜åˆ¶ä½œå·¥å…·ï¼ˆæˆ‘ç”¨çš„æ˜¯è£…æœºç‰ˆï¼‰2.Uç›˜ ç¬¬1æ­¥ åˆ¶ä½œUç›˜å¯åŠ¨ç›˜ç•¥ï¼ˆå‚è§å¤§ç™½èœå®˜ç½‘æ•™ç¨‹ï¼‰ ç¬¬2æ­¥ é‡å¯ç”µè„‘ è¿›å…¥BIOS é€‰æ‹©Advanced modeè¿›å…¥Biosçš„æ–¹æ³•æ˜¯æŒ‰ä¸‹ç”µæºé”®ä¹‹åŽç‹‚ç‚¹ ESCé”® ç›´åˆ°å‡ºçŽ°Booté€‰é¡¹ï¼Œç„¶åŽé€‰æ‹©Enter Setupå³å¯ ç¬¬3æ­¥ é€‰æ‹©Advanceï¼Œç‚¹å‡»SATA configuration ç¬¬4æ­¥ SATA Modeæ”¹ä¸ºAHCI ç¬¬5æ­¥ å¦‚å›¾ é€‰æ‹©Secure Boot ç¬¬6æ­¥ å¦‚å›¾ å°† secure boot controlæ”¹ä¸º Disable ç¬¬7æ­¥ å¦‚å›¾ å°†CSMæ”¹ä¸º Enable ç¬¬8æ­¥ å¦‚å›¾ ä¿å­˜å¹¶é€€å‡º ç¬¬9æ­¥ æ’å…¥Uç›˜ é‡å¯ç”µè„‘ä»ŽUç›˜å¯åŠ¨å¦‚å›¾ï¼Œé€‰æ‹©ç®­å¤´æ‰€æŒ‡çš„é‚£ä¸€é•¿ä¸²ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªæ˜¯æ­£å¸¸ä»Žç¡¬ç›˜å¯åŠ¨ã€‚å¦‚æžœé€‰æ‹©ä½ çš„Uç›˜åçš„è¯ä¼šä¸€ç›´é»‘å±ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆ ç¬¬10æ­¥ å¦‚å›¾ å¦‚å›¾å¯ä»¥é‡ç½®windowså¼€æœºå¯†ç  å¼‚å¸¸æƒ…å†µ ï¼šç¡¬ç›˜æ— æ³•è¯†åˆ«åŽŸå› å°±æ˜¯æ²¡æœ‰è¿›è¡Œç¬¬4æ­¥çš„æ“ä½œ åˆ°æ­¤ç»“æŸ]]></content>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>ä¿®ç”µè„‘2333</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UWPåº”ç”¨èŽ·å–HTTPè¯·æ±‚è¿”å›žçš„MP3éŸ³é¢‘æ–‡ä»¶ï¼ˆä»¥ç™¾åº¦è¯­éŸ³åˆæˆAPIä¸ºä¾‹ï¼‰]]></title>
    <url>%2F2017%2F09%2F03%2FUWP%E5%BA%94%E7%94%A8%E8%8E%B7%E5%8F%96HTTP%E8%AF%B7%E6%B1%82%E8%BF%94%E5%9B%9E%E7%9A%84MP3%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6%EF%BC%88%E4%BB%A5%E7%99%BE%E5%BA%A6%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90API%E4%B8%BA%E4%BE%8B%EF%BC%89%2F</url>
    <content type="text"><![CDATA[èŽ·å–HTTPè¯·æ±‚è¿”å›žçš„MP3éŸ³é¢‘æ–‡ä»¶ï¼ˆä»¥ç™¾åº¦è¯­éŸ³åˆæˆAPIä¸ºä¾‹ï¼‰ä½¿ç”¨ç™¾åº¦è¯­éŸ³åˆæˆAPIæ—¶ï¼Œä¸Žä½¿ç”¨äººè„¸è¯†åˆ«APIçš„æœ€å¤§ä¸åŒä¹‹å¤„åœ¨äºŽï¼šäººè„¸è¯†åˆ«APIè¿”å›žç»“æžœå‡ä¸ºJSONæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œè€Œè¯­éŸ³åˆæˆAPIåˆ™æ˜¯è¿”å›žçš„äºŒè¿›åˆ¶è¯­éŸ³æ–‡ä»¶ã€‚å› æ­¤åœ¨ä»£ç çš„ç¼–å†™ä¸Šæœ‰å¾ˆå¤§çš„ä¸åŒã€‚åœ¨æ­¤ä¹‹å‰æˆ‘ä¹Ÿä¸Šç½‘æŸ¥äº†å¥½å¤šï¼Œä½†æ˜¯æ²¡æœ‰é’ˆå¯¹UWPçš„ç¤ºä¾‹ï¼Œç»è¿‡ä¸€ç•ªæ‘¸ç´¢ç®—æ˜¯æ‰¾åˆ°äº†å¯ä»¥ç”¨çš„åŠžæ³• (ï½žï¿£â–½ï¿£)ï½žä¸‹é¢ç›´æŽ¥å†™å‡ºæ ¸å¿ƒä»£ç ä»¥ä¾›æ¥æ—¥å¤ä¹ å‚è€ƒã€‚æ³¨ï¼šç¤ºä¾‹ä»£ç å‡æ˜¯ä»Žuwpé¡¹ç›®ä¸­æˆªå–çš„ï¼Œä¿ç•™äº†å¼‚æ­¥ç”¨æ³•ï¼Œä¸æ¸…æ¥šçš„è¯å¯ä»¥å¤§è‡´å…ˆäº†è§£ä¸€ä¸‹å¼‚æ­¥ç¼–ç¨‹ã€‚ä½¿ç”¨åˆ°çš„å‘½åç©ºé—´ï¼š12345using Windows.Web.Http;//HttpClientæ‰€å±žusing System.Threading.Tasks;//Taskæ‰€å±žusing Windows.Storage.Streams;//IBufferæ‰€å±žusing Windows.Media.Playback;//MediaPlayeræ‰€å±žusing Windows.Media.Core;//MediaSourceæ‰€å±ž è¿™æ˜¯è¯·æ±‚çš„å‚æ•°åˆ—è¡¨ï¼š123456789101112List&lt;KeyValuePair&lt;String, String&gt;&gt; paralist = new List&lt;KeyValuePair&lt;string, string&gt;&gt; &#123; new KeyValuePair&lt;string, string&gt;("tex",tex_seting), new KeyValuePair&lt;string, string&gt;("lan",lan_setting), new KeyValuePair&lt;string, string&gt;("tok",access_Token), new KeyValuePair&lt;string, string&gt;("ctp",ctp_setting), new KeyValuePair&lt;string, string&gt;("cuid","cuid"), new KeyValuePair&lt;string, string&gt;("spd",spd_setting), new KeyValuePair&lt;string, string&gt;("pit",pit_setting), new KeyValuePair&lt;string, string&gt;("vol",vol_setting), new KeyValuePair&lt;string, string&gt;("per",per_setting) &#125;; èŽ·å–content å†…å®¹ï¼š12345678910private async Task&lt;IBuffer&gt; GetTtsResultAsync(string url, List&lt;KeyValuePair&lt;String, String&gt;&gt; list)// èŽ·å–æ–‡ä»¶ &#123; HttpClient hc = new HttpClient(); using (var content = new HttpFormUrlEncodedContent(list)) &#123; var response = await hc.PostAsync(new Uri(url), content); IBuffer buffer = await response.Content.ReadAsBufferAsync(); return buffer; &#125; &#125; æ­¤å¤„çš„å…³é”®ç‚¹åœ¨äºŽ ä½¿ç”¨1ReadAsBufferAsync() æ¥å°†contentä¸­çš„å†…å®¹è¯»å–ä¸º IBuffer 12345678910111213private async void PlayAudio(IBuffer result)//æœ€ç»ˆæ’­æ”¾éŸ³é¢‘ &#123; folder = await KnownFolders.MusicLibrary.CreateFolderAsync("Greeting", CreationCollisionOption.ReplaceExisting);//åˆ›å»ºæ–‡ä»¶å¤¹ StorageFile x = await folder.CreateFileAsync("è¯­éŸ³æ–‡ä»¶.mp3", CreationCollisionOption.ReplaceExisting);//åˆ›å»ºæ–‡ä»¶ StorageFile storageFile = await folder.GetFileAsync("è¯­éŸ³æ–‡ä»¶.mp3"); await FileIO.WriteBufferAsync(storageFile, result);//ä»Žç¼“å†²å†™å…¥æ–‡ä»¶ // storageFile = await folder.GetFileAsync("è¯­éŸ³æ–‡ä»¶.mp3"); MediaPlayer _mediaPlayer = new MediaPlayer(); _mediaPlayer.Source = MediaSource.CreateFromStorageFile(storageFile); _mediaPlayer.Play(); &#125; å°†contentä¸­çš„å†…å®¹è¯»å–ä¸ºç¼“å†²ç±»åž‹ä¹‹åŽï¼Œåœ¨å†™å…¥æ–‡ä»¶æ—¶å°±å¯ä»¥ä½¿ç”¨1FileIO.WriteBufferAsync() æ–¹æ³•æ¥å°†æ•°æ®ä»Žç¼“å†²åŒºå†™å…¥æ–‡ä»¶äº†ã€‚å› ä¸ºæ­¤å¤„ä¸ºmp3æ ¼å¼ï¼Œæ‰€ä»¥åœ¨åˆ›å»ºæ–‡ä»¶æ—¶ï¼Œéœ€è¦åŠ ä¸ŠåŽç¼€å.mp3 1StorageFile x = await folder.CreateFileAsync("è¯­éŸ³æ–‡ä»¶.mp3", CreationCollisionOption.ReplaceExisting); å…¶ä»–èŽ·å–å…¶ä»–ç±»åž‹çš„æ–‡ä»¶ä¹Ÿå¯ä»¥åŒç†å§ :-)]]></content>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>UWP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•å…è´¹èŽ·å–windows10å¼€å‘è€…è´¦æˆ·ï¼ˆä¸ªäººï¼‰]]></title>
    <url>%2F2017%2F08%2F31%2F%E5%A6%82%E4%BD%95%E5%85%8D%E8%B4%B9%E8%8E%B7%E5%8F%96windows10%E5%BC%80%E5%8F%91%E8%80%85%E8%B4%A6%E6%88%B7%EF%BC%88%E4%B8%AA%E4%BA%BA%EF%BC%89%2F</url>
    <content type="text"><![CDATA[å…è´¹èŽ·å– windows10 å¼€å‘è€…è´¦æˆ·ï¼ˆä¸ªäººï¼‰å› ä¸ºè¦å­¦ä¹ å¼€å‘uwpåº”ç”¨çš„ç¼˜æ•…ï¼Œæ‰€ä»¥ä¸å¾—ä¸æ³¨å†Œä¸€ä¸ªwindows10çš„å¼€å‘è€…è´¦æˆ·ã€‚ä½†æ˜¯èƒ–è™Žçœ‰å¤´ä¸€çš±å‘çŽ°æ­¤äº‹å¹¶ä¸ç®€å•ã€‚é¦–å…ˆï¼Œæœ‰å¾®è½¯çš„è´¦æˆ·ä¸ä»£è¡¨å°±æœ‰å¼€å‘è€…è´¦æˆ·ï¼Œä¸¤è€…å¹¶ä¸æ˜¯ä¸€å›žäº‹å„¿ï¼Œåªæ€ªå½“åˆå¾ˆå‚»å¾ˆå¤©çœŸï¼›å…¶æ¬¡ï¼Œå¼€å‘è€…è´¦æˆ·å¹¶ä¸æ˜¯freeçš„ï¼Œä¸ªäººç‰ˆè¦èŠ±116CNYï¼ˆäººæ°‘å¸ï¼Ÿï¼‰ï¼Œä¼ä¸šç‰ˆéœ€è¦600CNYï¼›å†è€…ï¼Œå°±ç®—è¦è´­ä¹°ï¼Œå±…ç„¶ä¹Ÿåªèƒ½ä½¿ç”¨ä¿¡ç”¨å¡ä»˜æ¬¾ï¼Œ[å›¾ç‰‡]ï¼Œç„¶è€Œæˆ‘åªæœ‰Alipayã€‚ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šåˆ©ç”¨å­¦æ ¡é‚®ç®±èŽ·å–å…è´¹æ³¨å†Œç çš„æ–¹æ³•äº†ï¼Œåªæ˜¯å®ƒä»¬çš„å‘å¸ƒæ—¶é—´å·²ç»å¾ˆæ—©äº†ï¼Œ Dream Spark ç½‘ç«™ä¹Ÿå·²ç»æ”¹ç‰ˆã€‚æˆ‘è¿™ç¯‡åšå®¢ç®—æ˜¯å†™ä¸€ä¸ªæ–°ç‰ˆçš„å§ã€‚ å¼€å§‹å‰çš„å‡†å¤‡ å¯ç”¨çš„å¾®è½¯è´¦æˆ· å­¦ç”Ÿå¼€å‘äººå‘˜å·¥å…·,èµ„æºå’Œä½“éªŒ | Imagine Windows å¼€å‘äººå‘˜ä¸­å¿ƒ å¯ç”¨çš„æ ¡å›­é‚®ç®± æ¯”å¦‚ï¼š abc@å­¦æ ¡æ ¡å.edu.cn ï¼šè¿™ä¸ªä¸å¤ªå¥½å¼„ï¼Œè§†å…·ä½“å­¦æ ¡æƒ…å†µè€Œå®šï¼Œå¦‚æžœæœ¬æ ¡åœ¨æ ¡ç”Ÿä¸å…è®¸æ³¨å†Œæ ¡å›­é‚®ç®±ï¼ˆåœ¨æˆ‘ä»¬å­¦æ ¡æ ¡å›­é‚®ç®±åªèƒ½æ•™èŒå·¥æ³¨å†Œï¼Œå­¦ç”Ÿæ ¹æœ¬ä¸ç»™æ³¨å†Œçš„ï¼‰ï¼Œå¯ä»¥å€Ÿç”¨å…¶ä»–å­¦æ ¡åŒå­¦çš„å­¦æ ¡é‚®ç®±æ¥ç”¨ã€‚å…¶å®žä¸ç®¡æ˜¯ä¸æ˜¯å­¦ç”Ÿï¼Œåªè¦æœ‰å­¦æ ¡é‚®ç®±å°±å¯ä»¥è¿›è¡Œå­¦ç”Ÿè®¤è¯çš„ï¼Œä½ ä½¿ç”¨çš„é‚®ç®±æ‰€å±žçš„å­¦æ ¡ä¸Žä½ å¡«å†™çš„å­¦æ ¡ä¿¡æ¯ç”šè‡³å¯ä»¥ä¸åŒï¼Œè¿™æ˜¯äº²æµ‹ï¼Œæˆ‘å°±æ˜¯è¿™æ ·å­ã€‚ æ­¥éª¤1.èŽ·å–æ³¨å†Œä»£ç  ä½¿ç”¨å¾®è½¯è´¦æˆ·ç™»å½• Imagine å¡«å†™ä¸ªäººä»¥åŠå­¦æ ¡ä¿¡æ¯ é€‰æ‹©å­¦ç”ŸéªŒè¯æ–¹å¼ ç™»å½•å­¦æ ¡é‚®ç®±æŽ¥æ”¶éªŒè¯é‚®ä»¶ å®ŒæˆéªŒè¯ å›žåˆ°ä¸»é¡µç‚¹å‡»å¯¼èˆªæ ä¸­çš„ä¸‹è½½â†’è½¯ä»¶ç›®å½• æ‰¾åˆ°å¦‚å›¾æ ç›®ï¼š ä¸‹é¢æœ‰ä¼ é€é—¨èŽ·å–windowsåº”ç”¨å•†åº—ä»£ç  æ­¥éª¤2.æ³¨å†Œå¼€å‘è€…è´¦æˆ· è¿›å…¥å¼€å‘äººå‘˜ä¸­å¿ƒ ç™»å½•åŽç‚¹å‡»æ³¨å†Œä¼ é€é—¨ï¼šæ³¨å†Œæˆä¸ºåº”ç”¨å¼€å‘äººå‘˜ å¡«å†™è¡¨æ ¼ ï¼Œè´¦æˆ·ç±»åž‹å½“ç„¶æ˜¯é€‰æ‹©ä¸ªäºº ç²˜è´´ä»£ç  å®Œæˆå–½]]></content>
      <categories>
        <category>æ‚è´§é“º</category>
      </categories>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[windows10IoT+æ ‘èŽ“æ´¾å®˜æ–¹æ‘„åƒå¤´ï¼ˆPi Camaraï¼‰ == æš‚æ—¶æ— è§£]]></title>
    <url>%2F2017%2F06%2F29%2Fwindows10IoT%2B%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%98%E6%96%B9%E6%91%84%E5%83%8F%E5%A4%B4%EF%BC%88Pi-Camara%EF%BC%89-%3D%3D-%E6%9A%82%E6%97%B6%E6%97%A0%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[æš‚ä¸è¦ä½¿ç”¨windows10IoT+æ ‘èŽ“æ´¾å®˜æ–¹æ‘„åƒå¤´åŽŸå› å¦‚å›¾ï¼š ä¸»è¦æ„æ€å°±æ˜¯ï¼Œç”±äºŽPi Camaraæ˜¯é€šè¿‡GPUå­ç³»ç»Ÿè¿žæŽ¥åˆ°ç³»ç»Ÿçš„ï¼Œä½†æ˜¯æ“ä½œç³»ç»Ÿå¹¶ä¸æ”¯æŒè¿™ç§è¿žæŽ¥ï¼Œå®˜æ–¹è¿˜ä¸èƒ½ç»™å‡ºä»»ä½•è§£å†³åŠžæ³•ã€‚ä½†æ˜¯å°†æ¥ä¼šæ”¯æŒçš„ã€‚è¿™æ˜¯win10IoTå®˜æ–¹å¼€å‘å›¢é˜Ÿåšå‡ºçš„å›žå¤æ‰€ä»¥åªèƒ½é€‰æ‹©åŽŸè°…ä»–äº†Â·Â·Â·Â·å“‡Â·Â·Â·çœŸå‘Â·Â·Â·Â· è¯¦æƒ…ç‚¹å‡»ï¼šMSDNåŽŸæ–‡é“¾æŽ¥]]></content>
      <categories>
        <category>æ ‘èŽ“æ´¾</category>
        <category>IoT</category>
      </categories>
      <tags>
        <tag>åŽŸåˆ›</tag>
        <tag>æ ‘èŽ“æ´¾</tag>
        <tag>windows10Iot</tag>
      </tags>
  </entry>
</search>
